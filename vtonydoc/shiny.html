<!DOCTYPE html>
<html >

<head>

  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <title>8 SHINY | The Predictive Ecosystem Analyzer</title>
  <meta name="description" content="8 SHINY | The Predictive Ecosystem Analyzer">
  <meta name="generator" content="bookdown  and GitBook 2.6.7">

  <meta property="og:title" content="8 SHINY | The Predictive Ecosystem Analyzer" />
  <meta property="og:type" content="book" />
  
  
  
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="8 SHINY | The Predictive Ecosystem Analyzer" />
  
  
  

<meta name="author" content="By: PEcAn Team">


<meta name="date" content="2019-02-13">

  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black">
  
  
<link rel="prev" href="available-meteorological-drivers.html">
<link rel="next" href="faq.html">
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />







<script src="libs/htmlwidgets-1.3/htmlwidgets.js"></script>
<link href="libs/datatables-css-0.0.0/datatables-crosstalk.css" rel="stylesheet" />
<script src="libs/datatables-binding-0.5/datatables.js"></script>
<link href="libs/dt-core-1.10.16/css/jquery.dataTables.min.css" rel="stylesheet" />
<link href="libs/dt-core-1.10.16/css/jquery.dataTables.extra.css" rel="stylesheet" />
<script src="libs/dt-core-1.10.16/js/jquery.dataTables.min.js"></script>
<link href="libs/dt-ext-fixedcolumns-1.10.16/css/fixedColumns.dataTables.min.css" rel="stylesheet" />
<script src="libs/dt-ext-fixedcolumns-1.10.16/js/dataTables.fixedColumns.min.js"></script>
<script src="libs/jszip-1.10.16/jszip.min.js"></script>
<script src="libs/pdfmake-1.10.16/pdfmake.min.js"></script>
<script src="libs/pdfmake-1.10.16/vfs_fonts.js"></script>
<link href="libs/dt-ext-buttons-1.10.16/css/buttons.dataTables.min.css" rel="stylesheet" />
<script src="libs/dt-ext-buttons-1.10.16/js/dataTables.buttons.min.js"></script>
<script src="libs/dt-ext-buttons-1.10.16/js/buttons.flash.min.js"></script>
<script src="libs/dt-ext-buttons-1.10.16/js/buttons.html5.min.js"></script>
<script src="libs/dt-ext-buttons-1.10.16/js/buttons.colVis.min.js"></script>
<script src="libs/dt-ext-buttons-1.10.16/js/buttons.print.min.js"></script>
<link href="libs/crosstalk-1.0.0/css/crosstalk.css" rel="stylesheet" />
<script src="libs/crosstalk-1.0.0/js/crosstalk.min.js"></script>


<style type="text/css">
a.sourceLine { display: inline-block; line-height: 1.25; }
a.sourceLine { pointer-events: none; color: inherit; text-decoration: inherit; }
a.sourceLine:empty { height: 1.2em; position: absolute; }
.sourceCode { overflow: visible; }
code.sourceCode { white-space: pre; position: relative; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
code.sourceCode { white-space: pre-wrap; }
a.sourceLine { text-indent: -1em; padding-left: 1em; }
}
pre.numberSource a.sourceLine
  { position: relative; }
pre.numberSource a.sourceLine:empty
  { position: absolute; }
pre.numberSource a.sourceLine::before
  { content: attr(data-line-number);
    position: absolute; left: -5em; text-align: right; vertical-align: baseline;
    border: none; pointer-events: all;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {  }
@media screen {
a.sourceLine::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>Welcome</a></li>
<li class="chapter" data-level="1" data-path="introduction.html"><a href="introduction.html"><i class="fa fa-check"></i><b>1</b> Introduction</a><ul>
<li class="chapter" data-level="1.1" data-path="introduction.html"><a href="introduction.html#project-overview"><i class="fa fa-check"></i><b>1.1</b> Project Overview</a></li>
<li class="chapter" data-level="1.2" data-path="introduction.html"><a href="introduction.html#contributor-covenant-code-of-conduct"><i class="fa fa-check"></i><b>1.2</b> Contributor Covenant Code of Conduct</a></li>
<li class="chapter" data-level="1.3" data-path="introduction.html"><a href="introduction.html#about-the-pecan-book"><i class="fa fa-check"></i><b>1.3</b> About the PEcAn Book</a><ul>
<li class="chapter" data-level="1.3.1" data-path="introduction.html"><a href="introduction.html#general-feedbackcommentssuggestions"><i class="fa fa-check"></i><b>1.3.1</b> General Feedback/Comments/Suggestions</a></li>
</ul></li>
<li class="chapter" data-level="1.4" data-path="introduction.html"><a href="introduction.html#bookediting"><i class="fa fa-check"></i><b>1.4</b> Editing this book</a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="tutorialsdemos-and-how-tos.html"><a href="tutorialsdemos-and-how-tos.html"><i class="fa fa-check"></i><b>2</b> Tutorials,Demos and How To’s</a><ul>
<li class="chapter" data-level="2.1" data-path="tutorialsdemos-and-how-tos.html"><a href="tutorialsdemos-and-how-tos.html#pecan-manual-setup"><i class="fa fa-check"></i><b>2.1</b> Install PEcAn</a></li>
<li class="chapter" data-level="2.2" data-path="tutorialsdemos-and-how-tos.html"><a href="tutorialsdemos-and-how-tos.html#pecanvm"><i class="fa fa-check"></i><b>2.2</b> PEcAn Virtual Machine</a><ul>
<li class="chapter" data-level="2.2.1" data-path="tutorialsdemos-and-how-tos.html"><a href="tutorialsdemos-and-how-tos.html#maintaining-your-pecan-vm"><i class="fa fa-check"></i><b>2.2.1</b> Maintaining your PEcAn VM</a></li>
<li class="chapter" data-level="2.2.2" data-path="tutorialsdemos-and-how-tos.html"><a href="tutorialsdemos-and-how-tos.html#working-with-the-vm"><i class="fa fa-check"></i><b>2.2.2</b> Working with the VM</a></li>
<li class="chapter" data-level="2.2.3" data-path="tutorialsdemos-and-how-tos.html"><a href="tutorialsdemos-and-how-tos.html#awsvm"><i class="fa fa-check"></i><b>2.2.3</b> Using Amazon Web Services for a VM (AWS)</a></li>
<li class="chapter" data-level="2.2.4" data-path="tutorialsdemos-and-how-tos.html"><a href="tutorialsdemos-and-how-tos.html#createvm"><i class="fa fa-check"></i><b>2.2.4</b> Creating a Virtual Machine</a></li>
<li class="chapter" data-level="2.2.5" data-path="tutorialsdemos-and-how-tos.html"><a href="tutorialsdemos-and-how-tos.html#vm-desktop-conversion"><i class="fa fa-check"></i><b>2.2.5</b> VM Desktop Conversion</a></li>
</ul></li>
<li class="chapter" data-level="2.3" data-path="tutorialsdemos-and-how-tos.html"><a href="tutorialsdemos-and-how-tos.html#docker-index"><i class="fa fa-check"></i><b>2.3</b> Docker</a><ul>
<li class="chapter" data-level="2.3.1" data-path="tutorialsdemos-and-how-tos.html"><a href="tutorialsdemos-and-how-tos.html#docker-intro"><i class="fa fa-check"></i><b>2.3.1</b> Introduction to Docker?</a></li>
<li class="chapter" data-level="2.3.2" data-path="tutorialsdemos-and-how-tos.html"><a href="tutorialsdemos-and-how-tos.html#working-with-docker"><i class="fa fa-check"></i><b>2.3.2</b> Working with Docker</a></li>
<li class="chapter" data-level="2.3.3" data-path="tutorialsdemos-and-how-tos.html"><a href="tutorialsdemos-and-how-tos.html#docker-compose"><i class="fa fa-check"></i><b>2.3.3</b> <code>docker-compose</code></a></li>
<li class="chapter" data-level="2.3.4" data-path="tutorialsdemos-and-how-tos.html"><a href="tutorialsdemos-and-how-tos.html#docker-quickstart"><i class="fa fa-check"></i><b>2.3.4</b> Quickstart for Docker and PEcAn</a></li>
<li class="chapter" data-level="2.3.5" data-path="tutorialsdemos-and-how-tos.html"><a href="tutorialsdemos-and-how-tos.html#pecan-docker"><i class="fa fa-check"></i><b>2.3.5</b> PEcAn Docker Architecture</a></li>
<li class="chapter" data-level="2.3.6" data-path="tutorialsdemos-and-how-tos.html"><a href="tutorialsdemos-and-how-tos.html#model-docker"><i class="fa fa-check"></i><b>2.3.6</b> Models using Docker</a></li>
<li class="chapter" data-level="2.3.7" data-path="tutorialsdemos-and-how-tos.html"><a href="tutorialsdemos-and-how-tos.html#docker-build-images"><i class="fa fa-check"></i><b>2.3.7</b> Building and modifying images</a></li>
<li class="chapter" data-level="2.3.8" data-path="tutorialsdemos-and-how-tos.html"><a href="tutorialsdemos-and-how-tos.html#docker-troubleshooting"><i class="fa fa-check"></i><b>2.3.8</b> Troubleshooting Docker</a></li>
</ul></li>
<li class="chapter" data-level="2.4" data-path="tutorialsdemos-and-how-tos.html"><a href="tutorialsdemos-and-how-tos.html#docker-migrate"><i class="fa fa-check"></i><b>2.4</b> Migrating PEcAn from VM to Docker</a><ul>
<li class="chapter" data-level="2.4.1" data-path="tutorialsdemos-and-how-tos.html"><a href="tutorialsdemos-and-how-tos.html#running-bety-as-a-docker-container"><i class="fa fa-check"></i><b>2.4.1</b> Running BETY as a docker container</a></li>
</ul></li>
<li class="chapter" data-level="2.5" data-path="tutorialsdemos-and-how-tos.html"><a href="tutorialsdemos-and-how-tos.html#osinstall"><i class="fa fa-check"></i><b>2.5</b> OS Specific Installations</a><ul>
<li class="chapter" data-level="2.5.1" data-path="tutorialsdemos-and-how-tos.html"><a href="tutorialsdemos-and-how-tos.html#ubuntu"><i class="fa fa-check"></i><b>2.5.1</b> Ubuntu</a></li>
<li class="chapter" data-level="2.5.2" data-path="tutorialsdemos-and-how-tos.html"><a href="tutorialsdemos-and-how-tos.html#centosredhat-centosredhat"><i class="fa fa-check"></i><b>2.5.2</b> CentOS/RedHat {#centos/redhat}</a></li>
<li class="chapter" data-level="2.5.3" data-path="tutorialsdemos-and-how-tos.html"><a href="tutorialsdemos-and-how-tos.html#macosx"><i class="fa fa-check"></i><b>2.5.3</b> Mac OSX</a></li>
</ul></li>
<li class="chapter" data-level="2.6" data-path="tutorialsdemos-and-how-tos.html"><a href="tutorialsdemos-and-how-tos.html#installing-bety"><i class="fa fa-check"></i><b>2.6</b> Installing BETY</a></li>
<li class="chapter" data-level="2.7" data-path="tutorialsdemos-and-how-tos.html"><a href="tutorialsdemos-and-how-tos.html#install-models"><i class="fa fa-check"></i><b>2.7</b> Install Models</a><ul>
<li class="chapter" data-level="2.7.1" data-path="tutorialsdemos-and-how-tos.html"><a href="tutorialsdemos-and-how-tos.html#inst-biocro"><i class="fa fa-check"></i><b>2.7.1</b> BioCro</a></li>
<li class="chapter" data-level="2.7.2" data-path="tutorialsdemos-and-how-tos.html"><a href="tutorialsdemos-and-how-tos.html#inst-clm45"><i class="fa fa-check"></i><b>2.7.2</b> CLM 4.5</a></li>
<li class="chapter" data-level="2.7.3" data-path="tutorialsdemos-and-how-tos.html"><a href="tutorialsdemos-and-how-tos.html#inst-dalec"><i class="fa fa-check"></i><b>2.7.3</b> DALEC</a></li>
<li class="chapter" data-level="2.7.4" data-path="tutorialsdemos-and-how-tos.html"><a href="tutorialsdemos-and-how-tos.html#inst-ed2"><i class="fa fa-check"></i><b>2.7.4</b> ED2</a></li>
<li class="chapter" data-level="2.7.5" data-path="tutorialsdemos-and-how-tos.html"><a href="tutorialsdemos-and-how-tos.html#inst-fates"><i class="fa fa-check"></i><b>2.7.5</b> CLM-FATES</a></li>
<li class="chapter" data-level="2.7.6" data-path="tutorialsdemos-and-how-tos.html"><a href="tutorialsdemos-and-how-tos.html#inst-gday"><i class="fa fa-check"></i><b>2.7.6</b> GDAY</a></li>
<li class="chapter" data-level="2.7.7" data-path="tutorialsdemos-and-how-tos.html"><a href="tutorialsdemos-and-how-tos.html#inst-jules"><i class="fa fa-check"></i><b>2.7.7</b> JULES</a></li>
<li class="chapter" data-level="2.7.8" data-path="tutorialsdemos-and-how-tos.html"><a href="tutorialsdemos-and-how-tos.html#inst-linkages"><i class="fa fa-check"></i><b>2.7.8</b> LINKAGES</a></li>
<li class="chapter" data-level="2.7.9" data-path="tutorialsdemos-and-how-tos.html"><a href="tutorialsdemos-and-how-tos.html#inst-lpj-guess"><i class="fa fa-check"></i><b>2.7.9</b> LPJ-GUESS</a></li>
<li class="chapter" data-level="2.7.10" data-path="tutorialsdemos-and-how-tos.html"><a href="tutorialsdemos-and-how-tos.html#maespa-inst-maespa"><i class="fa fa-check"></i><b>2.7.10</b> MAESPA {inst-maespa}</a></li>
<li class="chapter" data-level="2.7.11" data-path="tutorialsdemos-and-how-tos.html"><a href="tutorialsdemos-and-how-tos.html#sipnet-inst-sipnet"><i class="fa fa-check"></i><b>2.7.11</b> SIPNET {inst-sipnet}</a></li>
</ul></li>
<li class="chapter" data-level="2.8" data-path="tutorialsdemos-and-how-tos.html"><a href="tutorialsdemos-and-how-tos.html#installation"><i class="fa fa-check"></i><b>2.8</b> User Tutorials and Demos</a></li>
<li class="chapter" data-level="2.9" data-path="tutorialsdemos-and-how-tos.html"><a href="tutorialsdemos-and-how-tos.html#user-tut"><i class="fa fa-check"></i><b>2.9</b> User Tutorial Section</a><ul>
<li class="chapter" data-level="2.9.1" data-path="tutorialsdemos-and-how-tos.html"><a href="tutorialsdemos-and-how-tos.html#demo-table"><i class="fa fa-check"></i><b>2.9.1</b> PEcAn Demos</a></li>
</ul></li>
<li class="chapter" data-level="2.10" data-path="tutorialsdemos-and-how-tos.html"><a href="tutorialsdemos-and-how-tos.html#web-workflow"><i class="fa fa-check"></i><b>2.10</b> Web workflow</a><ul>
<li class="chapter" data-level="2.10.1" data-path="tutorialsdemos-and-how-tos.html"><a href="tutorialsdemos-and-how-tos.html#web-site-model"><i class="fa fa-check"></i><b>2.10.1</b> Site and model selection</a></li>
<li class="chapter" data-level="2.10.2" data-path="tutorialsdemos-and-how-tos.html"><a href="tutorialsdemos-and-how-tos.html#selecting-a-site"><i class="fa fa-check"></i><b>2.10.2</b> Selecting a site</a></li>
</ul></li>
<li class="chapter" data-level="2.11" data-path="tutorialsdemos-and-how-tos.html"><a href="tutorialsdemos-and-how-tos.html#web-model-config"><i class="fa fa-check"></i><b>2.11</b> Model configuration</a><ul>
<li class="chapter" data-level="2.11.1" data-path="tutorialsdemos-and-how-tos.html"><a href="tutorialsdemos-and-how-tos.html#choosing-meteorology"><i class="fa fa-check"></i><b>2.11.1</b> Choosing meteorology</a></li>
<li class="chapter" data-level="2.11.2" data-path="tutorialsdemos-and-how-tos.html"><a href="tutorialsdemos-and-how-tos.html#selecting-plant-functional-types-pfts-and-other-parameter-groupings."><i class="fa fa-check"></i><b>2.11.2</b> Selecting Plant Functional Types (PFTs) and other parameter groupings.</a></li>
<li class="chapter" data-level="2.11.3" data-path="tutorialsdemos-and-how-tos.html"><a href="tutorialsdemos-and-how-tos.html#choosing-initial-vegetation"><i class="fa fa-check"></i><b>2.11.3</b> Choosing initial vegetation</a></li>
<li class="chapter" data-level="2.11.4" data-path="tutorialsdemos-and-how-tos.html"><a href="tutorialsdemos-and-how-tos.html#spin-up"><i class="fa fa-check"></i><b>2.11.4</b> Spin up</a></li>
<li class="chapter" data-level="2.11.5" data-path="tutorialsdemos-and-how-tos.html"><a href="tutorialsdemos-and-how-tos.html#selecting-a-soils-product"><i class="fa fa-check"></i><b>2.11.5</b> Selecting a soils product</a></li>
<li class="chapter" data-level="2.11.6" data-path="tutorialsdemos-and-how-tos.html"><a href="tutorialsdemos-and-how-tos.html#other-model-inputs"><i class="fa fa-check"></i><b>2.11.6</b> Other model inputs</a></li>
</ul></li>
<li class="chapter" data-level="2.12" data-path="tutorialsdemos-and-how-tos.html"><a href="tutorialsdemos-and-how-tos.html#intermediate-user"><i class="fa fa-check"></i><b>2.12</b> Intermediate user guide</a><ul>
<li class="chapter" data-level="2.12.1" data-path="tutorialsdemos-and-how-tos.html"><a href="tutorialsdemos-and-how-tos.html#additional-web-configuration"><i class="fa fa-check"></i><b>2.12.1</b> Additional web configuration</a></li>
<li class="chapter" data-level="2.12.2" data-path="tutorialsdemos-and-how-tos.html"><a href="tutorialsdemos-and-how-tos.html#brown-dog"><i class="fa fa-check"></i><b>2.12.2</b> Brown Dog</a></li>
<li class="chapter" data-level="2.12.3" data-path="tutorialsdemos-and-how-tos.html"><a href="tutorialsdemos-and-how-tos.html#basic-setups"><i class="fa fa-check"></i><b>2.12.3</b> Basic Setups</a></li>
<li class="chapter" data-level="2.12.4" data-path="tutorialsdemos-and-how-tos.html"><a href="tutorialsdemos-and-how-tos.html#advanced-setup"><i class="fa fa-check"></i><b>2.12.4</b> Advanced Setup</a></li>
<li class="chapter" data-level="2.12.5" data-path="tutorialsdemos-and-how-tos.html"><a href="tutorialsdemos-and-how-tos.html#editing-model-configurations"><i class="fa fa-check"></i><b>2.12.5</b> Editing model configurations</a></li>
</ul></li>
<li class="chapter" data-level="2.13" data-path="tutorialsdemos-and-how-tos.html"><a href="tutorialsdemos-and-how-tos.html#settings-configured-analyses"><i class="fa fa-check"></i><b>2.13</b> Settings-configured analyses</a><ul>
<li class="chapter" data-level="2.13.1" data-path="tutorialsdemos-and-how-tos.html"><a href="tutorialsdemos-and-how-tos.html#pda"><i class="fa fa-check"></i><b>2.13.1</b> Parameter data assimilation (PDA)</a></li>
<li class="chapter" data-level="2.13.2" data-path="tutorialsdemos-and-how-tos.html"><a href="tutorialsdemos-and-how-tos.html#sda"><i class="fa fa-check"></i><b>2.13.2</b> State data assimilation (SDA)</a></li>
<li class="chapter" data-level="2.13.3" data-path="tutorialsdemos-and-how-tos.html"><a href="tutorialsdemos-and-how-tos.html#model-specific-functions-for-sda-workflow"><i class="fa fa-check"></i><b>2.13.3</b> Model Specific Functions for SDA Workflow</a></li>
<li class="chapter" data-level="2.13.4" data-path="tutorialsdemos-and-how-tos.html"><a href="tutorialsdemos-and-how-tos.html#analysis-options"><i class="fa fa-check"></i><b>2.13.4</b> Analysis Options</a></li>
<li class="chapter" data-level="2.13.5" data-path="tutorialsdemos-and-how-tos.html"><a href="tutorialsdemos-and-how-tos.html#the-generalized-ensemble-filter"><i class="fa fa-check"></i><b>2.13.5</b> The Generalized Ensemble Filter</a></li>
<li class="chapter" data-level="2.13.6" data-path="tutorialsdemos-and-how-tos.html"><a href="tutorialsdemos-and-how-tos.html#multi-site-state-data-assimilation."><i class="fa fa-check"></i><b>2.13.6</b> Multi-site State data assimilation.</a></li>
<li class="chapter" data-level="2.13.7" data-path="tutorialsdemos-and-how-tos.html"><a href="tutorialsdemos-and-how-tos.html#data-products"><i class="fa fa-check"></i><b>2.13.7</b> Data Products</a></li>
<li class="chapter" data-level="2.13.8" data-path="tutorialsdemos-and-how-tos.html"><a href="tutorialsdemos-and-how-tos.html#current-models"><i class="fa fa-check"></i><b>2.13.8</b> Current Models</a></li>
<li class="chapter" data-level="2.13.9" data-path="tutorialsdemos-and-how-tos.html"><a href="tutorialsdemos-and-how-tos.html#model-calibration"><i class="fa fa-check"></i><b>2.13.9</b> Model Calibration</a></li>
<li class="chapter" data-level="2.13.10" data-path="tutorialsdemos-and-how-tos.html"><a href="tutorialsdemos-and-how-tos.html#initial-conditions"><i class="fa fa-check"></i><b>2.13.10</b> Initial Conditions</a></li>
<li class="chapter" data-level="2.13.11" data-path="tutorialsdemos-and-how-tos.html"><a href="tutorialsdemos-and-how-tos.html#drivers"><i class="fa fa-check"></i><b>2.13.11</b> Drivers</a></li>
</ul></li>
<li class="chapter" data-level="2.14" data-path="tutorialsdemos-and-how-tos.html"><a href="tutorialsdemos-and-how-tos.html#sequential-state-data-assimilation"><i class="fa fa-check"></i><b>2.14</b> Sequential State Data Assimilation</a><ul>
<li class="chapter" data-level="2.14.1" data-path="tutorialsdemos-and-how-tos.html"><a href="tutorialsdemos-and-how-tos.html#general-description"><i class="fa fa-check"></i><b>2.14.1</b> General Description</a></li>
<li class="chapter" data-level="2.14.2" data-path="tutorialsdemos-and-how-tos.html"><a href="tutorialsdemos-and-how-tos.html#enkf"><i class="fa fa-check"></i><b>2.14.2</b> EnKF</a></li>
<li class="chapter" data-level="2.14.3" data-path="tutorialsdemos-and-how-tos.html"><a href="tutorialsdemos-and-how-tos.html#generalized-ensemble-filter"><i class="fa fa-check"></i><b>2.14.3</b> Generalized Ensemble Filter</a></li>
<li class="chapter" data-level="2.14.4" data-path="tutorialsdemos-and-how-tos.html"><a href="tutorialsdemos-and-how-tos.html#ensemble-adjustment"><i class="fa fa-check"></i><b>2.14.4</b> Ensemble Adjustment</a></li>
<li class="chapter" data-level="2.14.5" data-path="tutorialsdemos-and-how-tos.html"><a href="tutorialsdemos-and-how-tos.html#diagnostics"><i class="fa fa-check"></i><b>2.14.5</b> Diagnostics</a></li>
</ul></li>
<li class="chapter" data-level="2.15" data-path="tutorialsdemos-and-how-tos.html"><a href="tutorialsdemos-and-how-tos.html#Benchmarking"><i class="fa fa-check"></i><b>2.15</b> Benchmarking</a><ul>
<li class="chapter" data-level="2.15.1" data-path="tutorialsdemos-and-how-tos.html"><a href="tutorialsdemos-and-how-tos.html#data-preparation"><i class="fa fa-check"></i><b>2.15.1</b> Data Preparation</a></li>
<li class="chapter" data-level="2.15.2" data-path="tutorialsdemos-and-how-tos.html"><a href="tutorialsdemos-and-how-tos.html#model-runs"><i class="fa fa-check"></i><b>2.15.2</b> Model Runs</a></li>
<li class="chapter" data-level="2.15.3" data-path="tutorialsdemos-and-how-tos.html"><a href="tutorialsdemos-and-how-tos.html#the-benchmarking-shiny-app"><i class="fa fa-check"></i><b>2.15.3</b> The Benchmarking Shiny App</a></li>
<li class="chapter" data-level="2.15.4" data-path="tutorialsdemos-and-how-tos.html"><a href="tutorialsdemos-and-how-tos.html#benchmarking-in-pecan.xml"><i class="fa fa-check"></i><b>2.15.4</b> Benchmarking in pecan.xml</a></li>
<li class="chapter" data-level="2.15.5" data-path="tutorialsdemos-and-how-tos.html"><a href="tutorialsdemos-and-how-tos.html#pecan-remote"><i class="fa fa-check"></i><b>2.15.5</b> Remote execution with PEcAn</a></li>
<li class="chapter" data-level="2.15.6" data-path="tutorialsdemos-and-how-tos.html"><a href="tutorialsdemos-and-how-tos.html#ssh-tunnels-and-pecan"><i class="fa fa-check"></i><b>2.15.6</b> SSH tunnels and PEcAn</a></li>
<li class="chapter" data-level="2.15.7" data-path="tutorialsdemos-and-how-tos.html"><a href="tutorialsdemos-and-how-tos.html#basic-remote-execute-functions"><i class="fa fa-check"></i><b>2.15.7</b> Basic remote execute functions</a></li>
<li class="chapter" data-level="2.15.8" data-path="tutorialsdemos-and-how-tos.html"><a href="tutorialsdemos-and-how-tos.html#remote-model-execution-with-pecan"><i class="fa fa-check"></i><b>2.15.8</b> Remote model execution with PEcAn</a></li>
<li class="chapter" data-level="2.15.9" data-path="tutorialsdemos-and-how-tos.html"><a href="tutorialsdemos-and-how-tos.html#xml-configuration"><i class="fa fa-check"></i><b>2.15.9</b> XML configuration</a></li>
<li class="chapter" data-level="2.15.10" data-path="tutorialsdemos-and-how-tos.html"><a href="tutorialsdemos-and-how-tos.html#configuration-for-pecan-web-interface"><i class="fa fa-check"></i><b>2.15.10</b> Configuration for PEcAn web interface</a></li>
</ul></li>
<li class="chapter" data-level="2.16" data-path="tutorialsdemos-and-how-tos.html"><a href="tutorialsdemos-and-how-tos.html#pecan-api"><i class="fa fa-check"></i><b>2.16</b> The PEcAn Docker API</a><ul>
<li class="chapter" data-level="2.16.1" data-path="tutorialsdemos-and-how-tos.html"><a href="tutorialsdemos-and-how-tos.html#installation-1"><i class="fa fa-check"></i><b>2.16.1</b> Installation</a></li>
<li class="chapter" data-level="2.16.2" data-path="tutorialsdemos-and-how-tos.html"><a href="tutorialsdemos-and-how-tos.html#creating-and-submitting-a-workflow"><i class="fa fa-check"></i><b>2.16.2</b> Creating and submitting a workflow</a></li>
</ul></li>
<li class="chapter" data-level="2.17" data-path="tutorialsdemos-and-how-tos.html"><a href="tutorialsdemos-and-how-tos.html#advanced-user"><i class="fa fa-check"></i><b>2.17</b> Advanced User Guide</a><ul>
<li class="chapter" data-level="2.17.1" data-path="tutorialsdemos-and-how-tos.html"><a href="tutorialsdemos-and-how-tos.html#adding-to-pecan"><i class="fa fa-check"></i><b>2.17.1</b> Adding to PEcAn</a></li>
<li class="chapter" data-level="2.17.2" data-path="tutorialsdemos-and-how-tos.html"><a href="tutorialsdemos-and-how-tos.html#adding-model"><i class="fa fa-check"></i><b>2.17.2</b> Adding An Ecosystem Model</a></li>
<li class="chapter" data-level="2.17.3" data-path="tutorialsdemos-and-how-tos.html"><a href="tutorialsdemos-and-how-tos.html#pecan-database"><i class="fa fa-check"></i><b>2.17.3</b> PEcAn Database</a></li>
<li class="chapter" data-level="2.17.4" data-path="tutorialsdemos-and-how-tos.html"><a href="tutorialsdemos-and-how-tos.html#define-model_type"><i class="fa fa-check"></i><b>2.17.4</b> Define MODEL_TYPE</a></li>
<li class="chapter" data-level="2.17.5" data-path="tutorialsdemos-and-how-tos.html"><a href="tutorialsdemos-and-how-tos.html#machine"><i class="fa fa-check"></i><b>2.17.5</b> MACHINE</a></li>
<li class="chapter" data-level="2.17.6" data-path="tutorialsdemos-and-how-tos.html"><a href="tutorialsdemos-and-how-tos.html#model"><i class="fa fa-check"></i><b>2.17.6</b> MODEL</a></li>
<li class="chapter" data-level="2.17.7" data-path="tutorialsdemos-and-how-tos.html"><a href="tutorialsdemos-and-how-tos.html#formats"><i class="fa fa-check"></i><b>2.17.7</b> FORMATS</a></li>
<li class="chapter" data-level="2.17.8" data-path="tutorialsdemos-and-how-tos.html"><a href="tutorialsdemos-and-how-tos.html#model_type---formats"><i class="fa fa-check"></i><b>2.17.8</b> MODEL_TYPE -&gt; Formats</a></li>
<li class="chapter" data-level="2.17.9" data-path="tutorialsdemos-and-how-tos.html"><a href="tutorialsdemos-and-how-tos.html#inputs"><i class="fa fa-check"></i><b>2.17.9</b> INPUTS</a></li>
<li class="chapter" data-level="2.17.10" data-path="tutorialsdemos-and-how-tos.html"><a href="tutorialsdemos-and-how-tos.html#pfts-plant-functional-types"><i class="fa fa-check"></i><b>2.17.10</b> PFTS (Plant Functional Types)</a></li>
<li class="chapter" data-level="2.17.11" data-path="tutorialsdemos-and-how-tos.html"><a href="tutorialsdemos-and-how-tos.html#priors"><i class="fa fa-check"></i><b>2.17.11</b> PRIORS</a></li>
<li class="chapter" data-level="2.17.12" data-path="tutorialsdemos-and-how-tos.html"><a href="tutorialsdemos-and-how-tos.html#interface-modules"><i class="fa fa-check"></i><b>2.17.12</b> Interface Modules</a></li>
</ul></li>
<li class="chapter" data-level="2.18" data-path="tutorialsdemos-and-how-tos.html"><a href="tutorialsdemos-and-how-tos.html#NewInput"><i class="fa fa-check"></i><b>2.18</b> Adding input data</a><ul>
<li class="chapter" data-level="2.18.1" data-path="tutorialsdemos-and-how-tos.html"><a href="tutorialsdemos-and-how-tos.html#input-records-in-bety"><i class="fa fa-check"></i><b>2.18.1</b> Input records in BETY</a></li>
<li class="chapter" data-level="2.18.2" data-path="tutorialsdemos-and-how-tos.html"><a href="tutorialsdemos-and-how-tos.html#create-a-database-file-record-for-the-input-data"><i class="fa fa-check"></i><b>2.18.2</b> Create a database file record for the input data</a></li>
<li class="chapter" data-level="2.18.3" data-path="tutorialsdemos-and-how-tos.html"><a href="tutorialsdemos-and-how-tos.html#creating-a-new-input-record-in-bety"><i class="fa fa-check"></i><b>2.18.3</b> Creating a new Input record in BETY</a></li>
<li class="chapter" data-level="2.18.4" data-path="tutorialsdemos-and-how-tos.html"><a href="tutorialsdemos-and-how-tos.html#InputConversions"><i class="fa fa-check"></i><b>2.18.4</b> Adding a new input converter</a></li>
<li class="chapter" data-level="2.18.5" data-path="tutorialsdemos-and-how-tos.html"><a href="tutorialsdemos-and-how-tos.html#adding-data-web"><i class="fa fa-check"></i><b>2.18.5</b> Pecan Data Ingest via Web Interface</a></li>
<li class="chapter" data-level="2.18.6" data-path="tutorialsdemos-and-how-tos.html"><a href="tutorialsdemos-and-how-tos.html#NewFormat"><i class="fa fa-check"></i><b>2.18.6</b> Creating a new format</a></li>
</ul></li>
<li class="chapter" data-level="2.19" data-path="tutorialsdemos-and-how-tos.html"><a href="tutorialsdemos-and-how-tos.html#NewBenchmark"><i class="fa fa-check"></i><b>2.19</b> Creating a new benchmark reference run</a></li>
<li class="chapter" data-level="2.20" data-path="tutorialsdemos-and-how-tos.html"><a href="tutorialsdemos-and-how-tos.html#editing-records"><i class="fa fa-check"></i><b>2.20</b> Editing records</a></li>
<li class="chapter" data-level="2.21" data-path="tutorialsdemos-and-how-tos.html"><a href="tutorialsdemos-and-how-tos.html#submitting-workflow-from-command-line"><i class="fa fa-check"></i><b>2.21</b> Submitting Workflow from Command Line</a></li>
<li class="chapter" data-level="2.22" data-path="tutorialsdemos-and-how-tos.html"><a href="tutorialsdemos-and-how-tos.html#developer-guide"><i class="fa fa-check"></i><b>2.22</b> Developer user guide</a><ul>
<li class="chapter" data-level="2.22.1" data-path="tutorialsdemos-and-how-tos.html"><a href="tutorialsdemos-and-how-tos.html#aws-setup"><i class="fa fa-check"></i><b>2.22.1</b> AWS Setup</a></li>
<li class="chapter" data-level="2.22.2" data-path="tutorialsdemos-and-how-tos.html"><a href="tutorialsdemos-and-how-tos.html#porting-vm-to-aws"><i class="fa fa-check"></i><b>2.22.2</b> Porting VM to AWS</a></li>
<li class="chapter" data-level="2.22.3" data-path="tutorialsdemos-and-how-tos.html"><a href="tutorialsdemos-and-how-tos.html#set-up-multiple-instances-optional"><i class="fa fa-check"></i><b>2.22.3</b> Set up multiple instances (optional)</a></li>
<li class="chapter" data-level="2.22.4" data-path="tutorialsdemos-and-how-tos.html"><a href="tutorialsdemos-and-how-tos.html#shiny-setup"><i class="fa fa-check"></i><b>2.22.4</b> Shiny Setup</a></li>
<li class="chapter" data-level="2.22.5" data-path="tutorialsdemos-and-how-tos.html"><a href="tutorialsdemos-and-how-tos.html#thredds-setup"><i class="fa fa-check"></i><b>2.22.5</b> Thredds Setup</a></li>
</ul></li>
<li class="chapter" data-level="2.23" data-path="tutorialsdemos-and-how-tos.html"><a href="tutorialsdemos-and-how-tos.html#updatepecan"><i class="fa fa-check"></i><b>2.23</b> Updating PEcAn Code and Bety Database</a><ul>
<li class="chapter" data-level="2.23.1" data-path="tutorialsdemos-and-how-tos.html"><a href="tutorialsdemos-and-how-tos.html#updating-pecan"><i class="fa fa-check"></i><b>2.23.1</b> Updating PEcAn</a></li>
</ul></li>
<li class="chapter" data-level="2.24" data-path="tutorialsdemos-and-how-tos.html"><a href="tutorialsdemos-and-how-tos.html#updating-bety"><i class="fa fa-check"></i><b>2.24</b> Updating BETY</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="git-and-github-workflow.html"><a href="git-and-github-workflow.html"><i class="fa fa-check"></i><b>3</b> Git and GitHub Workflow</a><ul>
<li class="chapter" data-level="3.1" data-path="git-and-github-workflow.html"><a href="git-and-github-workflow.html#using-git"><i class="fa fa-check"></i><b>3.1</b> Using Git</a><ul>
<li class="chapter" data-level="3.1.1" data-path="git-and-github-workflow.html"><a href="git-and-github-workflow.html#git"><i class="fa fa-check"></i><b>3.1.1</b> Git</a></li>
<li class="chapter" data-level="3.1.2" data-path="git-and-github-workflow.html"><a href="git-and-github-workflow.html#pecan-project-and-github"><i class="fa fa-check"></i><b>3.1.2</b> PEcAn Project and Github</a></li>
<li class="chapter" data-level="3.1.3" data-path="git-and-github-workflow.html"><a href="git-and-github-workflow.html#pecan-project-branches"><i class="fa fa-check"></i><b>3.1.3</b> PEcAn Project Branches</a></li>
<li class="chapter" data-level="3.1.4" data-path="git-and-github-workflow.html"><a href="git-and-github-workflow.html#quick-and-easy"><i class="fa fa-check"></i><b>3.1.4</b> Quick and Easy</a></li>
<li class="chapter" data-level="3.1.5" data-path="git-and-github-workflow.html"><a href="git-and-github-workflow.html#recommended-git-workflow"><i class="fa fa-check"></i><b>3.1.5</b> Recommended Git Workflow</a></li>
<li class="chapter" data-level="3.1.6" data-path="git-and-github-workflow.html"><a href="git-and-github-workflow.html#before-any-work-is-done"><i class="fa fa-check"></i><b>3.1.6</b> Before any work is done</a></li>
<li class="chapter" data-level="3.1.7" data-path="git-and-github-workflow.html"><a href="git-and-github-workflow.html#during-development"><i class="fa fa-check"></i><b>3.1.7</b> During development:</a></li>
<li class="chapter" data-level="3.1.8" data-path="git-and-github-workflow.html"><a href="git-and-github-workflow.html#basic-workflow"><i class="fa fa-check"></i><b>3.1.8</b> Basic Workflow</a></li>
<li class="chapter" data-level="3.1.9" data-path="git-and-github-workflow.html"><a href="git-and-github-workflow.html#recommended-workflow-a-new-branch-for-each-change"><i class="fa fa-check"></i><b>3.1.9</b> Recommended Workflow: A new branch for each change</a></li>
<li class="chapter" data-level="3.1.10" data-path="git-and-github-workflow.html"><a href="git-and-github-workflow.html#git-rstudio"><i class="fa fa-check"></i><b>3.1.10</b> Git + Rstudio</a></li>
<li class="chapter" data-level="3.1.11" data-path="git-and-github-workflow.html"><a href="git-and-github-workflow.html#for-development"><i class="fa fa-check"></i><b>3.1.11</b> For development:</a></li>
<li class="chapter" data-level="3.1.12" data-path="git-and-github-workflow.html"><a href="git-and-github-workflow.html#references"><i class="fa fa-check"></i><b>3.1.12</b> References</a></li>
</ul></li>
<li class="chapter" data-level="3.2" data-path="git-and-github-workflow.html"><a href="git-and-github-workflow.html#github-use-with-pecan"><i class="fa fa-check"></i><b>3.2</b> GitHub use with PEcAn</a><ul>
<li class="chapter" data-level="3.2.1" data-path="git-and-github-workflow.html"><a href="git-and-github-workflow.html#bugs-issues-features-etc."><i class="fa fa-check"></i><b>3.2.1</b> Bugs, Issues, Features, etc.</a></li>
<li class="chapter" data-level="3.2.2" data-path="git-and-github-workflow.html"><a href="git-and-github-workflow.html#requesting-a-feature"><i class="fa fa-check"></i><b>3.2.2</b> Requesting a feature</a></li>
<li class="chapter" data-level="3.2.3" data-path="git-and-github-workflow.html"><a href="git-and-github-workflow.html#closing-an-issue"><i class="fa fa-check"></i><b>3.2.3</b> Closing an issue</a></li>
<li class="chapter" data-level="3.2.4" data-path="git-and-github-workflow.html"><a href="git-and-github-workflow.html#when-to-submit-an-issue"><i class="fa fa-check"></i><b>3.2.4</b> When to submit an issue?</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="4" data-path="coding-practices.html"><a href="coding-practices.html"><i class="fa fa-check"></i><b>4</b> Coding Practices</a><ul>
<li class="chapter" data-level="4.1" data-path="coding-practices.html"><a href="coding-practices.html#coding-style"><i class="fa fa-check"></i><b>4.1</b> Coding Style</a><ul>
<li class="chapter" data-level="4.1.1" data-path="coding-practices.html"><a href="coding-practices.html#use-roxygen2-documentation"><i class="fa fa-check"></i><b>4.1.1</b> Use Roxygen2 documentation</a></li>
<li class="chapter" data-level="4.1.2" data-path="coding-practices.html"><a href="coding-practices.html#write-your-name-at-the-top"><i class="fa fa-check"></i><b>4.1.2</b> Write your name at the top</a></li>
<li class="chapter" data-level="4.1.3" data-path="coding-practices.html"><a href="coding-practices.html#use-testthat-testing-package"><i class="fa fa-check"></i><b>4.1.3</b> Use testthat testing package</a></li>
<li class="chapter" data-level="4.1.4" data-path="coding-practices.html"><a href="coding-practices.html#dont-use-shortcuts"><i class="fa fa-check"></i><b>4.1.4</b> Don’t use shortcuts</a></li>
<li class="chapter" data-level="4.1.5" data-path="coding-practices.html"><a href="coding-practices.html#package-dependencies"><i class="fa fa-check"></i><b>4.1.5</b> Package Dependencies:</a></li>
</ul></li>
<li class="chapter" data-level="4.2" data-path="coding-practices.html"><a href="coding-practices.html#logging"><i class="fa fa-check"></i><b>4.2</b> Logging</a><ul>
<li class="chapter" data-level="4.2.1" data-path="coding-practices.html"><a href="coding-practices.html#pecan-logging-functions"><i class="fa fa-check"></i><b>4.2.1</b> PEcAn logging functions</a></li>
<li class="chapter" data-level="4.2.2" data-path="coding-practices.html"><a href="coding-practices.html#other-r-logging-packages"><i class="fa fa-check"></i><b>4.2.2</b> Other R logging packages</a></li>
<li class="chapter" data-level="4.2.3" data-path="coding-practices.html"><a href="coding-practices.html#example-usage"><i class="fa fa-check"></i><b>4.2.3</b> Example Usage</a></li>
</ul></li>
<li class="chapter" data-level="4.3" data-path="coding-practices.html"><a href="coding-practices.html#package-data"><i class="fa fa-check"></i><b>4.3</b> Package Data</a><ul>
<li class="chapter" data-level="4.3.1" data-path="coding-practices.html"><a href="coding-practices.html#summary"><i class="fa fa-check"></i><b>4.3.1</b> Summary:</a></li>
<li class="chapter" data-level="4.3.2" data-path="coding-practices.html"><a href="coding-practices.html#accessing-data"><i class="fa fa-check"></i><b>4.3.2</b> Accessing data</a></li>
</ul></li>
<li class="chapter" data-level="4.4" data-path="coding-practices.html"><a href="coding-practices.html#packages-used-in-development"><i class="fa fa-check"></i><b>4.4</b> Packages used in development</a></li>
<li class="chapter" data-level="4.5" data-path="coding-practices.html"><a href="coding-practices.html#roxygen2-1"><i class="fa fa-check"></i><b>4.5</b> Roxygen2</a><ul>
<li class="chapter" data-level="4.5.1" data-path="coding-practices.html"><a href="coding-practices.html#canonical-references"><i class="fa fa-check"></i><b>4.5.1</b> Canonical references:</a></li>
<li class="chapter" data-level="4.5.2" data-path="coding-practices.html"><a href="coding-practices.html#basic-roxygen2-instructions"><i class="fa fa-check"></i><b>4.5.2</b> Basic Roxygen2 instructions:</a></li>
<li class="chapter" data-level="4.5.3" data-path="coding-practices.html"><a href="coding-practices.html#example"><i class="fa fa-check"></i><b>4.5.3</b> Example</a></li>
<li class="chapter" data-level="4.5.4" data-path="coding-practices.html"><a href="coding-practices.html#updating-documentation"><i class="fa fa-check"></i><b>4.5.4</b> Updating documentation</a></li>
</ul></li>
<li class="chapter" data-level="4.6" data-path="coding-practices.html"><a href="coding-practices.html#testing"><i class="fa fa-check"></i><b>4.6</b> Testing</a><ul>
<li class="chapter" data-level="4.6.1" data-path="coding-practices.html"><a href="coding-practices.html#rationale"><i class="fa fa-check"></i><b>4.6.1</b> Rationale</a></li>
<li class="chapter" data-level="4.6.2" data-path="coding-practices.html"><a href="coding-practices.html#tests-makes-development-easier-and-less-error-prone"><i class="fa fa-check"></i><b>4.6.2</b> Tests makes development easier and less error prone</a></li>
<li class="chapter" data-level="4.6.3" data-path="coding-practices.html"><a href="coding-practices.html#quick-start"><i class="fa fa-check"></i><b>4.6.3</b> Quick Start:</a></li>
<li class="chapter" data-level="4.6.4" data-path="coding-practices.html"><a href="coding-practices.html#test-files"><i class="fa fa-check"></i><b>4.6.4</b> Test files</a></li>
<li class="chapter" data-level="4.6.5" data-path="coding-practices.html"><a href="coding-practices.html#testing-the-shiny-server"><i class="fa fa-check"></i><b>4.6.5</b> Testing the Shiny Server</a></li>
<li class="chapter" data-level="4.6.6" data-path="coding-practices.html"><a href="coding-practices.html#download-and-compile-pecan"><i class="fa fa-check"></i><b>4.6.6</b> Download and Compile PEcAn</a></li>
<li class="chapter" data-level="4.6.7" data-path="coding-practices.html"><a href="coding-practices.html#pecan-testrun"><i class="fa fa-check"></i><b>4.6.7</b> PEcAn Testrun</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="5" data-path="directory-structure.html"><a href="directory-structure.html"><i class="fa fa-check"></i><b>5</b> Directory structure</a><ul>
<li class="chapter" data-level="5.1" data-path="directory-structure.html"><a href="directory-structure.html#overview-of-pecan-repository-as-of-pecan-1.5.3"><i class="fa fa-check"></i><b>5.1</b> Overview of PEcAn repository as of PEcAn 1.5.3</a></li>
<li class="chapter" data-level="5.2" data-path="directory-structure.html"><a href="directory-structure.html#generic-r-package-structure"><i class="fa fa-check"></i><b>5.2</b> Generic R package structure:</a></li>
</ul></li>
<li class="chapter" data-level="6" data-path="topical.html"><a href="topical.html"><i class="fa fa-check"></i><b>6</b> Topical Pages</a><ul>
<li class="chapter" data-level="6.1" data-path="topical.html"><a href="topical.html#pecan-standard-formats"><i class="fa fa-check"></i><b>6.1</b> PEcAn standard formats</a><ul>
<li class="chapter" data-level="6.1.1" data-path="topical.html"><a href="topical.html#defining-new-input-formats"><i class="fa fa-check"></i><b>6.1.1</b> Defining new input formats</a></li>
<li class="chapter" data-level="6.1.2" data-path="topical.html"><a href="topical.html#input-standards"><i class="fa fa-check"></i><b>6.1.2</b> Input Standards</a></li>
<li class="chapter" data-level="6.1.3" data-path="topical.html"><a href="topical.html#output-standards"><i class="fa fa-check"></i><b>6.1.3</b> Output Standards</a></li>
</ul></li>
<li class="chapter" data-level="6.2" data-path="topical.html"><a href="topical.html#pecanXML"><i class="fa fa-check"></i><b>6.2</b> The PEcAn XML</a><ul>
<li class="chapter" data-level="6.2.1" data-path="topical.html"><a href="topical.html#xml-core-config"><i class="fa fa-check"></i><b>6.2.1</b> Core configuration</a></li>
<li class="chapter" data-level="6.2.2" data-path="topical.html"><a href="topical.html#xml-outdir"><i class="fa fa-check"></i><b>6.2.2</b> <code>outdir</code>: Output directory</a></li>
<li class="chapter" data-level="6.2.3" data-path="topical.html"><a href="topical.html#xml-database"><i class="fa fa-check"></i><b>6.2.3</b> <code>database</code>: PEcAn database settings</a></li>
<li class="chapter" data-level="6.2.4" data-path="topical.html"><a href="topical.html#xml-pft"><i class="fa fa-check"></i><b>6.2.4</b> <code>pft</code>: Plant functional type selection</a></li>
<li class="chapter" data-level="6.2.5" data-path="topical.html"><a href="topical.html#xml-meta-analysis"><i class="fa fa-check"></i><b>6.2.5</b> <code>meta.analysis</code>: Trait Meta Analysis</a></li>
<li class="chapter" data-level="6.2.6" data-path="topical.html"><a href="topical.html#xml-model"><i class="fa fa-check"></i><b>6.2.6</b> <code>model</code>: Model configuration</a></li>
<li class="chapter" data-level="6.2.7" data-path="topical.html"><a href="topical.html#xml-run"><i class="fa fa-check"></i><b>6.2.7</b> <code>run</code>: Run Setup</a></li>
<li class="chapter" data-level="6.2.8" data-path="topical.html"><a href="topical.html#xml-host"><i class="fa fa-check"></i><b>6.2.8</b> <code>host</code>: Host information for remote execution</a></li>
<li class="chapter" data-level="6.2.9" data-path="topical.html"><a href="topical.html#xml-advanced"><i class="fa fa-check"></i><b>6.2.9</b> Advanced features</a></li>
<li class="chapter" data-level="6.2.10" data-path="topical.html"><a href="topical.html#xml-ensemble"><i class="fa fa-check"></i><b>6.2.10</b> <code>ensemble</code>: Ensemble Runs</a></li>
<li class="chapter" data-level="6.2.11" data-path="topical.html"><a href="topical.html#xml-sensitivity-analysis"><i class="fa fa-check"></i><b>6.2.11</b> <code>sensitivity.analysis</code>: Sensitivity analysis</a></li>
<li class="chapter" data-level="6.2.12" data-path="topical.html"><a href="topical.html#xml-parameter-data-assimilation"><i class="fa fa-check"></i><b>6.2.12</b> Parameter Data Assimilation</a></li>
<li class="chapter" data-level="6.2.13" data-path="topical.html"><a href="topical.html#xml-multi-settings"><i class="fa fa-check"></i><b>6.2.13</b> Multi-Settings</a></li>
<li class="chapter" data-level="6.2.14" data-path="topical.html"><a href="topical.html#xml-state-data-assimilation"><i class="fa fa-check"></i><b>6.2.14</b> (experimental) State Data Assimilation</a></li>
<li class="chapter" data-level="6.2.15" data-path="topical.html"><a href="topical.html#xml-browndog"><i class="fa fa-check"></i><b>6.2.15</b> (experimental) Brown Dog</a></li>
<li class="chapter" data-level="6.2.16" data-path="topical.html"><a href="topical.html#xml-benchmarking"><i class="fa fa-check"></i><b>6.2.16</b> (experimental) Benchmarking</a></li>
</ul></li>
<li class="chapter" data-level="6.3" data-path="topical.html"><a href="topical.html#workflow"><i class="fa fa-check"></i><b>6.3</b> PEcAn workflow (web/workflow.R)</a><ul>
<li class="chapter" data-level="6.3.1" data-path="topical.html"><a href="topical.html#workflow-readsettings"><i class="fa fa-check"></i><b>6.3.1</b> Read Settings</a></li>
<li class="chapter" data-level="6.3.2" data-path="topical.html"><a href="topical.html#workflow-input"><i class="fa fa-check"></i><b>6.3.2</b> Input Conversions</a></li>
<li class="chapter" data-level="6.3.3" data-path="topical.html"><a href="topical.html#workflow-input-data"><i class="fa fa-check"></i><b>6.3.3</b> Input Data</a></li>
<li class="chapter" data-level="6.3.4" data-path="topical.html"><a href="topical.html#workflow-input-initial"><i class="fa fa-check"></i><b>6.3.4</b> Initial Conditions</a></li>
<li class="chapter" data-level="6.3.5" data-path="topical.html"><a href="topical.html#workflow-met"><i class="fa fa-check"></i><b>6.3.5</b> Meteorological Data</a></li>
<li class="chapter" data-level="6.3.6" data-path="topical.html"><a href="topical.html#workflow-met-standard"><i class="fa fa-check"></i><b>6.3.6</b> Converting raw data to PEcAn standard</a></li>
<li class="chapter" data-level="6.3.7" data-path="topical.html"><a href="topical.html#workflow-met-downscale"><i class="fa fa-check"></i><b>6.3.7</b> Downscaling and gapfilling (optional)</a></li>
<li class="chapter" data-level="6.3.8" data-path="topical.html"><a href="topical.html#workflow-met-model"><i class="fa fa-check"></i><b>6.3.8</b> Converting from PEcAn standard to model-specific format</a></li>
<li class="chapter" data-level="6.3.9" data-path="topical.html"><a href="topical.html#workflow-traits"><i class="fa fa-check"></i><b>6.3.9</b> Traits</a></li>
<li class="chapter" data-level="6.3.10" data-path="topical.html"><a href="topical.html#workflow-metaanalysis"><i class="fa fa-check"></i><b>6.3.10</b> Meta Analysis</a></li>
<li class="chapter" data-level="6.3.11" data-path="topical.html"><a href="topical.html#workflow-modelconfig"><i class="fa fa-check"></i><b>6.3.11</b> Model Configuration</a></li>
<li class="chapter" data-level="6.3.12" data-path="topical.html"><a href="topical.html#workflow-modelrun"><i class="fa fa-check"></i><b>6.3.12</b> Run Execution</a></li>
<li class="chapter" data-level="6.3.13" data-path="topical.html"><a href="topical.html#workflow-postrun"><i class="fa fa-check"></i><b>6.3.13</b> Post Run Analysis</a></li>
</ul></li>
<li class="chapter" data-level="6.4" data-path="topical.html"><a href="topical.html#pecan-models"><i class="fa fa-check"></i><b>6.4</b> PEcAn Models</a><ul>
<li class="chapter" data-level="6.4.1" data-path="topical.html"><a href="topical.html#models-biocro"><i class="fa fa-check"></i><b>6.4.1</b> BioCro</a></li>
<li class="chapter" data-level="6.4.2" data-path="topical.html"><a href="topical.html#models-clm"><i class="fa fa-check"></i><b>6.4.2</b> CLM</a></li>
<li class="chapter" data-level="6.4.3" data-path="topical.html"><a href="topical.html#models-dalec"><i class="fa fa-check"></i><b>6.4.3</b> DALEC</a></li>
<li class="chapter" data-level="6.4.4" data-path="topical.html"><a href="topical.html#models-ed"><i class="fa fa-check"></i><b>6.4.4</b> ED2</a></li>
<li class="chapter" data-level="6.4.5" data-path="topical.html"><a href="topical.html#introduction-1"><i class="fa fa-check"></i><b>6.4.5</b> Introduction</a></li>
<li class="chapter" data-level="6.4.6" data-path="topical.html"><a href="topical.html#pecan-configuration-file-additions"><i class="fa fa-check"></i><b>6.4.6</b> PEcAn configuration file additions</a></li>
<li class="chapter" data-level="6.4.7" data-path="topical.html"><a href="topical.html#models-ed-pft-configuration"><i class="fa fa-check"></i><b>6.4.7</b> PFT configuration in ED2</a></li>
<li class="chapter" data-level="6.4.8" data-path="topical.html"><a href="topical.html#model-specific-input-files"><i class="fa fa-check"></i><b>6.4.8</b> Model specific input files</a></li>
<li class="chapter" data-level="6.4.9" data-path="topical.html"><a href="topical.html#model-configuration-files"><i class="fa fa-check"></i><b>6.4.9</b> Model configuration files</a></li>
<li class="chapter" data-level="6.4.10" data-path="topical.html"><a href="topical.html#installation-notes"><i class="fa fa-check"></i><b>6.4.10</b> Installation notes</a></li>
</ul></li>
<li class="chapter" data-level="6.5" data-path="topical.html"><a href="topical.html#models-gday"><i class="fa fa-check"></i><b>6.5</b> GDAY</a><ul>
<li class="chapter" data-level="6.5.1" data-path="topical.html"><a href="topical.html#models-linkages"><i class="fa fa-check"></i><b>6.5.1</b> LINKAGES</a></li>
<li class="chapter" data-level="6.5.2" data-path="topical.html"><a href="topical.html#models-lpjguess"><i class="fa fa-check"></i><b>6.5.2</b> LPJ-GUESS</a></li>
<li class="chapter" data-level="6.5.3" data-path="topical.html"><a href="topical.html#models-maespa"><i class="fa fa-check"></i><b>6.5.3</b> MAESPA</a></li>
<li class="chapter" data-level="6.5.4" data-path="topical.html"><a href="topical.html#models-preles"><i class="fa fa-check"></i><b>6.5.4</b> PRELES</a></li>
<li class="chapter" data-level="6.5.5" data-path="topical.html"><a href="topical.html#models-sipnet"><i class="fa fa-check"></i><b>6.5.5</b> SiPNET</a></li>
<li class="chapter" data-level="6.5.6" data-path="topical.html"><a href="topical.html#download-gfdl"><i class="fa fa-check"></i><b>6.5.6</b> Download GFDL</a></li>
<li class="chapter" data-level="6.5.7" data-path="topical.html"><a href="topical.html#cm3"><i class="fa fa-check"></i><b>6.5.7</b> CM3</a></li>
<li class="chapter" data-level="6.5.8" data-path="topical.html"><a href="topical.html#esm2m-esm2g"><i class="fa fa-check"></i><b>6.5.8</b> ESM2M &amp; ESM2G</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="7" data-path="available-meteorological-drivers.html"><a href="available-meteorological-drivers.html"><i class="fa fa-check"></i><b>7</b> Available Meteorological Drivers</a><ul>
<li class="chapter" data-level="7.1" data-path="available-meteorological-drivers.html"><a href="available-meteorological-drivers.html#ameriflux"><i class="fa fa-check"></i><b>7.1</b> Ameriflux</a></li>
<li class="chapter" data-level="7.2" data-path="available-meteorological-drivers.html"><a href="available-meteorological-drivers.html#amerifluxlbl"><i class="fa fa-check"></i><b>7.2</b> AmerifluxLBL</a></li>
<li class="chapter" data-level="7.3" data-path="available-meteorological-drivers.html"><a href="available-meteorological-drivers.html#fluxnet2015"><i class="fa fa-check"></i><b>7.3</b> Fluxnet2015</a></li>
<li class="chapter" data-level="7.4" data-path="available-meteorological-drivers.html"><a href="available-meteorological-drivers.html#narr"><i class="fa fa-check"></i><b>7.4</b> NARR</a></li>
<li class="chapter" data-level="7.5" data-path="available-meteorological-drivers.html"><a href="available-meteorological-drivers.html#cruncep"><i class="fa fa-check"></i><b>7.5</b> CRUNCEP</a></li>
<li class="chapter" data-level="7.6" data-path="available-meteorological-drivers.html"><a href="available-meteorological-drivers.html#cmip5"><i class="fa fa-check"></i><b>7.6</b> CMIP5</a></li>
<li class="chapter" data-level="7.7" data-path="available-meteorological-drivers.html"><a href="available-meteorological-drivers.html#nldas"><i class="fa fa-check"></i><b>7.7</b> NLDAS</a></li>
<li class="chapter" data-level="7.8" data-path="available-meteorological-drivers.html"><a href="available-meteorological-drivers.html#gldas"><i class="fa fa-check"></i><b>7.8</b> GLDAS</a></li>
<li class="chapter" data-level="7.9" data-path="available-meteorological-drivers.html"><a href="available-meteorological-drivers.html#paleon"><i class="fa fa-check"></i><b>7.9</b> PalEON</a></li>
<li class="chapter" data-level="7.10" data-path="available-meteorological-drivers.html"><a href="available-meteorological-drivers.html#fluxnetlathuile"><i class="fa fa-check"></i><b>7.10</b> FluxnetLaThuile</a></li>
<li class="chapter" data-level="7.11" data-path="available-meteorological-drivers.html"><a href="available-meteorological-drivers.html#geostreams"><i class="fa fa-check"></i><b>7.11</b> Geostreams</a></li>
<li class="chapter" data-level="7.12" data-path="available-meteorological-drivers.html"><a href="available-meteorological-drivers.html#database-synchronization"><i class="fa fa-check"></i><b>7.12</b> Database synchronization</a><ul>
<li class="chapter" data-level="7.12.1" data-path="available-meteorological-drivers.html"><a href="available-meteorological-drivers.html#how-does-it-work"><i class="fa fa-check"></i><b>7.12.1</b> How does it work?</a></li>
<li class="chapter" data-level="7.12.2" data-path="available-meteorological-drivers.html"><a href="available-meteorological-drivers.html#set-up"><i class="fa fa-check"></i><b>7.12.2</b> Set up</a></li>
<li class="chapter" data-level="7.12.3" data-path="available-meteorological-drivers.html"><a href="available-meteorological-drivers.html#fetch-latest-data"><i class="fa fa-check"></i><b>7.12.3</b> Fetch latest data</a></li>
<li class="chapter" data-level="7.12.4" data-path="available-meteorological-drivers.html"><a href="available-meteorological-drivers.html#sharing-data"><i class="fa fa-check"></i><b>7.12.4</b> Sharing data</a></li>
<li class="chapter" data-level="7.12.5" data-path="available-meteorological-drivers.html"><a href="available-meteorological-drivers.html#automation"><i class="fa fa-check"></i><b>7.12.5</b> Automation</a></li>
<li class="chapter" data-level="7.12.6" data-path="available-meteorological-drivers.html"><a href="available-meteorological-drivers.html#database-maintentance"><i class="fa fa-check"></i><b>7.12.6</b> Database maintentance</a></li>
<li class="chapter" data-level="7.12.7" data-path="available-meteorological-drivers.html"><a href="available-meteorological-drivers.html#troubleshooting-3"><i class="fa fa-check"></i><b>7.12.7</b> Troubleshooting</a></li>
<li class="chapter" data-level="7.12.8" data-path="available-meteorological-drivers.html"><a href="available-meteorological-drivers.html#network-status-map"><i class="fa fa-check"></i><b>7.12.8</b> Network Status Map</a></li>
<li class="chapter" data-level="7.12.9" data-path="available-meteorological-drivers.html"><a href="available-meteorological-drivers.html#tasks"><i class="fa fa-check"></i><b>7.12.9</b> Tasks</a></li>
</ul></li>
<li class="chapter" data-level="7.13" data-path="available-meteorological-drivers.html"><a href="available-meteorological-drivers.html#standalone-tools-modules"><i class="fa fa-check"></i><b>7.13</b> Standalone tools (modules)</a><ul>
<li class="chapter" data-level="7.13.1" data-path="available-meteorological-drivers.html"><a href="available-meteorological-drivers.html#LoadData"><i class="fa fa-check"></i><b>7.13.1</b> Loading Data in PEcAn</a></li>
<li class="chapter" data-level="7.13.2" data-path="available-meteorological-drivers.html"><a href="available-meteorological-drivers.html#function-load_data"><i class="fa fa-check"></i><b>7.13.2</b> Function <code>load_data</code></a></li>
</ul></li>
<li class="chapter" data-level="7.14" data-path="available-meteorological-drivers.html"><a href="available-meteorological-drivers.html#using-the-pecan-download.file-function"><i class="fa fa-check"></i><b>7.14</b> Using the PEcAn download.file() function</a></li>
</ul></li>
<li class="chapter" data-level="8" data-path="shiny.html"><a href="shiny.html"><i class="fa fa-check"></i><b>8</b> SHINY</a><ul>
<li class="chapter" data-level="8.0.1" data-path="shiny.html"><a href="shiny.html#debugging-shiny-apps"><i class="fa fa-check"></i><b>8.0.1</b> Debugging Shiny Apps</a></li>
<li class="chapter" data-level="8.1" data-path="shiny.html"><a href="shiny.html#debugging"><i class="fa fa-check"></i><b>8.1</b> Debugging</a><ul>
<li class="chapter" data-level="8.1.1" data-path="shiny.html"><a href="shiny.html#using-testsworkflow.r"><i class="fa fa-check"></i><b>8.1.1</b> Using <code>tests/workflow.R</code></a></li>
<li class="chapter" data-level="8.1.2" data-path="shiny.html"><a href="shiny.html#useful-scripts"><i class="fa fa-check"></i><b>8.1.2</b> Useful scripts</a></li>
</ul></li>
<li class="chapter" data-level="8.2" data-path="shiny.html"><a href="shiny.html#troubleshooting-pecan"><i class="fa fa-check"></i><b>8.2</b> Troubleshooting PEcAn</a><ul>
<li class="chapter" data-level="8.2.1" data-path="shiny.html"><a href="shiny.html#cookies-and-pecan-web-pages"><i class="fa fa-check"></i><b>8.2.1</b> Cookies and pecan web pages</a></li>
<li class="chapter" data-level="8.2.2" data-path="shiny.html"><a href="shiny.html#warning-mkdir-function.mkdir-no-such-file-or-directory"><i class="fa fa-check"></i><b>8.2.2</b> <code>Warning: mkdir() [function.mkdir]: No such file or directory</code></a></li>
<li class="chapter" data-level="8.2.3" data-path="shiny.html"><a href="shiny.html#after-creating-a-new-pft-the-tag-for-pft-not-passed-to-config.xml-in-ed"><i class="fa fa-check"></i><b>8.2.3</b> After creating a new PFT the <num> tag for PFT not passed to config.xml in ED</a></li>
</ul></li>
<li class="chapter" data-level="8.3" data-path="shiny.html"><a href="shiny.html#pecan-project-use-to-teach-ecological-model-data-synthesis"><i class="fa fa-check"></i><b>8.3</b> PEcAn Project use to teach Ecological model-data synthesis</a><ul>
<li class="chapter" data-level="8.3.1" data-path="shiny.html"><a href="shiny.html#university-classes"><i class="fa fa-check"></i><b>8.3.1</b> University classes</a></li>
<li class="chapter" data-level="8.3.2" data-path="shiny.html"><a href="shiny.html#summer-courses-workshops"><i class="fa fa-check"></i><b>8.3.2</b> Summer Courses / Workshops</a></li>
<li class="chapter" data-level="8.3.3" data-path="shiny.html"><a href="shiny.html#selected-publications"><i class="fa fa-check"></i><b>8.3.3</b> Selected Publications</a></li>
</ul></li>
<li class="chapter" data-level="8.4" data-path="shiny.html"><a href="shiny.html#rabbitmq"><i class="fa fa-check"></i><b>8.4</b> RabbitMQ</a><ul>
<li class="chapter" data-level="8.4.1" data-path="shiny.html"><a href="shiny.html#rabbitmq-basics-sender"><i class="fa fa-check"></i><b>8.4.1</b> Producer – <code>sender.py</code></a></li>
<li class="chapter" data-level="8.4.2" data-path="shiny.html"><a href="shiny.html#rabbitmq-basics-receiver"><i class="fa fa-check"></i><b>8.4.2</b> Consumer – <code>receiver.py</code></a></li>
<li class="chapter" data-level="8.4.3" data-path="shiny.html"><a href="shiny.html#rabbitmq-web"><i class="fa fa-check"></i><b>8.4.3</b> RabbitMQ and the PEcAn web interface</a></li>
<li class="chapter" data-level="8.4.4" data-path="shiny.html"><a href="shiny.html#rabbitmq-xml"><i class="fa fa-check"></i><b>8.4.4</b> RabbitMQ in the PEcAn XML</a></li>
<li class="chapter" data-level="8.4.5" data-path="shiny.html"><a href="shiny.html#rabbitmq-dockerfile"><i class="fa fa-check"></i><b>8.4.5</b> RabbitMQ configuration in Dockerfiles</a></li>
<li class="chapter" data-level="8.4.6" data-path="shiny.html"><a href="shiny.html#rabbitmq-case-study"><i class="fa fa-check"></i><b>8.4.6</b> Case study: PEcAn web interface</a></li>
</ul></li>
<li class="chapter" data-level="8.5" data-path="shiny.html"><a href="shiny.html#database"><i class="fa fa-check"></i><b>8.5</b> BETY Database Administration</a><ul>
<li class="chapter" data-level="8.5.1" data-path="shiny.html"><a href="shiny.html#database-setup"><i class="fa fa-check"></i><b>8.5.1</b> Best practices</a></li>
<li class="chapter" data-level="8.5.2" data-path="shiny.html"><a href="shiny.html#backup-of-bety-database"><i class="fa fa-check"></i><b>8.5.2</b> Backup of BETY database</a></li>
<li class="chapter" data-level="8.5.3" data-path="shiny.html"><a href="shiny.html#restore-of-bety-database"><i class="fa fa-check"></i><b>8.5.3</b> Restore of BETY database</a></li>
</ul></li>
<li class="chapter" data-level="8.6" data-path="shiny.html"><a href="shiny.html#workflow-modules"><i class="fa fa-check"></i><b>8.6</b> Workflow modules</a><ul>
<li class="chapter" data-level="8.6.1" data-path="shiny.html"><a href="shiny.html#overview"><i class="fa fa-check"></i><b>8.6.1</b> Overview</a></li>
<li class="chapter" data-level="8.6.2" data-path="shiny.html"><a href="shiny.html#load-settings"><i class="fa fa-check"></i><b>8.6.2</b> Load Settings:</a></li>
<li class="chapter" data-level="8.6.3" data-path="shiny.html"><a href="shiny.html#query-database"><i class="fa fa-check"></i><b>8.6.3</b> Query Database:</a></li>
<li class="chapter" data-level="8.6.4" data-path="shiny.html"><a href="shiny.html#meta-analysis"><i class="fa fa-check"></i><b>8.6.4</b> Meta Analysis:</a></li>
<li class="chapter" data-level="8.6.5" data-path="shiny.html"><a href="shiny.html#write-configuration-files"><i class="fa fa-check"></i><b>8.6.5</b> Write Configuration Files</a></li>
<li class="chapter" data-level="8.6.6" data-path="shiny.html"><a href="shiny.html#start-runs"><i class="fa fa-check"></i><b>8.6.6</b> Start Runs:</a></li>
<li class="chapter" data-level="8.6.7" data-path="shiny.html"><a href="shiny.html#get-model-output"><i class="fa fa-check"></i><b>8.6.7</b> Get Model Output</a></li>
<li class="chapter" data-level="8.6.8" data-path="shiny.html"><a href="shiny.html#ensemble-analysis"><i class="fa fa-check"></i><b>8.6.8</b> Ensemble Analysis</a></li>
<li class="chapter" data-level="8.6.9" data-path="shiny.html"><a href="shiny.html#sensitivity-analysis-variance-decomposition"><i class="fa fa-check"></i><b>8.6.9</b> Sensitivity Analysis, Variance Decomposition</a></li>
<li class="chapter" data-level="8.6.10" data-path="shiny.html"><a href="shiny.html#glossary"><i class="fa fa-check"></i><b>8.6.10</b> Glossary</a></li>
</ul></li>
<li class="chapter" data-level="8.7" data-path="shiny.html"><a href="shiny.html#data-assimilation-with-dart"><i class="fa fa-check"></i><b>8.7</b> Data assimilation with DART</a></li>
</ul></li>
<li class="part"><span><b>I Appendix</b></span></li>
<li class="chapter" data-level="9" data-path="faq.html"><a href="faq.html"><i class="fa fa-check"></i><b>9</b> FAQ</a></li>
</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">The Predictive Ecosystem Analyzer</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="shiny" class="section level1">
<h1><span class="header-section-number">8</span> SHINY</h1>
<div id="debugging-shiny-apps" class="section level3">
<h3><span class="header-section-number">8.0.1</span> Debugging Shiny Apps</h3>
<p>When developing shiny apps you can run the application from rstudio and place breakpoints int he code. To do this you will need to do the following steps first (already done on the VM) before starting rstudio:
- echo “options(shiny.port = 6438)” &gt;&gt; ${HOME}/.Rprofile
- echo “options(shiny.launch.browser = ‘FALSE’)” &gt;&gt; ${HOME}/.Rprofile</p>
<p>Next you will need to create a tunnel for port 6438 to the VM, which will be used to open the shiny app, the following command will creat this tunnel: <code>ssh -l carya -p 6422 -L 6438:localhost:6438 localhost</code>.</p>
<p>Now you can from rstudio run your application using <code>shiny::runApp()</code> and it will show the output from the application in your console. You can now place breakpoints and evaluate the output.</p>
<div id="checking-log-files" class="section level4">
<h4><span class="header-section-number">8.0.1.1</span> Checking Log Files</h4>
<p>To create Log files on the VM, execute the following:</p>
<pre><code>sudo -s
echo &quot;preserve_logs true;&quot; &gt;&gt; /etc/shiny-server/shiny-server.conf
service shiny-server restart</code></pre>
<p>Then within the directory <code>/var/log/shiny-server</code> you will see log files for your specific shiny apps.</p>

</div>
</div>
<div id="debugging" class="section level2">
<h2><span class="header-section-number">8.1</span> Debugging</h2>
<p>How to identify the source of a problem.</p>
<div id="using-testsworkflow.r" class="section level3">
<h3><span class="header-section-number">8.1.1</span> Using <code>tests/workflow.R</code></h3>
<p>This script, along with model-specific settings files in the <code>tests</code> folder, provide a working example. From inside the tests folder, <code>R CMD --vanilla -- --settings pecan.&lt;model&gt;.xml &lt; workflow.R</code> should work.</p>
<p>The next step is to add <code>debugonce(&lt;broken.function.name&gt;)</code> before running the test workflow.</p>
<p>This allows you can step through the function and evaluate the different objects as they are created and/or transformed.</p>
<p>See <a href="https://github.com/PecanProject/pecan/blob/master/tests/README.md">tests README</a> for more information.</p>
</div>
<div id="useful-scripts" class="section level3">
<h3><span class="header-section-number">8.1.2</span> Useful scripts</h3>
<p>The following scripts (in <code>qaqc/vignettes</code> identify, respectively:</p>
<ol style="list-style-type: decimal">
<li><a href="https://github.com/PecanProject/pecan/blob/master/qaqc/vignettes/function_relationships.Rmd">relationships among functions across packages</a></li>
<li><a href="https://github.com/PecanProject/pecan/blob/master/qaqc/vignettes/module_output.Rmd">function inputs and outputs</a> (e.g. that will identify which functions and outputs are used in a workflow).</li>
</ol>

</div>
</div>
<div id="troubleshooting-pecan" class="section level2">
<h2><span class="header-section-number">8.2</span> Troubleshooting PEcAn</h2>
<div id="cookies-and-pecan-web-pages" class="section level3">
<h3><span class="header-section-number">8.2.1</span> Cookies and pecan web pages</h3>
<p>You may need to disable cookies specifically for the pecan webserver in your browser. This shouldn’t be a problem running from the virtual machine, but your installation of php can include a ‘PHPSESSID’ that is quite long, and this can overflow the params field of the workflows table, depending on how long your hostname, model name, site name, etc are.</p>
</div>
<div id="warning-mkdir-function.mkdir-no-such-file-or-directory" class="section level3">
<h3><span class="header-section-number">8.2.2</span> <code>Warning: mkdir() [function.mkdir]: No such file or directory</code></h3>
<p>If you are seeing: <code>Warning: mkdir() [function.mkdir]: No such file or directory in /path/to/pecan/web/runpecan.php at line 169</code> it is because you have used a relative path for $output_folder in system.php.</p>
</div>
<div id="after-creating-a-new-pft-the-tag-for-pft-not-passed-to-config.xml-in-ed" class="section level3">
<h3><span class="header-section-number">8.2.3</span> After creating a new PFT the <num> tag for PFT not passed to config.xml in ED</h3>
<p>This is a result of the rather clunky way we currently have adding PFTs to PEcAn. This is happening because you need to edit the ./pecan/models/ed/data/pftmapping.csv file to include your new PFTs.</p>
<p>This is what the file looks like:</p>
<pre><code>PEcAn;ED
ebifarm.acru;11
ebifarm.acsa3;11
...</code></pre>
<p>You just need to edit this file (in a text editor, no Excel) and add your PFT names and associated number to the end of the file. Once you do this, recompile PEcAn and it should then work for you. We currently need to reference this file in order to properly set the PFT number and maintain internal consistency between PEcAn and ED2.</p>

</div>
</div>
<div id="pecan-project-use-to-teach-ecological-model-data-synthesis" class="section level2">
<h2><span class="header-section-number">8.3</span> PEcAn Project use to teach Ecological model-data synthesis</h2>
<div id="university-classes" class="section level3">
<h3><span class="header-section-number">8.3.1</span> University classes</h3>
<div id="ge-375---environmental-modeling---spring-2013-2014-mike-dietze-boston-university" class="section level4">
<h4><span class="header-section-number">8.3.1.1</span> GE 375 - Environmental Modeling - Spring 2013, 2014 (Mike Dietze, Boston University)</h4>
<p>The final “Case Study: Terrestrial Ecosystem Models” is a PEcAn-based hands-on activity. Each class has been 25 students.</p>
<p>GE 585 - Ecological forecasting Fall 2013 (Mike Dietze, Boston University)</p>
</div>
</div>
<div id="summer-courses-workshops" class="section level3">
<h3><span class="header-section-number">8.3.2</span> Summer Courses / Workshops</h3>
<div id="annual-summer-course-in-flux-measurement-and-advanced-modeling-mike-dietze-ankur-desai-niwot-ridge-co" class="section level4">
<h4><span class="header-section-number">8.3.2.1</span> Annual summer course in flux measurement and advanced modeling (Mike Dietze, Ankur Desai) Niwot Ridge, CO</h4>
<p>About 1/3 lecture, 2/3 hands-on (the syllabus is actually wrong as it list the other way around). Each class has 24 students.</p>
<p><a href="http://www.fluxcourse.org/files/SyllabusFluxcourse_2013.pdf">2013 Syllabus</a> see Tuesday Week 2 Data Assimilation lectures and PEcAn demo and the Class projects and presentations on Thursday and Friday. (Most students use PEcAn for their group projects. 2014 will be the third year that PEcAn has been used for this course.</p>
</div>
<div id="assimilating-long-term-data-into-ecosystem-models-paleo-ecological-observatory-network-paleon-project" class="section level4">
<h4><span class="header-section-number">8.3.2.2</span> Assimilating Long-Term Data into Ecosystem Models: Paleo-Ecological Observatory Network (PalEON) Project</h4>
<p>Here is a link to the course: <a href="https://www3.nd.edu/~paleolab/paleonproject/summer-course/" class="uri">https://www3.nd.edu/~paleolab/paleonproject/summer-course/</a></p>
<p>This course uses the same demo as above, including collecting data in the field and assimilating it (part 3)</p>
</div>
<div id="integrating-evidence-on-forest-response-to-climate-change-physiology-to-regional-abundance" class="section level4">
<h4><span class="header-section-number">8.3.2.3</span> Integrating Evidence on Forest Response to Climate Change: Physiology to Regional Abundance</h4>
<p><a href="http://blue.for.msu.edu/macrosystems/workshop" class="uri">http://blue.for.msu.edu/macrosystems/workshop</a></p>
<p>May 13-14, 2013</p>
<p>Session 4: Integrating Forest Data Into Ecosystem Models</p>
</div>
<div id="ecological-society-of-america-meetings" class="section level4">
<h4><span class="header-section-number">8.3.2.4</span> Ecological Society of America meetings</h4>
<p><a href="http://eco.confex.com/eco/2013/webprogram/Session9007.html">Workshop: Combining Field Measurements and Ecosystem Models</a></p>
</div>
</div>
<div id="selected-publications" class="section level3">
<h3><span class="header-section-number">8.3.3</span> Selected Publications</h3>
<ol style="list-style-type: decimal">
<li>Dietze, M.C., D.S LeBauer, R. Kooper (2013) <a href="https://github.com/PecanProject/pecan/blob/master/documentation/dietze2013oic.pdf?raw=true">On improving the communication between models and data</a>. Plant, Cell, &amp; Environment <a href="doi:10.1111/pce.12043" class="uri">doi:10.1111/pce.12043</a></li>
<li>LeBauer, D.S., D. Wang, K. Richter, C. Davidson, &amp; M.C. Dietze. (2013). <a href="https://github.com/PecanProject/pecan/blob/master/documentation/lebauer2013ffb.pdf?raw=true">Facilitating feedbacks between field measurements and ecosystem models</a>. Ecological Monographs. <a href="doi:10.1890/12-0137.1" class="uri">doi:10.1890/12-0137.1</a></li>
</ol>

</div>
</div>
<div id="rabbitmq" class="section level2">
<h2><span class="header-section-number">8.4</span> RabbitMQ</h2>
<p>This section provides additional details about how PEcAn uses RabbitMQ to manage communication between its Docker containers.</p>
<p>In PEcAn, we use the Python <a href="http://www.rabbitmq.com/tutorials/tutorial-one-python.html"><code>pika</code></a> client to post and retrieve messages from RabbitMQ.
As such, every Docker container that communicates with RabbitMQ contains two Python scripts: <code>sender.py</code> and <code>reciever.py</code>.
Both are located in the <code>docker</code> directory in the PEcAn source code root.</p>
<div id="rabbitmq-basics-sender" class="section level3">
<h3><span class="header-section-number">8.4.1</span> Producer – <code>sender.py</code></h3>
<p>The <code>sender.py</code> script is in charge of posting messages to RabbitMQ.
In the RabbitMQ documentation, it is known as a “producer”.
It runs once for every message posted to RabbitMQ, and then immediately exits (unlike the <code>receiver.py</code>, which runs continuously – see <a href="shiny.html#rabbitmq-basics-receiver">below</a>).</p>
<p>Its usage is as follows:</p>
<pre class="sourceCode bash"><code class="sourceCode bash"><span class="ex">python3</span> sender.py <span class="op">&lt;</span>URI<span class="op">&gt;</span> <span class="op">&lt;</span>queue<span class="op">&gt;</span> <span class="op">&lt;</span>message<span class="op">&gt;</span></code></pre>
<p>The arguments are:</p>
<ul>
<li><p><code>&lt;URI&gt;</code> – The unique identifier of the RabbitMQ instance, similar to a URL.
The format is <code>amqp://username:password@host/vhost</code>.
By default, this is <code>amqp://guest:guest@rabbitmq/%2F</code> (the <code>%2F</code> here is the hexadecimal encoding for the <code>/</code> character).</p></li>
<li><p><code>&lt;queue&gt;</code> – The name of the queue on which to post the message.</p></li>
<li><p><code>&lt;message&gt;</code> – The contents of the message to post, in JSON format.
A typical message posted by PEcAn looks like the following:</p>
<pre class="sourceCode json"><code class="sourceCode json"><span class="fu">{</span> <span class="dt">&quot;folder&quot;</span> <span class="fu">:</span> <span class="st">&quot;/path/to/PEcAn_WORKFLOWID&quot;</span><span class="fu">,</span> <span class="dt">&quot;workflow&quot;</span> <span class="fu">:</span> <span class="st">&quot;WORKFLOWID&quot;</span> <span class="fu">}</span></code></pre></li>
</ul>
<p>The <code>PEcAn.remote::start_rabbitmq</code> function is a wrapper for this script that provides an easy way to post a <code>folder</code> message to RabbitMQ from R.</p>
</div>
<div id="rabbitmq-basics-receiver" class="section level3">
<h3><span class="header-section-number">8.4.2</span> Consumer – <code>receiver.py</code></h3>
<p>Unlike <code>sender.py</code>, <code>receiver.py</code> runs like a daemon, constantly listening for messages.
In the RabbitMQ documentation, it is known as a “consumer”.
In PEcAn, you can tell that it is ready to receive messages if the corresponding logs (e.g. <code>docker-compose logs executor</code>) show the following message:</p>
<pre><code>[*] Waiting for messages. To exit press CTRL+C.</code></pre>
<p>Our <code>reciever</code> is configured by three environment variables:</p>
<ul>
<li><p><code>RABBITMQ_URI</code> – This defines the URI where RabbitMQ is running.
See corresponding argument in the <a href="shiny.html#rabbitmq-basics-sender">producer</a></p></li>
<li><p><code>RABBITMQ_QUEUE</code> – This is the name of the queue on which the consumer will listen for messages, just as in the <a href="shiny.html#rabbitmq-basics-sender">producer</a>.</p></li>
<li><p><code>APPLICATION</code> – This specifies the name (including the path) of the default executable to run when receiving a message.
At the moment, it should be an executable that runs in the directory specified by the message’s <code>folder</code> variable.
In the case of PEcAn models, this is usually <code>./job.sh</code>, such that the <code>folder</code> corresponds to the <code>run</code> directory associated with a particular <code>runID</code> (i.e. where the <code>job.sh</code> is located).
For the PEcAn workflow itself, this is set to <code>R CMD BATCH workflow.R</code>, such that the <code>folder</code> is the root directory of the workflow (in the <code>executor</code> Docker container, something like <code>/data/workflows/PEcAn_&lt;workflowID&gt;</code>).
This default executable is <em>overridden</em> if the message contains a <code>custom_application</code> key.
If included, the string specified by the <code>custom_application</code> key will be run as a command exactly as is on the container, from the directory specified by <code>folder</code>.
For instance, in the example below, the container will print “Hello there!” instead of running its default application.</p>
<pre class="sourceCode json"><code class="sourceCode json"><span class="fu">{</span><span class="dt">&quot;custom_application&quot;</span><span class="fu">:</span> <span class="st">&quot;echo &#39;Hello there!&#39;&quot;</span><span class="fu">,</span> <span class="dt">&quot;folder&quot;</span><span class="fu">:</span> <span class="st">&quot;/path/to/my/dir&quot;</span><span class="fu">}</span></code></pre>
<p>NOTE that in RabbitMQ messages, the <code>folder</code> key is always required.</p></li>
</ul>
</div>
<div id="rabbitmq-web" class="section level3">
<h3><span class="header-section-number">8.4.3</span> RabbitMQ and the PEcAn web interface</h3>
<p>RabbitMQ is configured by the following variables in <code>config.php</code>:</p>
<ul>
<li><code>$rabbitmq_host</code> – The RabbitMQ server hostname (default: <code>rabbitmq</code>, because that is the name of the <code>rabbitmq</code> service in <code>docker-compose.yml</code>)</li>
<li><code>$rabbitmq_port</code> – The port on which RabbitMQ listens for messages (default: 5672)</li>
<li><code>$rabbitmq_vhost</code> – The path of the RabbitMQ <a href="https://www.rabbitmq.com/vhosts.html">Virtual Host</a> (default: <code>/</code>).</li>
<li><code>$rabbitmq_queue</code> – The name of the RabbitMQ queue associated with the PEcAn workflow (default: <code>pecan</code>)</li>
<li><code>$rabbitmq_username</code> – The RabbitMQ username (default: <code>guest</code>)</li>
<li><code>$rabbitmq_password</code> – The RabbitMQ password (default: <code>guest</code>)</li>
</ul>
<p>In addition, for running models via RabbitMQ, you will also need to add an entry like the following to the <code>config.php</code> <code>$hostlist</code>:</p>
<pre class="sourceCode php"><code class="sourceCode php"><span class="kw">$hostlist</span>=<span class="kw">array</span><span class="ot">(</span><span class="kw">$fqdn</span> =&gt; <span class="kw">array</span><span class="ot">(</span><span class="st">&quot;rabbitmq&quot;</span> =&gt; <span class="st">&quot;amqp://guest:guest@rabbitmq/%2F&quot;</span><span class="ot">),</span> <span class="st">...</span><span class="ot">)</span></code></pre>
<p>This will set the hostname to the name of the current machine (defined by the <code>$fqdn</code> variable earlier in the <code>config.php</code> file) to an array with one entry, whose key is <code>rabbitmq</code> and whose value is the RabbitMQ URI (<code>amqp://...</code>).</p>
<p>These values are converted into the appropriate entries in the <code>pecan.xml</code> in <code>web/04-runpecan.php</code>.</p>
</div>
<div id="rabbitmq-xml" class="section level3">
<h3><span class="header-section-number">8.4.4</span> RabbitMQ in the PEcAn XML</h3>
<p>RabbitMQ is a special case of remote execution, so it is configured by the <code>host</code> node.
An example RabbitMQ configuration is as follows:</p>
<pre class="sourceCode xml"><code class="sourceCode xml"><span class="kw">&lt;host&gt;</span>
  <span class="kw">&lt;rabbitmq&gt;</span>
    <span class="kw">&lt;uri&gt;</span>amqp://guest:guest@rabbitmq/%2F<span class="kw">&lt;/uri&gt;</span>
    <span class="kw">&lt;queue&gt;</span>sipnet_136<span class="kw">&lt;/queue&gt;</span>
  <span class="kw">&lt;/rabbitmq&gt;</span>
<span class="kw">&lt;/host&gt;</span></code></pre>
<p>Here, <code>uri</code> and <code>queue</code> have the same general meanings as described in <a href="shiny.html#rabbitmq-basics-sender">“producer”</a>.
Note that <code>queue</code> here refers to the target model.
In PEcAn, RabbitMQ model queues are named as <code>MODELTYPE_REVISION</code>,
so the example above refers to the SIPNET model version 136.
Another example is <code>ED2_git</code>, referring to the latest <code>git</code> version of the ED2 model.</p>
</div>
<div id="rabbitmq-dockerfile" class="section level3">
<h3><span class="header-section-number">8.4.5</span> RabbitMQ configuration in Dockerfiles</h3>
<p>As described in the <a href="shiny.html#rabbitmq-basics-receiver">“consumer”</a> section, our standard RabbitMQ receiver script is configured using three environment variables: <code>RABBITMQ_URI</code>, <code>RABBITMQ_QUEUE</code>, and <code>APPLICATION</code>.
Therefore, configuring a container to work with PEcAn’s RabbitMQ instance requires setting these three variables in the Dockerfile using an <a href="https://docs.docker.com/engine/reference/builder/#env"><code>ENV</code></a> statement.</p>
<p>For example, this excerpt from <code>docker/base/Dockerfile.executor</code> (for the <code>pecan/executor</code> image responsible for the PEcAn workflow) sets these variables as follows:</p>
<pre class="sourceCode dockerfile"><code class="sourceCode dockerfile"><span class="kw">ENV</span> RABBITMQ_URI=<span class="st">&quot;amqp://guest:guest@rabbitmq/%2F&quot;</span> \
    RABBITMQ_QUEUE=<span class="st">&quot;pecan&quot;</span> \
    APPLICATION=<span class="st">&quot;R CMD BATCH workflow.R&quot;</span></code></pre>
<p>Similarly, this excerpt from <code>docker/models/Dockerfile.sipnet</code> (which builds the SIPNET model image) is a typical example for a model image.
Note the use of <a href="https://docs.docker.com/engine/reference/builder/#arg"><code>ARG</code></a> here to specify a default version model version of 136 while allowing this to be configurable (via <code>--build-arg MODEL_VERSION=X</code>) at build time:</p>
<pre class="sourceCode dockerfile"><code class="sourceCode dockerfile"><span class="kw">ARG</span> MODEL_VERSION=136

<span class="kw">ENV</span> APPLICATION=<span class="st">&quot;./job.sh&quot;</span> \
    MODEL_TYPE=<span class="st">&quot;SIPNET&quot;</span> \
    MODEL_VERSION=<span class="st">&quot;${MODEL_VERSION}&quot;</span>

<span class="kw">ENV</span> RABBITMQ_QUEUE=<span class="st">&quot;${MODEL_TYPE}_${MODEL_VERSION}&quot;</span></code></pre>
<p><strong>WARNING</strong>: Dockerfile environment variables set via <code>ENV</code> are assigned <em>all at once</em>; <em>they do not evaluate successively, left to right</em>.
Consider the following block:</p>
<pre class="sourceCode dockerfile"><code class="sourceCode dockerfile"><span class="co"># Don&#39;t do this!</span>
<span class="kw">ENV</span> MODEL_TYPE=<span class="st">&quot;SIPNET&quot;</span> \
    MODEL_VERSION=136 \
    RABBITMQ_QUEUE=${MODEL_TYPE}_${MODEL_VERSION}   <span class="co"># &lt;- Doesn&#39;t know about MODEL_TYPE or MODEL_VERSION!</span></code></pre>
<p>In this block, the expansion for setting <code>RABBITMQ_QUEUE</code> <em>is not aware</em> of the current values of <code>MODEL_TYPE</code> or <code>MODEL_VERSION</code>, and will therefore be set incorrectly to just <code>_</code> (unless they have been set previously, in which case it will be aware only of their earlier values).
As such, <strong>variables depending on other variables must be set in a separate, subsequent <code>ENV</code> statement than the variables they depend on</strong>.</p>
</div>
<div id="rabbitmq-case-study" class="section level3">
<h3><span class="header-section-number">8.4.6</span> Case study: PEcAn web interface</h3>
<p>The following describes in general terms what happens during a typical run of the PEcAn web interface with RabbitMQ.</p>
<ol style="list-style-type: decimal">
<li><p>The user initializes all containers with <code>docker-compose up</code>.
All the services that interact with RabbitMQ (<code>executor</code> and all models) run <code>receiver.py</code> in the foreground, waiting for messages to tell them what to do.</p></li>
<li><p>The user browses to <a href="http://localhost:8000/pecan/" class="uri">http://localhost:8000/pecan/</a> and steps through the web interface.
All the pages up to the <code>04-runpecan.php</code> run on the <code>web</code> container, and are primarily for setting up the <code>pecan.xml</code> file.</p></li>
<li><p>Once the user starts the PEcAn workflow at <code>04-runpecan.php</code>, the underlying PHP code connects to RabbitMQ (based on the URI provided in <code>config.php</code>) and posts the following message to the <code>pecan</code> queue:</p></li>
</ol>
<pre class="sourceCode json"><code class="sourceCode json">  <span class="fu">{</span><span class="dt">&quot;folder&quot;</span><span class="fu">:</span> <span class="st">&quot;/workflows/PEcAn_WORKFLOWID&quot;</span><span class="fu">,</span> <span class="dt">&quot;workflowid&quot;</span><span class="fu">:</span> <span class="st">&quot;WORKFLOWID&quot;</span><span class="fu">}</span></code></pre>
<ol start="4" style="list-style-type: decimal">
<li>The <code>executor</code> service, which is listening on the <code>pecan</code> queue, hears this message and executes its <code>APPLICATION</code> (<code>R CMD BATCH workflow.R</code>) in the working directory specified in the message’s <code>folder</code>.
The <code>executor</code> service then performs the pre-execution steps (e.g. trait meta-analysis, conversions) itself.
Then, to actually execute the model, <code>executor</code> posts the following message to the target model’s queue:</li>
</ol>
<pre class="sourceCode json"><code class="sourceCode json">  <span class="fu">{</span><span class="dt">&quot;folder&quot;</span><span class="fu">:</span> <span class="st">&quot;/workflows/PEcAn_WORKFLOWID/run/RUNID&quot;</span><span class="fu">}</span></code></pre>
<ol start="5" style="list-style-type: decimal">
<li><p>The target model service, which is listening on its dedicated queue, hears this message and runs its <code>APPLICATION</code>, which is <code>job.sh</code>, in the directory indicated by the message.
Upon exiting (normally), the model service writes its status into a file called <code>rabbitmq.out</code> in the same directory.</p></li>
<li><p>The <code>executor</code> container continuously looks for the <code>rabbitmq.out</code> file as an indication of the model run’s status.
Once it sees this file, it reads the status and proceeds with the post-execution parts of the workflow.
(NOTE that this isn’t perfect. If the model running process exits abnormally, the <code>rabbitmq.out</code> file may not be created, which can cause the <code>executor</code> container to hang. If this happens, the solution is to restart the <code>executor</code> container with <code>docker-compose restart executor</code>).</p></li>
</ol>

</div>
</div>
<div id="database" class="section level2">
<h2><span class="header-section-number">8.5</span> BETY Database Administration</h2>
<p>This section provides additional details about the BETY database used by PEcAn. It will discuss best practices for setting up the BETY database, how to backup the database and how to restore the database.</p>
<div id="database-setup" class="section level3">
<h3><span class="header-section-number">8.5.1</span> Best practices</h3>
<p>When using the BETY database in non testing mode, it is best not to use the default users. This is accomplished when running the initialize of the database. When the database is initally created the database will be created with some default users (best known is the carya user) as well as the guestuser that can be used in the BETY web application. To disable these users you will either need to disable the users from the web interface, or you can reinitialize the database and remove the <code>-u</code> flag from the command line (the <code>-u</code> flag will create the default users). To disable the guestuser as well you can remove the <code>-g</code> flag from the command line, or disable the account from BETY.</p>
<p>The default installation of BETY and PEcAn will assume there is a database called bety with a default username and password. The default installation will setup the database account to not have any superuser abilities. It is also best to limit access to the postgres database from trusted hosts, either by using firewalls, or configuring postgresql to only accept connections from a limited set of hosts.</p>
</div>
<div id="backup-of-bety-database" class="section level3">
<h3><span class="header-section-number">8.5.2</span> Backup of BETY database</h3>
<p>It is good practice to make sure you backup the BETY database. Just creating a copy of the files on disk is not enough to ensure you have a valid backup. Most likely if you do this you will end up with a corrupted backup of the database.</p>
<p>To backup the database you can use the <code>pg_dump</code> command, which will make sure the database id backed up in a consistent state. You can run <code>sudo -u postgres pg_dump -d bety -Z 9 -f bety.sql.gz</code>, this will create a compressed file that can be used to resotore the database.</p>
<p>In the PEcAn distribution in scripts folder there is a script called <code>backup.bety.sh</code>. This script will create the backup of the database. It will create multiple backups allowing you to restore the database from one of these copies. The database will be backed up to one of the following files:
- bety-d-X, daily backup, where X is the day of the month.
- bety-w-X, weekly backup, where X is the week number in the year
- bety-m-X, montly backup, where X is the month of the year
- bety-y-X, yearly backup, where X is the actual year.
Using this scheme, we can restore the database using any of the files generated.</p>
<p>It is recommeneded to run this script using a cronjob at midnight such that you have a daily backup of the database and do not have to remember to create these backups. When running this script (either cron or by hand) make sure to place the backups on a different machine than the machine that holds the database in case of a larger system failure.</p>
</div>
<div id="restore-of-bety-database" class="section level3">
<h3><span class="header-section-number">8.5.3</span> Restore of BETY database</h3>
<p>Hopefully this section will never need to be used. Following are 5 steps that have been used to restore the database. Before you start it is worth it to read up online a bit on restoring the database as well as join the slack channel and ask any of the people there for help.</p>
<ol style="list-style-type: decimal">
<li>stop apache (BETY/PEcAn web apps) <code>service httpd stop</code> or <code>service apache2 stop</code></li>
<li>backup database (you know just incase) <code>pg_dump -d bety &gt; baddb.sql</code></li>
<li>drop database <code>sudo -u postgres psql -c 'drop database bety'</code></li>
<li>create database <code>sudo -u postgres psql -c 'create database bety with owner bety'</code></li>
<li>load database (assuming dump is called bety.sql.gz) <code>zcat bety.sql.gz | grep -v  search_path |  sudo -u postgres psql -d bety</code></li>
<li>start apache again <code>service httpd start</code> or <code>service apache2 start</code></li>
</ol>
<p>If during step 5 there is a lot of errors, it is helpful to add <code>-v ON_ERROR_STOP=1</code> to the end of the command. This will stop the restore at the first error and will help with debugging the issue.</p>

</div>
</div>
<div id="workflow-modules" class="section level2">
<h2><span class="header-section-number">8.6</span> Workflow modules</h2>
<p>NOTE: As of PEcAn 1.2.6 – needs to be updated significantly</p>
<!--NEEDS TO BE UPDATED SIGNIFICANTLY-->
<div id="overview" class="section level3">
<h3><span class="header-section-number">8.6.1</span> Overview</h3>
<p>Workflow inputs and outputs (click to open in new page, then zoom). Code used to generate this image is provided in <a href="https://github.com/PecanProject/pecan/blob/master/qaqc/vignettes/module_output.Rmd">qaqc/vignettes/module_output.Rmd</a></p>
<p><a href="http://isda.ncsa.illinois.edu/~kooper/EBI/workflow.svg"><img src="http://isda.ncsa.illinois.edu/~kooper/EBI/workflow.svg" alt="PEcAn Workflow" /></a></p>
</div>
<div id="load-settings" class="section level3">
<h3><span class="header-section-number">8.6.2</span> Load Settings:</h3>
<div id="read.settingshomepecanpecan.xml" class="section level4">
<h4><span class="header-section-number">8.6.2.1</span> <code>read.settings(&quot;/home/pecan/pecan.xml&quot;)</code></h4>
<ul>
<li>loads settings</li>
<li>create directories</li>
<li>generates new xml, put in output folder</li>
</ul>
</div>
</div>
<div id="query-database" class="section level3">
<h3><span class="header-section-number">8.6.3</span> Query Database:</h3>
<div id="get.trait.data" class="section level4">
<h4><span class="header-section-number">8.6.3.1</span> <code>get.trait.data()</code></h4>
<p>Queries the database for both the trait data and prior distributions associated with the PFTs specified in the settings file. The list of variables that are queried is determined by what variables have priors associated with them in the definition of the pft. Likewise, the list of species that are associated with a PFT determines what subset of data is extracted out of all data matching a given variable name.</p>
</div>
</div>
<div id="meta-analysis" class="section level3">
<h3><span class="header-section-number">8.6.4</span> Meta Analysis:</h3>
<div id="run.meta.analysis" class="section level4">
<h4><span class="header-section-number">8.6.4.1</span> <code>run.meta.analysis()</code></h4>
<p>The meta-analysis code begins by distilling the trait.data to just the values needed for the meta-analysis statistical model, with this being stored in <code>madata.Rdata</code>. This reduced form includes the conversion of all error statistics into precision (1/variance), and the indexing of sites, treatments, and greenhouse. In reality, the core meta-analysis code can be run independent of the trait database as long as input data is correctly formatted into the form shown in <code>madata</code>.</p>
<p>The evaluation of the meta-analysis is done using a Bayesian statistical software package called JAGS that is called by the R code. For each trait, the R code will generate a [trait].model.bug file that is the JAGS code for the meta-analysis itself. This code is generated on the fly, with PEcAn adding or subtracting the site, treatment, and greenhouse terms depending upon the presence of these effects in the data itself.</p>
<p>Meta-analyses are run, and summary plots are produced.</p>
</div>
</div>
<div id="write-configuration-files" class="section level3">
<h3><span class="header-section-number">8.6.5</span> Write Configuration Files</h3>
<div id="write.configsmodel" class="section level4">
<h4><span class="header-section-number">8.6.5.1</span> <code>write.configs(model)</code></h4>
<ul>
<li>writes out a configuration file for each model run
** writes 500 configuration files for a 500 member ensemble
** for <em>n</em> traits, writes <code>6 * n + 1</code> files for running default Sensitivity Analysis (number can be changed in the pecan settings file)</li>
</ul>
</div>
</div>
<div id="start-runs" class="section level3">
<h3><span class="header-section-number">8.6.6</span> Start Runs:</h3>
<div id="start.runsmodel" class="section level4">
<h4><span class="header-section-number">8.6.6.1</span> <code>start.runs(model)</code></h4>
<p>This code starts the model runs using a model specific run function named start.runs.<a href="tutorialsdemos-and-how-tos.html#model">model</a>. If the ecosystem model is running on a remote server, this module also takes care of all of the communication with the remote server and its run queue. Each of your subdirectories should now have a [run.id].out file in it. One instance of the model is run for each configuration file generated by the previous write configs module.</p>
</div>
</div>
<div id="get-model-output" class="section level3">
<h3><span class="header-section-number">8.6.7</span> Get Model Output</h3>
<div id="get.model.outputmodel" class="section level4">
<h4><span class="header-section-number">8.6.7.1</span> <code>get.model.output(model)</code></h4>
<p>This code first uses a model-specific model2netcdf.<a href="tutorialsdemos-and-how-tos.html#model">model</a> function to convert the model output into a standard output format (<a href="http://nacp.ornl.gov/MsTMIP_variables.shtml">MsTMIP</a>). Then it extracts the data for requested variables specified in the settings file as <code>settings$ensemble$variable</code>, averages over the time-period specified as <code>start.date</code> and <code>end.date</code>, and stores the output in a file <code>output.Rdata</code>. The <code>output.Rdata</code> file contains two objects, <code>sensitivity.output</code> and <code>ensemble.output</code>, that is the model prediction for the parameter sets specified in <code>sa.samples</code> and <code>ensemble.samples</code>. In order to save bandwidth, if the model output is stored on a remote system PEcAn will perform these operations on the remote host and only return the <code>output.Rdata</code> object.</p>
</div>
</div>
<div id="ensemble-analysis" class="section level3">
<h3><span class="header-section-number">8.6.8</span> Ensemble Analysis</h3>
<div id="run.ensemble.analysis" class="section level4">
<h4><span class="header-section-number">8.6.8.1</span> <code>run.ensemble.analysis()</code></h4>
<p>This module makes some simple graphs of the ensemble output. Open ensemble.analysis.pdf to view the ensemble prediction as both a histogram and a boxplot. ensemble.ts.pdf provides a timeseries plot of the ensemble mean, meadian, and 95% CI</p>
</div>
</div>
<div id="sensitivity-analysis-variance-decomposition" class="section level3">
<h3><span class="header-section-number">8.6.9</span> Sensitivity Analysis, Variance Decomposition</h3>
<div id="run.sensitivity.analysis" class="section level4">
<h4><span class="header-section-number">8.6.9.1</span> <code>run.sensitivity.analysis()</code></h4>
<p>This function processes the output of the previous module into sensitivity analysis plots, <code>sensitivityanalysis.pdf</code>, and a variance decomposition plot, <code>variancedecomposition.pdf</code> . In the sensitivity plots you will see the parameter values on the x-axis, the model output on the Y, with the dots being the model evaluations and the line being the spline fit.</p>
<p>The variance decomposition plot is discussed more below. For your reference, the R list object, sensitivity.results, stored in sensitivity.results.Rdata, contains all the components of the variance decomposition table, as well as the the input parameter space and splines from the sensitivity analysis (reminder: the output parameter space from the sensitivity analysis was in outputs.R).</p>
<p>The variance decomposition plot contains three columns, the coefficient of variation (normalized posterior variance), the elasticity (normalized sensitivity), and the partial standard deviation of each model parameter. This graph is sorted by the variable explaining the largest amount of variability in the model output (right hand column). From this graph identify the top-tier parameters that you would target for future constraint.</p>
</div>
</div>
<div id="glossary" class="section level3">
<h3><span class="header-section-number">8.6.10</span> Glossary</h3>
<ul>
<li>Inputs: data sets that are used, and file paths leading to them</li>
<li>Parameters: e.g. info set in settings file</li>
<li>Outputs: data sets that are dropped, and the file paths leading to them</li>
</ul>

</div>
</div>
<div id="data-assimilation-with-dart" class="section level2">
<h2><span class="header-section-number">8.7</span> Data assimilation with DART</h2>
<p>In addition to the state assimilation routines found in the assim.sequential module, another approach for state data assimilation in PEcAn is through the DART workflow created by the DARES group in NCAR.</p>
<p>This section gives a straight-forward explanation how to implement DART, focused on the technical aspects of the implementation. If there are any questions, feel free to send @Viskari an email (<code>tt.viskari@gmail.com</code>) or contacting DART support as they are quite awesome in helping people with problems. Also, if there are any suggestions on how to improve the wiki, please let me know.</p>
<p><strong>Running with current folders in PEcAn</strong></p>
<p>Currently the DART folders in PEcAn are that you can simply copy the structure there over a downloaded DART workflow and it should replace/add relevant files and folders. The most important step after that is to check and change the run paths in the following files:
Path_name files in the work folders
T_ED2IN file, as it indicates where the run results be written.
advance_model.csh, as it indicates where to copy files from/to.</p>
<p>Second thing is setting the state vector size. This is explained in more detail below, but essentially this is governed by the variable model_size in model_mod.f90. In addition to this, it should be changed in utils/F2R.f90 and R2F.f90 programs, which are responsible for reading and writing state variable information for the different ensembles. This also will be expanded below. Finally, the new state vector size should be updated for any other executable that runs it.</p>
<p>Third thing needed are the initial condition and observation sequence files. They will always follow the same format and are explained in more detail below.</p>
<p>Finally the ensemble size, which is the easiest to change. In the work subfolder, there is a file named input.nml. Simply changing the ensemble size there will set it for the run itself. Also remember that initial conditions file should have the equal amount of state vectors as there are ensemble members.</p>
<p><strong>Adjusting the workflow</strong></p>
<p>The central file for the actual workflow is advance_model.csh. It is a script DART calls to determine how the state vector changes between the two observation times and is essentially the only file one needs to change when changing state models or observations operators. The file itself should be commented to give a good idea of the flow, but beneath is a crude order of events.
1. Create a temporary folder to run the model in and copy/link required files in to it.
2. Read in the state vector values and times from DART. Here it is important to note that the values will be in binary format, which need to be read in by a Fortran program. In my system, there is a program called F2R which reads in the binary values and writes out in ascii form the state vector values as well as which ED2 history files it needs to copy based on the time stamps.
3. Run the observation operator, which writes the state vector state in to the history files and adjusts them if necessary.
4. Run the program.
5. Read the new state vector values from output files.
6. Convert the state vector values to the binary. In my system, this is done by the program R2F.</p>
<p><strong>Initial conditions file</strong></p>
<p>The initial conditions file, commonly named filter_ics although you can set it to something else in input.nml, is relatively simple in structure. It has one sequence repeating over the number of ensemble members.
First line contains two times: Seconds and days. Just use one of them in this situation, but it has to match the starting time given in input.nml.
After that each line should contain a value from the state vector in the order you want to treat them.
R functions filter_ics.R and B_filter_ics.R in the R folder give good examples of how to create these.</p>
<p><strong>Observations files</strong></p>
<p>The file which contains the observations is commonly known as obs_seq.out, although again the name of the file can be changed in input.nml. The structure of the file is relatively straight-forward and the R function ObsSeq.R in the R subfolder has the write structure for this. Instead of writing it out here, I want to focus on a few really important details in this file.
Each observations will have a time, a value, an uncertainty, a location and a kind. The first four are self-explanatory, but the kind is really important, but also unfortunately really easy to misunderstand. In this file, the kind does not refer to a unit or a type of observation, but which member of the state vector is this observation of. So if the kind was, for example, 5, it would mean that it was of the fifth member of the state vector. However, if the kind value is positive, the system assumes that there is some sort of an operator change in comparing the observation and state vector value which is specified in a subprogram in model_mod.f90.</p>
<p>So for an direct identity comparison between the observation and the state vector value, the kind needs to be negative number of the state vector component. Thus, again if the observation is of the fifth state vector value, the kind should be set as -5. Thus it is recommendable that the state vector values have already been altered to be comparable with the observations.</p>
<p>As for location, there are many ways to set in DART and the method needs to be chosen when compiling the code by giving the program which of the location mods it is to use. In our examples we used a 1-dimensional location vector with scaled values between 0 and 1. For future it makes sense to switch to a 2 dimensional long- and lat-scale, but for the time being the location does not impact the system a lot. The main impact will be if the covariances will be localized, as that will be decided on their locations.</p>
<p><strong>State variable vector in DART</strong></p>
<p>Creating/adjusting a state variable vector in DART is relatively straight-forward. Below are listed the steps to specify a state variable vector in DART.</p>
<p>I. For each specific model, there should be an own folder within the DART root models folder. In this folder there is a model_mod.f90, which contains the model specific subroutines necessary for a DART run.</p>
<p>At the beginning of this file there should be the following line:</p>
<p>integer, parameter :: model_size = [number]</p>
<p>The number here should be the number of variables in the vector. So for example if there were three state variables, then the line should look like this:</p>
<p>integer, parameter :: model_size = 3</p>
<p>This number should also be changed to match with any of the other executables called during the run as indicated by the list above.</p>
<ol start="2" style="list-style-type: upper-roman">
<li>In the DART root, there should be a folder named obs_kind, which contains a file called DEFAULT_obs_kind_mod.F90. It is important to note that all changes should be done to this file instead of obs_kind_mod.f90, as during compilation DART creates obs_kind_mod.f90 from DEFAULT_obs_kind_mod.F90.
This program file contains all the defined observation types used by DART and numbers them for easier reference later. Different types are classified according to observation instrument or relevant observation phenomenon. Adding a new type only requires finding an unused number and starting a new identifying line with the following:</li>
</ol>
<p>integer, parameter, public :: &amp;
KIND_…</p>
<p>Note that the observation kind should always be easy to understand, so avoid using unnecessary acronyms. For example, when adding an observation type for Leaf Area Index, it would look like below:</p>
<p>integer, parameter, public :: &amp;
KIND_LEAF_AREA_INDEX = [number]</p>
<ol start="3" style="list-style-type: upper-roman">
<li>In the DART root, there should be a folder named obs_def, which contains several files starting with obs_def_. There files contain the different available observation kinds classified either according to observation instrument or observable system. Each file starts with the line</li>
</ol>
<p>! BEGIN DART PREPROCESS KIND LIST</p>
<p>And end with line</p>
<p>! END DART PREPROCESS KIND LIST</p>
<p>The lines between these two should contain</p>
<p>! The desired observation reference, the observation type, COMMON_CODE.</p>
<p>For example, for observations relating to phenology, I have created a file called obs_def_phen_mod.f90. In this file I define the Leaf Area Index observations in the following way.</p>
<p>! BEGIN DART PREPROCESS KIND LIST
! LAI, TYPE_LEAF_AREA_INDEX, COMMON_CODE
! END DART PREPROCESS KIND LIST</p>
<p>Note that the exclamation marks are necessary for the file.</p>
<ol start="4" style="list-style-type: upper-roman">
<li>In the model specific folder, in the work subfolder there is a namelist file input.nml. This contains all the run specific information for DART. In it, there is a subtitle &amp;preprocess, under which there is a line</li>
</ol>
<p>input_files = ‘….’</p>
<p>This input_files sections must be set to refer to the obs_def file created in step III. The input files can contain references to multiple obs_def files if necessary.</p>
<p>As an example, the reference to the obs_def_phen_mod.f90 would look like
input_files = ‘../../../obs_def/obs_def_phen_mod.f90’</p>
<p>V. Finally, as an optional step, the different values in state vector can be typed. In model_mod, referred to in step I, there is a subroutine get_state_meta_data. In it, there is an input variable index_in, which refers to the vector component. So for instance for the second component of the vector index_in would be 2. If this is done, the variable kind has to be also included at the beginning of the model_mod.f90 file, at the section which begins</p>
<p>use obs_kind_mod, only ::</p>
<p>The location of the variable can be set, but for a 0-dimensional model we are discussing here, this is not necessary.</p>
<p>Here, though, it is possible to set the variable types by including the following line</p>
<p>if(index_in .eq. [number]) var_type = [One of the variable kinds set in step II]</p>
<ol start="6" style="list-style-type: upper-roman">
<li>If the length of the state vector is changed, it is important that the script ran with DART produces a vector of that length. Change appropriately if necessary.</li>
</ol>
<p>After these steps, DART should be able to run with the state vector of interest.</p>

</div>
</div>



</div>
            </section>

          </div>
        </div>
      </div>
<a href="available-meteorological-drivers.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="faq.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"google": false,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"all": ["facebook", "google", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/PecanProject/pecan/edit/master/book_source/03_topical_pages/09_shiny/shiny.Rmd",
"text": "Edit"
},
"history": {
"link": null,
"text": null
},
"download": null,
"toc": {
"collapse": "section"
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:" && /^https?:/.test(src))
      src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
