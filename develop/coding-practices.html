<!DOCTYPE html>
<html >

<head>

  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <title>24 Coding Practices | The Predictive Ecosystem Analyzer</title>
  <meta name="description" content="24 Coding Practices | The Predictive Ecosystem Analyzer">
  <meta name="generator" content="bookdown  and GitBook 2.6.7">

  <meta property="og:title" content="24 Coding Practices | The Predictive Ecosystem Analyzer" />
  <meta property="og:type" content="book" />
  
  
  
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="24 Coding Practices | The Predictive Ecosystem Analyzer" />
  
  
  

<meta name="author" content="By: PEcAn Team">


<meta name="date" content="2019-02-06">

  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black">
  
  
<link rel="prev" href="git-and-github-workflow.html">
<link rel="next" href="directory-structure.html">
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />







<script src="libs/htmlwidgets-1.3/htmlwidgets.js"></script>
<link href="libs/datatables-css-0.0.0/datatables-crosstalk.css" rel="stylesheet" />
<script src="libs/datatables-binding-0.5/datatables.js"></script>
<link href="libs/dt-core-1.10.16/css/jquery.dataTables.min.css" rel="stylesheet" />
<link href="libs/dt-core-1.10.16/css/jquery.dataTables.extra.css" rel="stylesheet" />
<script src="libs/dt-core-1.10.16/js/jquery.dataTables.min.js"></script>
<link href="libs/dt-ext-fixedcolumns-1.10.16/css/fixedColumns.dataTables.min.css" rel="stylesheet" />
<script src="libs/dt-ext-fixedcolumns-1.10.16/js/dataTables.fixedColumns.min.js"></script>
<link href="libs/crosstalk-1.0.0/css/crosstalk.css" rel="stylesheet" />
<script src="libs/crosstalk-1.0.0/js/crosstalk.min.js"></script>
<script src="libs/jszip-1.10.16/jszip.min.js"></script>
<script src="libs/pdfmake-1.10.16/pdfmake.min.js"></script>
<script src="libs/pdfmake-1.10.16/vfs_fonts.js"></script>
<link href="libs/dt-ext-buttons-1.10.16/css/buttons.dataTables.min.css" rel="stylesheet" />
<script src="libs/dt-ext-buttons-1.10.16/js/dataTables.buttons.min.js"></script>
<script src="libs/dt-ext-buttons-1.10.16/js/buttons.flash.min.js"></script>
<script src="libs/dt-ext-buttons-1.10.16/js/buttons.html5.min.js"></script>
<script src="libs/dt-ext-buttons-1.10.16/js/buttons.colVis.min.js"></script>
<script src="libs/dt-ext-buttons-1.10.16/js/buttons.print.min.js"></script>


<style type="text/css">
a.sourceLine { display: inline-block; line-height: 1.25; }
a.sourceLine { pointer-events: none; color: inherit; text-decoration: inherit; }
a.sourceLine:empty { height: 1.2em; position: absolute; }
.sourceCode { overflow: visible; }
code.sourceCode { white-space: pre; position: relative; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
code.sourceCode { white-space: pre-wrap; }
a.sourceLine { text-indent: -1em; padding-left: 1em; }
}
pre.numberSource a.sourceLine
  { position: relative; }
pre.numberSource a.sourceLine:empty
  { position: absolute; }
pre.numberSource a.sourceLine::before
  { content: attr(data-line-number);
    position: absolute; left: -5em; text-align: right; vertical-align: baseline;
    border: none; pointer-events: all;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {  }
@media screen {
a.sourceLine::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>Welcome</a></li>
<li class="part"><span><b>I Introduction</b></span></li>
<li class="chapter" data-level="1" data-path="project-overview.html"><a href="project-overview.html"><i class="fa fa-check"></i><b>1</b> Project Overview</a></li>
<li class="chapter" data-level="2" data-path="contributor-covenant-code-of-conduct.html"><a href="contributor-covenant-code-of-conduct.html"><i class="fa fa-check"></i><b>2</b> Contributor Covenant Code of Conduct</a></li>
<li class="chapter" data-level="3" data-path="about-the-pecan-book.html"><a href="about-the-pecan-book.html"><i class="fa fa-check"></i><b>3</b> About the PEcAn Book</a><ul>
<li class="chapter" data-level="3.1" data-path="about-the-pecan-book.html"><a href="about-the-pecan-book.html#how-to-contribute"><i class="fa fa-check"></i><b>3.1</b> How to Contribute</a><ul>
<li class="chapter" data-level="3.1.1" data-path="about-the-pecan-book.html"><a href="about-the-pecan-book.html#editing-the-book-yourself"><i class="fa fa-check"></i><b>3.1.1</b> Editing the book yourself</a></li>
<li class="chapter" data-level="3.1.2" data-path="about-the-pecan-book.html"><a href="about-the-pecan-book.html#feedbackcommentssuggestions"><i class="fa fa-check"></i><b>3.1.2</b> Feedback/Comments/Suggestions</a></li>
</ul></li>
</ul></li>
<li class="part"><span><b>II Basic User Guide</b></span></li>
<li class="chapter" data-level="4" data-path="GettingStarted.html"><a href="GettingStarted.html"><i class="fa fa-check"></i><b>4</b> Getting Started</a><ul>
<li class="chapter" data-level="4.1" data-path="GettingStarted.html"><a href="GettingStarted.html#how-pecan-works-in-a-nutshell"><i class="fa fa-check"></i><b>4.1</b> How PEcAn Works in a nutshell</a></li>
<li class="chapter" data-level="4.2" data-path="GettingStarted.html"><a href="GettingStarted.html#installing-and-running-pecan"><i class="fa fa-check"></i><b>4.2</b> Installing and running PEcAn</a><ul>
<li class="chapter" data-level="4.2.1" data-path="GettingStarted.html"><a href="GettingStarted.html#basicvm"><i class="fa fa-check"></i><b>4.2.1</b> Using the Virtual Machine</a></li>
<li class="chapter" data-level="4.2.2" data-path="GettingStarted.html"><a href="GettingStarted.html#awsvm"><i class="fa fa-check"></i><b>4.2.2</b> Using Amazon Web Services (AWS)</a></li>
<li class="chapter" data-level="4.2.3" data-path="GettingStarted.html"><a href="GettingStarted.html#dockervm"><i class="fa fa-check"></i><b>4.2.3</b> (Experimental) Using Docker</a></li>
<li class="chapter" data-level="4.2.4" data-path="GettingStarted.html"><a href="GettingStarted.html#advanced-installing-by-hand"><i class="fa fa-check"></i><b>4.2.4</b> (Advanced) Installing by hand</a></li>
</ul></li>
<li class="chapter" data-level="4.3" data-path="GettingStarted.html"><a href="GettingStarted.html#pecan-demos"><i class="fa fa-check"></i><b>4.3</b> PEcAn Demos</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="web-workflow.html"><a href="web-workflow.html"><i class="fa fa-check"></i><b>5</b> Web workflow</a><ul>
<li class="chapter" data-level="5.1" data-path="web-workflow.html"><a href="web-workflow.html#web-site-model"><i class="fa fa-check"></i><b>5.1</b> Site and model selection</a><ul>
<li class="chapter" data-level="5.1.1" data-path="web-workflow.html"><a href="web-workflow.html#selecting-a-model"><i class="fa fa-check"></i><b>5.1.1</b> Selecting a model</a></li>
<li class="chapter" data-level="5.1.2" data-path="web-workflow.html"><a href="web-workflow.html#selecting-a-site"><i class="fa fa-check"></i><b>5.1.2</b> Selecting a site</a></li>
</ul></li>
<li class="chapter" data-level="5.2" data-path="web-workflow.html"><a href="web-workflow.html#web-model-config"><i class="fa fa-check"></i><b>5.2</b> Model configuration</a><ul>
<li class="chapter" data-level="5.2.1" data-path="web-workflow.html"><a href="web-workflow.html#choosing-meteorology"><i class="fa fa-check"></i><b>5.2.1</b> Choosing meteorology</a></li>
<li class="chapter" data-level="5.2.2" data-path="web-workflow.html"><a href="web-workflow.html#selecting-plant-functional-types-pfts-and-other-parameter-groupings."><i class="fa fa-check"></i><b>5.2.2</b> Selecting Plant Functional Types (PFTs) and other parameter groupings.</a></li>
<li class="chapter" data-level="5.2.3" data-path="web-workflow.html"><a href="web-workflow.html#choosing-initial-vegetation"><i class="fa fa-check"></i><b>5.2.3</b> Choosing initial vegetation</a></li>
<li class="chapter" data-level="5.2.4" data-path="web-workflow.html"><a href="web-workflow.html#spin-up"><i class="fa fa-check"></i><b>5.2.4</b> Spin up</a></li>
<li class="chapter" data-level="5.2.5" data-path="web-workflow.html"><a href="web-workflow.html#selecting-a-soils-product"><i class="fa fa-check"></i><b>5.2.5</b> Selecting a soils product</a></li>
<li class="chapter" data-level="5.2.6" data-path="web-workflow.html"><a href="web-workflow.html#other-model-inputs"><i class="fa fa-check"></i><b>5.2.6</b> Other model inputs</a></li>
</ul></li>
</ul></li>
<li class="part"><span><b>III Intermediate user guide</b></span></li>
<li class="chapter" data-level="6" data-path="introduction.html"><a href="introduction.html"><i class="fa fa-check"></i><b>6</b> Introduction</a></li>
<li class="chapter" data-level="7" data-path="pecanXML.html"><a href="pecanXML.html"><i class="fa fa-check"></i><b>7</b> The PEcAn XML</a><ul>
<li class="chapter" data-level="7.1" data-path="pecanXML.html"><a href="pecanXML.html#xml-core-config"><i class="fa fa-check"></i><b>7.1</b> Core configuration</a><ul>
<li class="chapter" data-level="7.1.1" data-path="pecanXML.html"><a href="pecanXML.html#xml-structure"><i class="fa fa-check"></i><b>7.1.1</b> Top-level structure</a></li>
<li class="chapter" data-level="7.1.2" data-path="pecanXML.html"><a href="pecanXML.html#xml-info"><i class="fa fa-check"></i><b>7.1.2</b> <code>info</code>: Run metadata</a></li>
<li class="chapter" data-level="7.1.3" data-path="pecanXML.html"><a href="pecanXML.html#xml-outdir"><i class="fa fa-check"></i><b>7.1.3</b> <code>outdir</code>: Output directory</a></li>
<li class="chapter" data-level="7.1.4" data-path="pecanXML.html"><a href="pecanXML.html#xml-database"><i class="fa fa-check"></i><b>7.1.4</b> <code>database</code>: PEcAn database settings</a></li>
<li class="chapter" data-level="7.1.5" data-path="pecanXML.html"><a href="pecanXML.html#xml-pft"><i class="fa fa-check"></i><b>7.1.5</b> <code>pft</code>: Plant functional type selection</a></li>
<li class="chapter" data-level="7.1.6" data-path="pecanXML.html"><a href="pecanXML.html#xml-meta-analysis"><i class="fa fa-check"></i><b>7.1.6</b> <code>meta.analysis</code>: Trait Meta Analysis</a></li>
<li class="chapter" data-level="7.1.7" data-path="pecanXML.html"><a href="pecanXML.html#xml-model"><i class="fa fa-check"></i><b>7.1.7</b> <code>model</code>: Model configuration</a></li>
<li class="chapter" data-level="7.1.8" data-path="pecanXML.html"><a href="pecanXML.html#xml-run"><i class="fa fa-check"></i><b>7.1.8</b> <code>run</code>: Run Setup</a></li>
<li class="chapter" data-level="7.1.9" data-path="pecanXML.html"><a href="pecanXML.html#xml-host"><i class="fa fa-check"></i><b>7.1.9</b> <code>host</code>: Host information for remote execution</a></li>
</ul></li>
<li class="chapter" data-level="7.2" data-path="pecanXML.html"><a href="pecanXML.html#xml-advanced"><i class="fa fa-check"></i><b>7.2</b> Advanced features</a><ul>
<li class="chapter" data-level="7.2.1" data-path="pecanXML.html"><a href="pecanXML.html#xml-ensemble"><i class="fa fa-check"></i><b>7.2.1</b> <code>ensemble</code>: Ensemble Runs</a></li>
<li class="chapter" data-level="7.2.2" data-path="pecanXML.html"><a href="pecanXML.html#xml-sensitivity-analysis"><i class="fa fa-check"></i><b>7.2.2</b> <code>sensitivity.analysis</code>: Sensitivity analysis</a></li>
<li class="chapter" data-level="7.2.3" data-path="pecanXML.html"><a href="pecanXML.html#xml-parameter-data-assimilation"><i class="fa fa-check"></i><b>7.2.3</b> Parameter Data Assimilation</a></li>
<li class="chapter" data-level="7.2.4" data-path="pecanXML.html"><a href="pecanXML.html#xml-multi-settings"><i class="fa fa-check"></i><b>7.2.4</b> Multi-Settings</a></li>
<li class="chapter" data-level="7.2.5" data-path="pecanXML.html"><a href="pecanXML.html#xml-state-data-assimilation"><i class="fa fa-check"></i><b>7.2.5</b> (experimental) State Data Assimilation</a></li>
<li class="chapter" data-level="7.2.6" data-path="pecanXML.html"><a href="pecanXML.html#xml-browndog"><i class="fa fa-check"></i><b>7.2.6</b> (experimental) Brown Dog</a></li>
<li class="chapter" data-level="7.2.7" data-path="pecanXML.html"><a href="pecanXML.html#xml-benchmarking"><i class="fa fa-check"></i><b>7.2.7</b> (experimental) Benchmarking</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="8" data-path="additional-web-configuration.html"><a href="additional-web-configuration.html"><i class="fa fa-check"></i><b>8</b> Additional web configuration</a><ul>
<li class="chapter" data-level="8.1" data-path="additional-web-configuration.html"><a href="additional-web-configuration.html#brown-dog"><i class="fa fa-check"></i><b>8.1</b> Brown Dog</a></li>
<li class="chapter" data-level="8.2" data-path="additional-web-configuration.html"><a href="additional-web-configuration.html#basic-setups"><i class="fa fa-check"></i><b>8.2</b> Basic Setups</a></li>
<li class="chapter" data-level="8.3" data-path="additional-web-configuration.html"><a href="additional-web-configuration.html#advanced-setup"><i class="fa fa-check"></i><b>8.3</b> Advanced Setup</a></li>
<li class="chapter" data-level="8.4" data-path="additional-web-configuration.html"><a href="additional-web-configuration.html#editing-model-configurations"><i class="fa fa-check"></i><b>8.4</b> Editing model configurations</a></li>
</ul></li>
<li class="chapter" data-level="9" data-path="settings-configured-analyses.html"><a href="settings-configured-analyses.html"><i class="fa fa-check"></i><b>9</b> Settings-configured analyses</a><ul>
<li class="chapter" data-level="9.1" data-path="settings-configured-analyses.html"><a href="settings-configured-analyses.html#pda"><i class="fa fa-check"></i><b>9.1</b> Parameter data assimilation (PDA)</a><ul>
<li class="chapter" data-level="9.1.1" data-path="settings-configured-analyses.html"><a href="settings-configured-analyses.html#pda.mcmc.r"><i class="fa fa-check"></i><b>9.1.1</b> <strong>pda.mcmc.R</strong></a></li>
<li class="chapter" data-level="9.1.2" data-path="settings-configured-analyses.html"><a href="settings-configured-analyses.html#pda.mcmc.bs.r"><i class="fa fa-check"></i><b>9.1.2</b> <strong>pda.mcmc.bs.R</strong></a></li>
<li class="chapter" data-level="9.1.3" data-path="settings-configured-analyses.html"><a href="settings-configured-analyses.html#pda.emulator"><i class="fa fa-check"></i><b>9.1.3</b> <strong>pda.emulator</strong></a></li>
<li class="chapter" data-level="9.1.4" data-path="settings-configured-analyses.html"><a href="settings-configured-analyses.html#pda.mcmc.recover.r"><i class="fa fa-check"></i><b>9.1.4</b> <strong>pda.mcmc.recover.R</strong></a></li>
<li class="chapter" data-level="9.1.5" data-path="settings-configured-analyses.html"><a href="settings-configured-analyses.html#pda.utils.r"><i class="fa fa-check"></i><b>9.1.5</b> <strong>pda.utils.R</strong></a></li>
<li class="chapter" data-level="9.1.6" data-path="settings-configured-analyses.html"><a href="settings-configured-analyses.html#get.da.data..r-plot.da.r"><i class="fa fa-check"></i><b>9.1.6</b> <strong>get.da.data.*.R, plot.da.R</strong></a></li>
</ul></li>
<li class="chapter" data-level="9.2" data-path="settings-configured-analyses.html"><a href="settings-configured-analyses.html#sda"><i class="fa fa-check"></i><b>9.2</b> State data assimilation (SDA)</a><ul>
<li class="chapter" data-level="9.2.1" data-path="settings-configured-analyses.html"><a href="settings-configured-analyses.html#sda.enkf.r-description"><i class="fa fa-check"></i><b>9.2.1</b> <strong>sda.enkf.R Description</strong></a></li>
<li class="chapter" data-level="9.2.2" data-path="settings-configured-analyses.html"><a href="settings-configured-analyses.html#sda.enkf.r-arguments"><i class="fa fa-check"></i><b>9.2.2</b> <strong>sda.enkf.R Arguments</strong></a></li>
<li class="chapter" data-level="9.2.3" data-path="settings-configured-analyses.html"><a href="settings-configured-analyses.html#state-data-assimilation-workflow"><i class="fa fa-check"></i><b>9.2.3</b> State Data Assimilation Workflow</a></li>
<li class="chapter" data-level="9.2.4" data-path="settings-configured-analyses.html"><a href="settings-configured-analyses.html#state-data-assimilation-tags-example"><i class="fa fa-check"></i><b>9.2.4</b> State Data Assimilation Tags Example</a></li>
<li class="chapter" data-level="9.2.5" data-path="settings-configured-analyses.html"><a href="settings-configured-analyses.html#state-data-assimilation-tags-descriptions"><i class="fa fa-check"></i><b>9.2.5</b> State Data Assimilation Tags Descriptions</a></li>
<li class="chapter" data-level="9.2.6" data-path="settings-configured-analyses.html"><a href="settings-configured-analyses.html#model-specific-functions-for-sda-workflow"><i class="fa fa-check"></i><b>9.2.6</b> Model Specific Functions for SDA Workflow</a></li>
<li class="chapter" data-level="9.2.7" data-path="settings-configured-analyses.html"><a href="settings-configured-analyses.html#analysis-options"><i class="fa fa-check"></i><b>9.2.7</b> Analysis Options</a></li>
<li class="chapter" data-level="9.2.8" data-path="settings-configured-analyses.html"><a href="settings-configured-analyses.html#the-generalized-ensemble-filter"><i class="fa fa-check"></i><b>9.2.8</b> The Generalized Ensemble Filter</a></li>
<li class="chapter" data-level="9.2.9" data-path="settings-configured-analyses.html"><a href="settings-configured-analyses.html#multi-site-state-data-assimilation."><i class="fa fa-check"></i><b>9.2.9</b> Multi-site State data assimilation.</a></li>
<li class="chapter" data-level="9.2.10" data-path="settings-configured-analyses.html"><a href="settings-configured-analyses.html#data-products"><i class="fa fa-check"></i><b>9.2.10</b> Data Products</a></li>
<li class="chapter" data-level="9.2.11" data-path="settings-configured-analyses.html"><a href="settings-configured-analyses.html#current-models"><i class="fa fa-check"></i><b>9.2.11</b> Current Models</a></li>
<li class="chapter" data-level="9.2.12" data-path="settings-configured-analyses.html"><a href="settings-configured-analyses.html#model-calibration"><i class="fa fa-check"></i><b>9.2.12</b> Model Calibration</a></li>
<li class="chapter" data-level="9.2.13" data-path="settings-configured-analyses.html"><a href="settings-configured-analyses.html#initial-conditions"><i class="fa fa-check"></i><b>9.2.13</b> Initial Conditions</a></li>
<li class="chapter" data-level="9.2.14" data-path="settings-configured-analyses.html"><a href="settings-configured-analyses.html#drivers"><i class="fa fa-check"></i><b>9.2.14</b> Drivers</a></li>
</ul></li>
<li class="chapter" data-level="9.3" data-path="settings-configured-analyses.html"><a href="settings-configured-analyses.html#sequential-state-data-assimilation"><i class="fa fa-check"></i><b>9.3</b> Sequential State Data Assimilation</a><ul>
<li class="chapter" data-level="9.3.1" data-path="settings-configured-analyses.html"><a href="settings-configured-analyses.html#general-description"><i class="fa fa-check"></i><b>9.3.1</b> General Description</a></li>
<li class="chapter" data-level="9.3.2" data-path="settings-configured-analyses.html"><a href="settings-configured-analyses.html#enkf"><i class="fa fa-check"></i><b>9.3.2</b> EnKF</a></li>
<li class="chapter" data-level="9.3.3" data-path="settings-configured-analyses.html"><a href="settings-configured-analyses.html#generalized-ensemble-filter"><i class="fa fa-check"></i><b>9.3.3</b> Generalized Ensemble Filter</a></li>
<li class="chapter" data-level="9.3.4" data-path="settings-configured-analyses.html"><a href="settings-configured-analyses.html#ensemble-adjustment"><i class="fa fa-check"></i><b>9.3.4</b> Ensemble Adjustment</a></li>
<li class="chapter" data-level="9.3.5" data-path="settings-configured-analyses.html"><a href="settings-configured-analyses.html#diagnostics"><i class="fa fa-check"></i><b>9.3.5</b> Diagnostics</a></li>
</ul></li>
<li class="chapter" data-level="9.4" data-path="settings-configured-analyses.html"><a href="settings-configured-analyses.html#Benchmarking"><i class="fa fa-check"></i><b>9.4</b> Benchmarking</a><ul>
<li class="chapter" data-level="9.4.1" data-path="settings-configured-analyses.html"><a href="settings-configured-analyses.html#data-preparation"><i class="fa fa-check"></i><b>9.4.1</b> Data Preparation</a></li>
<li class="chapter" data-level="9.4.2" data-path="settings-configured-analyses.html"><a href="settings-configured-analyses.html#model-runs"><i class="fa fa-check"></i><b>9.4.2</b> Model Runs</a></li>
<li class="chapter" data-level="9.4.3" data-path="settings-configured-analyses.html"><a href="settings-configured-analyses.html#the-benchmarking-shiny-app"><i class="fa fa-check"></i><b>9.4.3</b> The Benchmarking Shiny App</a></li>
<li class="chapter" data-level="9.4.4" data-path="settings-configured-analyses.html"><a href="settings-configured-analyses.html#benchmarking-in-pecan.xml"><i class="fa fa-check"></i><b>9.4.4</b> Benchmarking in pecan.xml</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="10" data-path="pecan-remote.html"><a href="pecan-remote.html"><i class="fa fa-check"></i><b>10</b> Remote execution with PEcAn</a><ul>
<li class="chapter" data-level="10.1" data-path="pecan-remote.html"><a href="pecan-remote.html#basics-of-ssh"><i class="fa fa-check"></i><b>10.1</b> Basics of SSH</a></li>
<li class="chapter" data-level="10.2" data-path="pecan-remote.html"><a href="pecan-remote.html#ssh-authentication-password-vs.ssh-key"><i class="fa fa-check"></i><b>10.2</b> SSH authentication – password vs. SSH key</a><ul>
<li class="chapter" data-level="10.2.1" data-path="pecan-remote.html"><a href="pecan-remote.html#ssh-tunneling"><i class="fa fa-check"></i><b>10.2.1</b> SSH tunneling</a></li>
<li class="chapter" data-level="10.2.2" data-path="pecan-remote.html"><a href="pecan-remote.html#ssh-tunnels-and-pecan"><i class="fa fa-check"></i><b>10.2.2</b> SSH tunnels and PEcAn</a></li>
</ul></li>
<li class="chapter" data-level="10.3" data-path="pecan-remote.html"><a href="pecan-remote.html#basic-remote-execute-functions"><i class="fa fa-check"></i><b>10.3</b> Basic remote execute functions</a></li>
<li class="chapter" data-level="10.4" data-path="pecan-remote.html"><a href="pecan-remote.html#remote-model-execution-with-pecan"><i class="fa fa-check"></i><b>10.4</b> Remote model execution with PEcAn</a><ul>
<li class="chapter" data-level="10.4.1" data-path="pecan-remote.html"><a href="pecan-remote.html#xml-configuration"><i class="fa fa-check"></i><b>10.4.1</b> XML configuration</a></li>
<li class="chapter" data-level="10.4.2" data-path="pecan-remote.html"><a href="pecan-remote.html#configuration-for-pecan-web-interface"><i class="fa fa-check"></i><b>10.4.2</b> Configuration for PEcAn web interface</a></li>
</ul></li>
<li class="chapter" data-level="10.5" data-path="pecan-remote.html"><a href="pecan-remote.html#running-pecan-code-for-remotely"><i class="fa fa-check"></i><b>10.5</b> Running PEcAn code for remotely</a><ul>
<li class="chapter" data-level="10.5.1" data-path="pecan-remote.html"><a href="pecan-remote.html#geo.bu.edu"><i class="fa fa-check"></i><b>10.5.1</b> geo.bu.edu</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="11" data-path="the-pecan-docker-api.html"><a href="the-pecan-docker-api.html"><i class="fa fa-check"></i><b>11</b> The PEcAn Docker API</a><ul>
<li class="chapter" data-level="11.1" data-path="the-pecan-docker-api.html"><a href="the-pecan-docker-api.html#installation"><i class="fa fa-check"></i><b>11.1</b> Installation</a></li>
<li class="chapter" data-level="11.2" data-path="the-pecan-docker-api.html"><a href="the-pecan-docker-api.html#creating-and-submitting-a-workflow"><i class="fa fa-check"></i><b>11.2</b> Creating and submitting a workflow</a></li>
</ul></li>
<li class="part"><span><b>IV Advanced user guide</b></span></li>
<li class="chapter" data-level="12" data-path="introduction-1.html"><a href="introduction-1.html"><i class="fa fa-check"></i><b>12</b> Introduction</a></li>
<li class="chapter" data-level="13" data-path="workflow.html"><a href="workflow.html"><i class="fa fa-check"></i><b>13</b> PEcAn workflow (web/workflow.R)</a><ul>
<li class="chapter" data-level="13.1" data-path="workflow.html"><a href="workflow.html#workflow-readsettings"><i class="fa fa-check"></i><b>13.1</b> Read Settings</a></li>
<li class="chapter" data-level="13.2" data-path="workflow.html"><a href="workflow.html#workflow-input"><i class="fa fa-check"></i><b>13.2</b> Input Conversions</a><ul>
<li class="chapter" data-level="13.2.1" data-path="workflow.html"><a href="workflow.html#workflow-input-data"><i class="fa fa-check"></i><b>13.2.1</b> Input Data</a></li>
<li class="chapter" data-level="13.2.2" data-path="workflow.html"><a href="workflow.html#workflow-input-initial"><i class="fa fa-check"></i><b>13.2.2</b> Initial Conditions</a></li>
</ul></li>
<li class="chapter" data-level="13.3" data-path="workflow.html"><a href="workflow.html#workflow-met"><i class="fa fa-check"></i><b>13.3</b> Meteorological Data</a><ul>
<li class="chapter" data-level="13.3.1" data-path="workflow.html"><a href="workflow.html#workflow-met-download"><i class="fa fa-check"></i><b>13.3.1</b> Downloading Raw data (Description of Process)</a></li>
<li class="chapter" data-level="13.3.2" data-path="workflow.html"><a href="workflow.html#workflow-met-standard"><i class="fa fa-check"></i><b>13.3.2</b> Converting raw data to PEcAn standard</a></li>
<li class="chapter" data-level="13.3.3" data-path="workflow.html"><a href="workflow.html#workflow-met-downscale"><i class="fa fa-check"></i><b>13.3.3</b> Downscaling and gapfilling (optional)</a></li>
<li class="chapter" data-level="13.3.4" data-path="workflow.html"><a href="workflow.html#workflow-met-model"><i class="fa fa-check"></i><b>13.3.4</b> Converting from PEcAn standard to model-specific format</a></li>
</ul></li>
<li class="chapter" data-level="13.4" data-path="workflow.html"><a href="workflow.html#workflow-traits"><i class="fa fa-check"></i><b>13.4</b> Traits</a></li>
<li class="chapter" data-level="13.5" data-path="workflow.html"><a href="workflow.html#workflow-metaanalysis"><i class="fa fa-check"></i><b>13.5</b> Meta Analysis</a></li>
<li class="chapter" data-level="13.6" data-path="workflow.html"><a href="workflow.html#workflow-modelconfig"><i class="fa fa-check"></i><b>13.6</b> Model Configuration</a></li>
<li class="chapter" data-level="13.7" data-path="workflow.html"><a href="workflow.html#workflow-modelrun"><i class="fa fa-check"></i><b>13.7</b> Run Execution</a></li>
<li class="chapter" data-level="13.8" data-path="workflow.html"><a href="workflow.html#workflow-postrun"><i class="fa fa-check"></i><b>13.8</b> Post Run Analysis</a></li>
<li class="chapter" data-level="13.9" data-path="workflow.html"><a href="workflow.html#workflow-advanced"><i class="fa fa-check"></i><b>13.9</b> Advanced Analysis</a></li>
</ul></li>
<li class="chapter" data-level="14" data-path="adding-to-pecan.html"><a href="adding-to-pecan.html"><i class="fa fa-check"></i><b>14</b> Adding to PEcAn</a><ul>
<li class="chapter" data-level="14.1" data-path="adding-to-pecan.html"><a href="adding-to-pecan.html#adding-model"><i class="fa fa-check"></i><b>14.1</b> Adding An Ecosystem Model</a><ul>
<li class="chapter" data-level="14.1.1" data-path="adding-to-pecan.html"><a href="adding-to-pecan.html#pecan-database"><i class="fa fa-check"></i><b>14.1.1</b> PEcAn Database</a></li>
<li class="chapter" data-level="14.1.2" data-path="adding-to-pecan.html"><a href="adding-to-pecan.html#define-model_type"><i class="fa fa-check"></i><b>14.1.2</b> Define MODEL_TYPE</a></li>
<li class="chapter" data-level="14.1.3" data-path="adding-to-pecan.html"><a href="adding-to-pecan.html#machine"><i class="fa fa-check"></i><b>14.1.3</b> MACHINE</a></li>
<li class="chapter" data-level="14.1.4" data-path="adding-to-pecan.html"><a href="adding-to-pecan.html#model"><i class="fa fa-check"></i><b>14.1.4</b> MODEL</a></li>
<li class="chapter" data-level="14.1.5" data-path="adding-to-pecan.html"><a href="adding-to-pecan.html#formats"><i class="fa fa-check"></i><b>14.1.5</b> FORMATS</a></li>
<li class="chapter" data-level="14.1.6" data-path="adding-to-pecan.html"><a href="adding-to-pecan.html#model_type---formats"><i class="fa fa-check"></i><b>14.1.6</b> MODEL_TYPE -&gt; Formats</a></li>
<li class="chapter" data-level="14.1.7" data-path="adding-to-pecan.html"><a href="adding-to-pecan.html#inputs"><i class="fa fa-check"></i><b>14.1.7</b> INPUTS</a></li>
<li class="chapter" data-level="14.1.8" data-path="adding-to-pecan.html"><a href="adding-to-pecan.html#pfts-plant-functional-types"><i class="fa fa-check"></i><b>14.1.8</b> PFTS (Plant Functional Types)</a></li>
<li class="chapter" data-level="14.1.9" data-path="adding-to-pecan.html"><a href="adding-to-pecan.html#priors"><i class="fa fa-check"></i><b>14.1.9</b> PRIORS</a></li>
<li class="chapter" data-level="14.1.10" data-path="adding-to-pecan.html"><a href="adding-to-pecan.html#interface-modules"><i class="fa fa-check"></i><b>14.1.10</b> Interface Modules</a></li>
</ul></li>
<li class="chapter" data-level="14.2" data-path="adding-to-pecan.html"><a href="adding-to-pecan.html#NewInput"><i class="fa fa-check"></i><b>14.2</b> Adding input data</a><ul>
<li class="chapter" data-level="14.2.1" data-path="adding-to-pecan.html"><a href="adding-to-pecan.html#input-records-in-bety"><i class="fa fa-check"></i><b>14.2.1</b> Input records in BETY</a></li>
<li class="chapter" data-level="14.2.2" data-path="adding-to-pecan.html"><a href="adding-to-pecan.html#create-a-database-file-record-for-the-input-data"><i class="fa fa-check"></i><b>14.2.2</b> Create a database file record for the input data</a></li>
<li class="chapter" data-level="14.2.3" data-path="adding-to-pecan.html"><a href="adding-to-pecan.html#creating-a-new-input-record-in-bety"><i class="fa fa-check"></i><b>14.2.3</b> Creating a new Input record in BETY</a></li>
<li class="chapter" data-level="14.2.4" data-path="adding-to-pecan.html"><a href="adding-to-pecan.html#InputConversions"><i class="fa fa-check"></i><b>14.2.4</b> Adding a new input converter</a></li>
</ul></li>
<li class="chapter" data-level="14.3" data-path="adding-to-pecan.html"><a href="adding-to-pecan.html#adding-data-web"><i class="fa fa-check"></i><b>14.3</b> Pecan Data Ingest via Web Interface</a><ul>
<li class="chapter" data-level="14.3.1" data-path="adding-to-pecan.html"><a href="adding-to-pecan.html#loading-data"><i class="fa fa-check"></i><b>14.3.1</b> Loading Data</a></li>
<li class="chapter" data-level="14.3.2" data-path="adding-to-pecan.html"><a href="adding-to-pecan.html#local-upload-example"><i class="fa fa-check"></i><b>14.3.2</b> Local Upload Example</a></li>
<li class="chapter" data-level="14.3.3" data-path="adding-to-pecan.html"><a href="adding-to-pecan.html#creating-a-format-record"><i class="fa fa-check"></i><b>14.3.3</b> 3. Creating a format record</a></li>
</ul></li>
<li class="chapter" data-level="14.4" data-path="adding-to-pecan.html"><a href="adding-to-pecan.html#NewFormat"><i class="fa fa-check"></i><b>14.4</b> Creating a new format</a><ul>
<li class="chapter" data-level="14.4.1" data-path="adding-to-pecan.html"><a href="adding-to-pecan.html#formats-in-bety"><i class="fa fa-check"></i><b>14.4.1</b> Formats in BETY</a></li>
<li class="chapter" data-level="14.4.2" data-path="adding-to-pecan.html"><a href="adding-to-pecan.html#creating-a-new-format-in-bety"><i class="fa fa-check"></i><b>14.4.2</b> Creating a new format in BETY</a></li>
</ul></li>
<li class="chapter" data-level="14.5" data-path="adding-to-pecan.html"><a href="adding-to-pecan.html#NewBenchmark"><i class="fa fa-check"></i><b>14.5</b> Creating a new benchmark reference run</a></li>
<li class="chapter" data-level="14.6" data-path="adding-to-pecan.html"><a href="adding-to-pecan.html#editing-records"><i class="fa fa-check"></i><b>14.6</b> Editing records</a></li>
</ul></li>
<li class="chapter" data-level="15" data-path="standalone-tools-modules.html"><a href="standalone-tools-modules.html"><i class="fa fa-check"></i><b>15</b> Standalone tools (modules)</a><ul>
<li class="chapter" data-level="15.1" data-path="standalone-tools-modules.html"><a href="standalone-tools-modules.html#LoadData"><i class="fa fa-check"></i><b>15.1</b> Loading Data in PEcAn</a><ul>
<li class="chapter" data-level="15.1.1" data-path="standalone-tools-modules.html"><a href="standalone-tools-modules.html#function-load_data"><i class="fa fa-check"></i><b>15.1.1</b> Function <code>load_data</code></a></li>
<li class="chapter" data-level="15.1.2" data-path="standalone-tools-modules.html"><a href="standalone-tools-modules.html#example"><i class="fa fa-check"></i><b>15.1.2</b> Example</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="16" data-path="working-with-the-vm.html"><a href="working-with-the-vm.html"><i class="fa fa-check"></i><b>16</b> Working with the VM</a><ul>
<li class="chapter" data-level="16.1" data-path="working-with-the-vm.html"><a href="working-with-the-vm.html#connecting-to-the-vm-via-ssh"><i class="fa fa-check"></i><b>16.1</b> Connecting to the VM via SSH</a></li>
<li class="chapter" data-level="16.2" data-path="working-with-the-vm.html"><a href="working-with-the-vm.html#connecting-to-bety-on-the-vm-via-ssh"><i class="fa fa-check"></i><b>16.2</b> Connecting to bety on the VM via SSh</a></li>
</ul></li>
<li class="chapter" data-level="17" data-path="workflow-modules.html"><a href="workflow-modules.html"><i class="fa fa-check"></i><b>17</b> Workflow modules</a><ul>
<li class="chapter" data-level="17.1" data-path="workflow-modules.html"><a href="workflow-modules.html#overview"><i class="fa fa-check"></i><b>17.1</b> Overview</a><ul>
<li class="chapter" data-level="17.1.1" data-path="workflow-modules.html"><a href="workflow-modules.html#load-settings"><i class="fa fa-check"></i><b>17.1.1</b> Load Settings:</a></li>
<li class="chapter" data-level="17.1.2" data-path="workflow-modules.html"><a href="workflow-modules.html#query-database"><i class="fa fa-check"></i><b>17.1.2</b> Query Database:</a></li>
<li class="chapter" data-level="17.1.3" data-path="workflow-modules.html"><a href="workflow-modules.html#meta-analysis"><i class="fa fa-check"></i><b>17.1.3</b> Meta Analysis:</a></li>
<li class="chapter" data-level="17.1.4" data-path="workflow-modules.html"><a href="workflow-modules.html#write-configuration-files"><i class="fa fa-check"></i><b>17.1.4</b> Write Configuration Files</a></li>
<li class="chapter" data-level="17.1.5" data-path="workflow-modules.html"><a href="workflow-modules.html#start-runs"><i class="fa fa-check"></i><b>17.1.5</b> Start Runs:</a></li>
<li class="chapter" data-level="17.1.6" data-path="workflow-modules.html"><a href="workflow-modules.html#get-model-output"><i class="fa fa-check"></i><b>17.1.6</b> Get Model Output</a></li>
<li class="chapter" data-level="17.1.7" data-path="workflow-modules.html"><a href="workflow-modules.html#ensemble-analysis"><i class="fa fa-check"></i><b>17.1.7</b> Ensemble Analysis</a></li>
<li class="chapter" data-level="17.1.8" data-path="workflow-modules.html"><a href="workflow-modules.html#sensitivity-analysis-variance-decomposition"><i class="fa fa-check"></i><b>17.1.8</b> Sensitivity Analysis, Variance Decomposition</a></li>
</ul></li>
<li class="chapter" data-level="17.2" data-path="workflow-modules.html"><a href="workflow-modules.html#glossary"><i class="fa fa-check"></i><b>17.2</b> Glossary</a></li>
</ul></li>
<li class="chapter" data-level="18" data-path="submitting-workflow-from-command-line.html"><a href="submitting-workflow-from-command-line.html"><i class="fa fa-check"></i><b>18</b> Submitting Workflow from Command Line</a></li>
<li class="chapter" data-level="19" data-path="vm-desktop-conversion.html"><a href="vm-desktop-conversion.html"><i class="fa fa-check"></i><b>19</b> VM Desktop Conversion</a><ul>
<li class="chapter" data-level="19.0.1" data-path="vm-desktop-conversion.html"><a href="vm-desktop-conversion.html#install-rstudio-desktop"><i class="fa fa-check"></i><b>19.0.1</b> Install RStudio Desktop</a></li>
</ul></li>
<li class="part"><span><b>V Developer user guide</b></span></li>
<li class="chapter" data-level="20" data-path="introduction-developer-guide.html"><a href="introduction-developer-guide.html"><i class="fa fa-check"></i><b>20</b> Introduction: Developer Guide</a></li>
<li class="chapter" data-level="21" data-path="pecan-setup.html"><a href="pecan-setup.html"><i class="fa fa-check"></i><b>21</b> PEcAn Setup</a><ul>
<li class="chapter" data-level="21.1" data-path="pecan-setup.html"><a href="pecan-setup.html#installing-the-pecan-vm"><i class="fa fa-check"></i><b>21.1</b> Installing the PEcAn VM</a></li>
<li class="chapter" data-level="21.2" data-path="pecan-setup.html"><a href="pecan-setup.html#pecan-manual-setup"><i class="fa fa-check"></i><b>21.2</b> Install PEcAn by hand</a><ul>
<li class="chapter" data-level="21.2.1" data-path="pecan-setup.html"><a href="pecan-setup.html#installation-prerequisites"><i class="fa fa-check"></i><b>21.2.1</b> Installation Prerequisites</a></li>
<li class="chapter" data-level="21.2.2" data-path="pecan-setup.html"><a href="pecan-setup.html#os-specific-installations"><i class="fa fa-check"></i><b>21.2.2</b> OS Specific Installations</a></li>
<li class="chapter" data-level="21.2.3" data-path="pecan-setup.html"><a href="pecan-setup.html#installing-bety"><i class="fa fa-check"></i><b>21.2.3</b> Installing BETY</a></li>
<li class="chapter" data-level="21.2.4" data-path="pecan-setup.html"><a href="pecan-setup.html#install-models"><i class="fa fa-check"></i><b>21.2.4</b> Install Models</a></li>
<li class="chapter" data-level="21.2.5" data-path="pecan-setup.html"><a href="pecan-setup.html#download-and-compile-pecan"><i class="fa fa-check"></i><b>21.2.5</b> Download and Compile PEcAn</a></li>
<li class="chapter" data-level="21.2.6" data-path="pecan-setup.html"><a href="pecan-setup.html#pecan-testrun"><i class="fa fa-check"></i><b>21.2.6</b> PEcAn Testrun</a></li>
<li class="chapter" data-level="21.2.7" data-path="pecan-setup.html"><a href="pecan-setup.html#pecan-customizations"><i class="fa fa-check"></i><b>21.2.7</b> PEcAn Customizations</a></li>
</ul></li>
<li class="chapter" data-level="21.3" data-path="pecan-setup.html"><a href="pecan-setup.html#aws-setup"><i class="fa fa-check"></i><b>21.3</b> AWS Setup</a><ul>
<li class="chapter" data-level="21.3.1" data-path="pecan-setup.html"><a href="pecan-setup.html#porting-vm-to-aws"><i class="fa fa-check"></i><b>21.3.1</b> Porting VM to AWS</a></li>
<li class="chapter" data-level="21.3.2" data-path="pecan-setup.html"><a href="pecan-setup.html#set-up-multiple-instances-optional"><i class="fa fa-check"></i><b>21.3.2</b> Set up multiple instances (optional)</a></li>
</ul></li>
<li class="chapter" data-level="21.4" data-path="pecan-setup.html"><a href="pecan-setup.html#shiny-setup"><i class="fa fa-check"></i><b>21.4</b> Shiny Setup</a><ul>
<li class="chapter" data-level="21.4.1" data-path="pecan-setup.html"><a href="pecan-setup.html#install-the-shiny-r-package-and-shiny-server"><i class="fa fa-check"></i><b>21.4.1</b> Install the Shiny R package and Shiny server</a></li>
<li class="chapter" data-level="21.4.2" data-path="pecan-setup.html"><a href="pecan-setup.html#modify-the-shiny-configuration-file"><i class="fa fa-check"></i><b>21.4.2</b> Modify the shiny configuration file</a></li>
<li class="chapter" data-level="21.4.3" data-path="pecan-setup.html"><a href="pecan-setup.html#set-the-apache-proxy"><i class="fa fa-check"></i><b>21.4.3</b> Set the Apache proxy</a></li>
<li class="chapter" data-level="21.4.4" data-path="pecan-setup.html"><a href="pecan-setup.html#enable-and-start-the-shiny-server-and-restart-apache"><i class="fa fa-check"></i><b>21.4.4</b> Enable and start the shiny server, and restart apache</a></li>
<li class="chapter" data-level="21.4.5" data-path="pecan-setup.html"><a href="pecan-setup.html#troubleshooting-1"><i class="fa fa-check"></i><b>21.4.5</b> Troubleshooting</a></li>
<li class="chapter" data-level="21.4.6" data-path="pecan-setup.html"><a href="pecan-setup.html#further-reading"><i class="fa fa-check"></i><b>21.4.6</b> Further reading</a></li>
</ul></li>
<li class="chapter" data-level="21.5" data-path="pecan-setup.html"><a href="pecan-setup.html#thredds-setup"><i class="fa fa-check"></i><b>21.5</b> Thredds Setup</a><ul>
<li class="chapter" data-level="21.5.1" data-path="pecan-setup.html"><a href="pecan-setup.html#install-the-tomcat-8-and-thredds-webapp"><i class="fa fa-check"></i><b>21.5.1</b> Install the Tomcat 8 and Thredds webapp</a></li>
<li class="chapter" data-level="21.5.2" data-path="pecan-setup.html"><a href="pecan-setup.html#ubuntu-1"><i class="fa fa-check"></i><b>21.5.2</b> Ubuntu</a></li>
<li class="chapter" data-level="21.5.3" data-path="pecan-setup.html"><a href="pecan-setup.html#customize-the-thredds-server"><i class="fa fa-check"></i><b>21.5.3</b> Customize the Thredds server</a></li>
<li class="chapter" data-level="21.5.4" data-path="pecan-setup.html"><a href="pecan-setup.html#update-the-catalog"><i class="fa fa-check"></i><b>21.5.4</b> Update the catalog</a></li>
<li class="chapter" data-level="21.5.5" data-path="pecan-setup.html"><a href="pecan-setup.html#troubleshooting-2"><i class="fa fa-check"></i><b>21.5.5</b> Troubleshooting</a></li>
<li class="chapter" data-level="21.5.6" data-path="pecan-setup.html"><a href="pecan-setup.html#further-reading-1"><i class="fa fa-check"></i><b>21.5.6</b> Further reading</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="22" data-path="maintaining-pecan.html"><a href="maintaining-pecan.html"><i class="fa fa-check"></i><b>22</b> Maintaining PEcAn</a><ul>
<li class="chapter" data-level="22.1" data-path="maintaining-pecan.html"><a href="maintaining-pecan.html#updating-pecan-code-and-bety-database"><i class="fa fa-check"></i><b>22.1</b> Updating PEcAn Code and Bety Database</a><ul>
<li class="chapter" data-level="22.1.1" data-path="maintaining-pecan.html"><a href="maintaining-pecan.html#updating-pecan"><i class="fa fa-check"></i><b>22.1.1</b> Updating PEcAn</a></li>
</ul></li>
<li class="chapter" data-level="22.2" data-path="maintaining-pecan.html"><a href="maintaining-pecan.html#updating-bety"><i class="fa fa-check"></i><b>22.2</b> Updating BETY</a></li>
<li class="chapter" data-level="22.3" data-path="maintaining-pecan.html"><a href="maintaining-pecan.html#database-synchronization"><i class="fa fa-check"></i><b>22.3</b> Database synchronization</a><ul>
<li class="chapter" data-level="22.3.1" data-path="maintaining-pecan.html"><a href="maintaining-pecan.html#how-does-it-work"><i class="fa fa-check"></i><b>22.3.1</b> How does it work?</a></li>
<li class="chapter" data-level="22.3.2" data-path="maintaining-pecan.html"><a href="maintaining-pecan.html#set-up"><i class="fa fa-check"></i><b>22.3.2</b> Set up</a></li>
<li class="chapter" data-level="22.3.3" data-path="maintaining-pecan.html"><a href="maintaining-pecan.html#fetch-latest-data"><i class="fa fa-check"></i><b>22.3.3</b> Fetch latest data</a></li>
<li class="chapter" data-level="22.3.4" data-path="maintaining-pecan.html"><a href="maintaining-pecan.html#sharing-data"><i class="fa fa-check"></i><b>22.3.4</b> Sharing data</a></li>
<li class="chapter" data-level="22.3.5" data-path="maintaining-pecan.html"><a href="maintaining-pecan.html#automation"><i class="fa fa-check"></i><b>22.3.5</b> Automation</a></li>
<li class="chapter" data-level="22.3.6" data-path="maintaining-pecan.html"><a href="maintaining-pecan.html#database-maintentance"><i class="fa fa-check"></i><b>22.3.6</b> Database maintentance</a></li>
<li class="chapter" data-level="22.3.7" data-path="maintaining-pecan.html"><a href="maintaining-pecan.html#troubleshooting-3"><i class="fa fa-check"></i><b>22.3.7</b> Troubleshooting</a></li>
<li class="chapter" data-level="22.3.8" data-path="maintaining-pecan.html"><a href="maintaining-pecan.html#network-status-map"><i class="fa fa-check"></i><b>22.3.8</b> Network Status Map</a></li>
<li class="chapter" data-level="22.3.9" data-path="maintaining-pecan.html"><a href="maintaining-pecan.html#tasks"><i class="fa fa-check"></i><b>22.3.9</b> Tasks</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="23" data-path="git-and-github-workflow.html"><a href="git-and-github-workflow.html"><i class="fa fa-check"></i><b>23</b> Git and GitHub Workflow</a><ul>
<li class="chapter" data-level="23.1" data-path="git-and-github-workflow.html"><a href="git-and-github-workflow.html#using-git"><i class="fa fa-check"></i><b>23.1</b> Using Git</a><ul>
<li class="chapter" data-level="23.1.1" data-path="git-and-github-workflow.html"><a href="git-and-github-workflow.html#git"><i class="fa fa-check"></i><b>23.1.1</b> Git</a></li>
<li class="chapter" data-level="23.1.2" data-path="git-and-github-workflow.html"><a href="git-and-github-workflow.html#pecan-project-and-github"><i class="fa fa-check"></i><b>23.1.2</b> PEcAn Project and Github</a></li>
<li class="chapter" data-level="23.1.3" data-path="git-and-github-workflow.html"><a href="git-and-github-workflow.html#pecan-project-branches"><i class="fa fa-check"></i><b>23.1.3</b> PEcAn Project Branches</a></li>
<li class="chapter" data-level="23.1.4" data-path="git-and-github-workflow.html"><a href="git-and-github-workflow.html#quick-and-easy"><i class="fa fa-check"></i><b>23.1.4</b> Quick and Easy</a></li>
<li class="chapter" data-level="23.1.5" data-path="git-and-github-workflow.html"><a href="git-and-github-workflow.html#recommended-git-workflow"><i class="fa fa-check"></i><b>23.1.5</b> Recommended Git Workflow</a></li>
<li class="chapter" data-level="23.1.6" data-path="git-and-github-workflow.html"><a href="git-and-github-workflow.html#before-any-work-is-done"><i class="fa fa-check"></i><b>23.1.6</b> Before any work is done</a></li>
<li class="chapter" data-level="23.1.7" data-path="git-and-github-workflow.html"><a href="git-and-github-workflow.html#during-development"><i class="fa fa-check"></i><b>23.1.7</b> During development:</a></li>
<li class="chapter" data-level="23.1.8" data-path="git-and-github-workflow.html"><a href="git-and-github-workflow.html#basic-workflow"><i class="fa fa-check"></i><b>23.1.8</b> Basic Workflow</a></li>
<li class="chapter" data-level="23.1.9" data-path="git-and-github-workflow.html"><a href="git-and-github-workflow.html#recommended-workflow-a-new-branch-for-each-change"><i class="fa fa-check"></i><b>23.1.9</b> Recommended Workflow: A new branch for each change</a></li>
<li class="chapter" data-level="23.1.10" data-path="git-and-github-workflow.html"><a href="git-and-github-workflow.html#git-rstudio"><i class="fa fa-check"></i><b>23.1.10</b> Git + Rstudio</a></li>
<li class="chapter" data-level="23.1.11" data-path="git-and-github-workflow.html"><a href="git-and-github-workflow.html#for-development"><i class="fa fa-check"></i><b>23.1.11</b> For development:</a></li>
<li class="chapter" data-level="23.1.12" data-path="git-and-github-workflow.html"><a href="git-and-github-workflow.html#references"><i class="fa fa-check"></i><b>23.1.12</b> References</a></li>
</ul></li>
<li class="chapter" data-level="23.2" data-path="git-and-github-workflow.html"><a href="git-and-github-workflow.html#github-use-with-pecan"><i class="fa fa-check"></i><b>23.2</b> GitHub use with PEcAn</a><ul>
<li class="chapter" data-level="23.2.1" data-path="git-and-github-workflow.html"><a href="git-and-github-workflow.html#bugs-issues-features-etc."><i class="fa fa-check"></i><b>23.2.1</b> Bugs, Issues, Features, etc.</a></li>
<li class="chapter" data-level="23.2.2" data-path="git-and-github-workflow.html"><a href="git-and-github-workflow.html#requesting-a-feature"><i class="fa fa-check"></i><b>23.2.2</b> Requesting a feature</a></li>
<li class="chapter" data-level="23.2.3" data-path="git-and-github-workflow.html"><a href="git-and-github-workflow.html#closing-an-issue"><i class="fa fa-check"></i><b>23.2.3</b> Closing an issue</a></li>
<li class="chapter" data-level="23.2.4" data-path="git-and-github-workflow.html"><a href="git-and-github-workflow.html#when-to-submit-an-issue"><i class="fa fa-check"></i><b>23.2.4</b> When to submit an issue?</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="24" data-path="coding-practices.html"><a href="coding-practices.html"><i class="fa fa-check"></i><b>24</b> Coding Practices</a><ul>
<li class="chapter" data-level="24.1" data-path="coding-practices.html"><a href="coding-practices.html#coding-style"><i class="fa fa-check"></i><b>24.1</b> Coding Style</a><ul>
<li class="chapter" data-level="24.1.1" data-path="coding-practices.html"><a href="coding-practices.html#use-roxygen2-documentation"><i class="fa fa-check"></i><b>24.1.1</b> Use Roxygen2 documentation</a></li>
<li class="chapter" data-level="24.1.2" data-path="coding-practices.html"><a href="coding-practices.html#write-your-name-at-the-top"><i class="fa fa-check"></i><b>24.1.2</b> Write your name at the top</a></li>
<li class="chapter" data-level="24.1.3" data-path="coding-practices.html"><a href="coding-practices.html#use-testthat-testing-package"><i class="fa fa-check"></i><b>24.1.3</b> Use testthat testing package</a></li>
<li class="chapter" data-level="24.1.4" data-path="coding-practices.html"><a href="coding-practices.html#dont-use-shortcuts"><i class="fa fa-check"></i><b>24.1.4</b> Don’t use shortcuts</a></li>
<li class="chapter" data-level="24.1.5" data-path="coding-practices.html"><a href="coding-practices.html#package-dependencies"><i class="fa fa-check"></i><b>24.1.5</b> Package Dependencies:</a></li>
</ul></li>
<li class="chapter" data-level="24.2" data-path="coding-practices.html"><a href="coding-practices.html#logging"><i class="fa fa-check"></i><b>24.2</b> Logging</a><ul>
<li class="chapter" data-level="24.2.1" data-path="coding-practices.html"><a href="coding-practices.html#pecan-logging-functions"><i class="fa fa-check"></i><b>24.2.1</b> PEcAn logging functions</a></li>
<li class="chapter" data-level="24.2.2" data-path="coding-practices.html"><a href="coding-practices.html#other-r-logging-packages"><i class="fa fa-check"></i><b>24.2.2</b> Other R logging packages</a></li>
<li class="chapter" data-level="24.2.3" data-path="coding-practices.html"><a href="coding-practices.html#example-usage"><i class="fa fa-check"></i><b>24.2.3</b> Example Usage</a></li>
</ul></li>
<li class="chapter" data-level="24.3" data-path="coding-practices.html"><a href="coding-practices.html#package-data"><i class="fa fa-check"></i><b>24.3</b> Package Data</a><ul>
<li class="chapter" data-level="24.3.1" data-path="coding-practices.html"><a href="coding-practices.html#summary"><i class="fa fa-check"></i><b>24.3.1</b> Summary:</a></li>
<li class="chapter" data-level="24.3.2" data-path="coding-practices.html"><a href="coding-practices.html#accessing-data"><i class="fa fa-check"></i><b>24.3.2</b> Accessing data</a></li>
</ul></li>
<li class="chapter" data-level="24.4" data-path="coding-practices.html"><a href="coding-practices.html#packages-used-in-development"><i class="fa fa-check"></i><b>24.4</b> Packages used in development</a></li>
<li class="chapter" data-level="24.5" data-path="coding-practices.html"><a href="coding-practices.html#roxygen2-1"><i class="fa fa-check"></i><b>24.5</b> Roxygen2</a><ul>
<li class="chapter" data-level="24.5.1" data-path="coding-practices.html"><a href="coding-practices.html#canonical-references"><i class="fa fa-check"></i><b>24.5.1</b> Canonical references:</a></li>
<li class="chapter" data-level="24.5.2" data-path="coding-practices.html"><a href="coding-practices.html#basic-roxygen2-instructions"><i class="fa fa-check"></i><b>24.5.2</b> Basic Roxygen2 instructions:</a></li>
<li class="chapter" data-level="24.5.3" data-path="coding-practices.html"><a href="coding-practices.html#example-1"><i class="fa fa-check"></i><b>24.5.3</b> Example</a></li>
<li class="chapter" data-level="24.5.4" data-path="coding-practices.html"><a href="coding-practices.html#updating-documentation"><i class="fa fa-check"></i><b>24.5.4</b> Updating documentation</a></li>
</ul></li>
<li class="chapter" data-level="24.6" data-path="coding-practices.html"><a href="coding-practices.html#testing"><i class="fa fa-check"></i><b>24.6</b> Testing</a><ul>
<li class="chapter" data-level="24.6.1" data-path="coding-practices.html"><a href="coding-practices.html#rationale"><i class="fa fa-check"></i><b>24.6.1</b> Rationale</a></li>
<li class="chapter" data-level="24.6.2" data-path="coding-practices.html"><a href="coding-practices.html#tests-makes-development-easier-and-less-error-prone"><i class="fa fa-check"></i><b>24.6.2</b> Tests makes development easier and less error prone</a></li>
<li class="chapter" data-level="24.6.3" data-path="coding-practices.html"><a href="coding-practices.html#quick-start"><i class="fa fa-check"></i><b>24.6.3</b> Quick Start:</a></li>
<li class="chapter" data-level="24.6.4" data-path="coding-practices.html"><a href="coding-practices.html#test-files"><i class="fa fa-check"></i><b>24.6.4</b> Test files</a></li>
<li class="chapter" data-level="24.6.5" data-path="coding-practices.html"><a href="coding-practices.html#testing-the-shiny-server"><i class="fa fa-check"></i><b>24.6.5</b> Testing the Shiny Server</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="25" data-path="directory-structure.html"><a href="directory-structure.html"><i class="fa fa-check"></i><b>25</b> Directory structure</a><ul>
<li class="chapter" data-level="25.1" data-path="directory-structure.html"><a href="directory-structure.html#overview-of-pecan-repository-as-of-pecan-1.5.3"><i class="fa fa-check"></i><b>25.1</b> Overview of PEcAn repository as of PEcAn 1.5.3</a></li>
<li class="chapter" data-level="25.2" data-path="directory-structure.html"><a href="directory-structure.html#generic-r-package-structure"><i class="fa fa-check"></i><b>25.2</b> Generic R package structure:</a></li>
</ul></li>
<li class="part"><span><b>VI Reference Materials</b></span></li>
<li class="chapter" data-level="26" data-path="pecan-standard-formats.html"><a href="pecan-standard-formats.html"><i class="fa fa-check"></i><b>26</b> PEcAn standard formats</a><ul>
<li class="chapter" data-level="26.1" data-path="pecan-standard-formats.html"><a href="pecan-standard-formats.html#defining-new-input-formats"><i class="fa fa-check"></i><b>26.1</b> Defining new input formats</a><ul>
<li class="chapter" data-level="26.1.1" data-path="pecan-standard-formats.html"><a href="pecan-standard-formats.html#input-standards"><i class="fa fa-check"></i><b>26.1.1</b> Input Standards</a></li>
<li class="chapter" data-level="26.1.2" data-path="pecan-standard-formats.html"><a href="pecan-standard-formats.html#output-standards"><i class="fa fa-check"></i><b>26.1.2</b> Output Standards</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="27" data-path="pecan-models.html"><a href="pecan-models.html"><i class="fa fa-check"></i><b>27</b> PEcAn Models</a><ul>
<li class="chapter" data-level="27.1" data-path="pecan-models.html"><a href="pecan-models.html#models-biocro"><i class="fa fa-check"></i><b>27.1</b> BioCro</a></li>
<li class="chapter" data-level="27.2" data-path="pecan-models.html"><a href="pecan-models.html#models-clm"><i class="fa fa-check"></i><b>27.2</b> CLM</a></li>
<li class="chapter" data-level="27.3" data-path="pecan-models.html"><a href="pecan-models.html#models-dalec"><i class="fa fa-check"></i><b>27.3</b> DALEC</a></li>
<li class="chapter" data-level="27.4" data-path="pecan-models.html"><a href="pecan-models.html#models-ed"><i class="fa fa-check"></i><b>27.4</b> ED2</a><ul>
<li class="chapter" data-level="27.4.1" data-path="pecan-models.html"><a href="pecan-models.html#introduction-2"><i class="fa fa-check"></i><b>27.4.1</b> Introduction</a></li>
<li class="chapter" data-level="27.4.2" data-path="pecan-models.html"><a href="pecan-models.html#pecan-configuration-file-additions"><i class="fa fa-check"></i><b>27.4.2</b> PEcAn configuration file additions</a></li>
<li class="chapter" data-level="27.4.3" data-path="pecan-models.html"><a href="pecan-models.html#models-ed-pft-configuration"><i class="fa fa-check"></i><b>27.4.3</b> PFT configuration in ED2</a></li>
<li class="chapter" data-level="27.4.4" data-path="pecan-models.html"><a href="pecan-models.html#model-specific-input-files"><i class="fa fa-check"></i><b>27.4.4</b> Model specific input files</a></li>
<li class="chapter" data-level="27.4.5" data-path="pecan-models.html"><a href="pecan-models.html#model-configuration-files"><i class="fa fa-check"></i><b>27.4.5</b> Model configuration files</a></li>
<li class="chapter" data-level="27.4.6" data-path="pecan-models.html"><a href="pecan-models.html#installation-notes"><i class="fa fa-check"></i><b>27.4.6</b> Installation notes</a></li>
</ul></li>
<li class="chapter" data-level="27.5" data-path="pecan-models.html"><a href="pecan-models.html#models-gday"><i class="fa fa-check"></i><b>27.5</b> GDAY</a></li>
<li class="chapter" data-level="27.6" data-path="pecan-models.html"><a href="pecan-models.html#models-linkages"><i class="fa fa-check"></i><b>27.6</b> LINKAGES</a></li>
<li class="chapter" data-level="27.7" data-path="pecan-models.html"><a href="pecan-models.html#models-lpjguess"><i class="fa fa-check"></i><b>27.7</b> LPJ-GUESS</a></li>
<li class="chapter" data-level="27.8" data-path="pecan-models.html"><a href="pecan-models.html#models-maespa"><i class="fa fa-check"></i><b>27.8</b> MAESPA</a></li>
<li class="chapter" data-level="27.9" data-path="pecan-models.html"><a href="pecan-models.html#models-preles"><i class="fa fa-check"></i><b>27.9</b> PRELES</a></li>
<li class="chapter" data-level="27.10" data-path="pecan-models.html"><a href="pecan-models.html#models-sipnet"><i class="fa fa-check"></i><b>27.10</b> SiPNET</a><ul>
<li class="chapter" data-level="27.10.1" data-path="pecan-models.html"><a href="pecan-models.html#download-gfdl"><i class="fa fa-check"></i><b>27.10.1</b> Download GFDL</a></li>
<li class="chapter" data-level="27.10.2" data-path="pecan-models.html"><a href="pecan-models.html#cm3"><i class="fa fa-check"></i><b>27.10.2</b> CM3</a></li>
<li class="chapter" data-level="27.10.3" data-path="pecan-models.html"><a href="pecan-models.html#esm2m-esm2g"><i class="fa fa-check"></i><b>27.10.3</b> ESM2M &amp; ESM2G</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="28" data-path="available-meteorological-drivers.html"><a href="available-meteorological-drivers.html"><i class="fa fa-check"></i><b>28</b> Available Meteorological Drivers</a><ul>
<li class="chapter" data-level="28.1" data-path="available-meteorological-drivers.html"><a href="available-meteorological-drivers.html#ameriflux"><i class="fa fa-check"></i><b>28.1</b> Ameriflux</a></li>
<li class="chapter" data-level="28.2" data-path="available-meteorological-drivers.html"><a href="available-meteorological-drivers.html#amerifluxlbl"><i class="fa fa-check"></i><b>28.2</b> AmerifluxLBL</a></li>
<li class="chapter" data-level="28.3" data-path="available-meteorological-drivers.html"><a href="available-meteorological-drivers.html#fluxnet2015"><i class="fa fa-check"></i><b>28.3</b> Fluxnet2015</a></li>
<li class="chapter" data-level="28.4" data-path="available-meteorological-drivers.html"><a href="available-meteorological-drivers.html#narr"><i class="fa fa-check"></i><b>28.4</b> NARR</a></li>
<li class="chapter" data-level="28.5" data-path="available-meteorological-drivers.html"><a href="available-meteorological-drivers.html#cruncep"><i class="fa fa-check"></i><b>28.5</b> CRUNCEP</a></li>
<li class="chapter" data-level="28.6" data-path="available-meteorological-drivers.html"><a href="available-meteorological-drivers.html#cmip5"><i class="fa fa-check"></i><b>28.6</b> CMIP5</a></li>
<li class="chapter" data-level="28.7" data-path="available-meteorological-drivers.html"><a href="available-meteorological-drivers.html#nldas"><i class="fa fa-check"></i><b>28.7</b> NLDAS</a></li>
<li class="chapter" data-level="28.8" data-path="available-meteorological-drivers.html"><a href="available-meteorological-drivers.html#gldas"><i class="fa fa-check"></i><b>28.8</b> GLDAS</a></li>
<li class="chapter" data-level="28.9" data-path="available-meteorological-drivers.html"><a href="available-meteorological-drivers.html#paleon"><i class="fa fa-check"></i><b>28.9</b> PalEON</a></li>
<li class="chapter" data-level="28.10" data-path="available-meteorological-drivers.html"><a href="available-meteorological-drivers.html#fluxnetlathuile"><i class="fa fa-check"></i><b>28.10</b> FluxnetLaThuile</a></li>
<li class="chapter" data-level="28.11" data-path="available-meteorological-drivers.html"><a href="available-meteorological-drivers.html#geostreams"><i class="fa fa-check"></i><b>28.11</b> Geostreams</a></li>
</ul></li>
<li class="chapter" data-level="29" data-path="docker-index.html"><a href="docker-index.html"><i class="fa fa-check"></i><b>29</b> Docker</a><ul>
<li class="chapter" data-level="29.1" data-path="docker-index.html"><a href="docker-index.html#docker-intro"><i class="fa fa-check"></i><b>29.1</b> Introduction to Docker?</a><ul>
<li class="chapter" data-level="29.1.1" data-path="docker-index.html"><a href="docker-index.html#what-is-docker"><i class="fa fa-check"></i><b>29.1.1</b> What is Docker?</a></li>
<li class="chapter" data-level="29.1.2" data-path="docker-index.html"><a href="docker-index.html#working-with-docker"><i class="fa fa-check"></i><b>29.1.2</b> Working with Docker</a></li>
<li class="chapter" data-level="29.1.3" data-path="docker-index.html"><a href="docker-index.html#docker-compose"><i class="fa fa-check"></i><b>29.1.3</b> <code>docker-compose</code></a></li>
</ul></li>
<li class="chapter" data-level="29.2" data-path="docker-index.html"><a href="docker-index.html#docker-quickstart"><i class="fa fa-check"></i><b>29.2</b> Quickstart for Docker and PEcAn</a><ul>
<li class="chapter" data-level="29.2.1" data-path="docker-index.html"><a href="docker-index.html#install-docker"><i class="fa fa-check"></i><b>29.2.1</b> Install Docker</a></li>
<li class="chapter" data-level="29.2.2" data-path="docker-index.html"><a href="docker-index.html#setup-pecan-using-docker-compose"><i class="fa fa-check"></i><b>29.2.2</b> Setup PEcAn using docker-compose</a></li>
</ul></li>
<li class="chapter" data-level="29.3" data-path="docker-index.html"><a href="docker-index.html#pecan-docker"><i class="fa fa-check"></i><b>29.3</b> PEcAn Docker Architecture</a><ul>
<li class="chapter" data-level="29.3.1" data-path="docker-index.html"><a href="docker-index.html#pecan-docker-overview"><i class="fa fa-check"></i><b>29.3.1</b> Overview</a></li>
<li class="chapter" data-level="29.3.2" data-path="docker-index.html"><a href="docker-index.html#pecan-docker-compose"><i class="fa fa-check"></i><b>29.3.2</b> PEcAn’s <code>docker-compose</code></a></li>
</ul></li>
<li class="chapter" data-level="29.4" data-path="docker-index.html"><a href="docker-index.html#model-docker"><i class="fa fa-check"></i><b>29.4</b> Models using Docker</a><ul>
<li class="chapter" data-level="29.4.1" data-path="docker-index.html"><a href="docker-index.html#model-docker-json-file"><i class="fa fa-check"></i><b>29.4.1</b> Model information</a></li>
<li class="chapter" data-level="29.4.2" data-path="docker-index.html"><a href="docker-index.html#model-docker-Dockerfile"><i class="fa fa-check"></i><b>29.4.2</b> Model build</a></li>
<li class="chapter" data-level="29.4.3" data-path="docker-index.html"><a href="docker-index.html#common-problems"><i class="fa fa-check"></i><b>29.4.3</b> Common problems</a></li>
</ul></li>
<li class="chapter" data-level="29.5" data-path="docker-index.html"><a href="docker-index.html#docker-build-images"><i class="fa fa-check"></i><b>29.5</b> Building and modifying images</a><ul>
<li class="chapter" data-level="29.5.1" data-path="docker-index.html"><a href="docker-index.html#docker-local-devel"><i class="fa fa-check"></i><b>29.5.1</b> Local development and testing with Docker</a></li>
<li class="chapter" data-level="29.5.2" data-path="docker-index.html"><a href="docker-index.html#docker-troubleshooting"><i class="fa fa-check"></i><b>29.5.2</b> Troubleshooting Docker</a></li>
</ul></li>
<li class="chapter" data-level="29.6" data-path="docker-index.html"><a href="docker-index.html#docker-migrate"><i class="fa fa-check"></i><b>29.6</b> Migrating PEcAn from VM to Docker</a><ul>
<li class="chapter" data-level="29.6.1" data-path="docker-index.html"><a href="docker-index.html#running-bety-as-a-docker-container"><i class="fa fa-check"></i><b>29.6.1</b> Running BETY as a docker container</a></li>
<li class="chapter" data-level="29.6.2" data-path="docker-index.html"><a href="docker-index.html#using-the-pecan-download.file-function"><i class="fa fa-check"></i><b>29.6.2</b> Using the PEcAn download.file() function</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="30" data-path="shiny.html"><a href="shiny.html"><i class="fa fa-check"></i><b>30</b> SHINY</a><ul>
<li class="chapter" data-level="30.0.1" data-path="shiny.html"><a href="shiny.html#debugging-shiny-apps"><i class="fa fa-check"></i><b>30.0.1</b> Debugging Shiny Apps</a></li>
</ul></li>
<li class="chapter" data-level="31" data-path="debugging.html"><a href="debugging.html"><i class="fa fa-check"></i><b>31</b> Debugging</a><ul>
<li class="chapter" data-level="31.0.1" data-path="debugging.html"><a href="debugging.html#using-testsworkflow.r"><i class="fa fa-check"></i><b>31.0.1</b> Using <code>tests/workflow.R</code></a></li>
<li class="chapter" data-level="31.0.2" data-path="debugging.html"><a href="debugging.html#useful-scripts"><i class="fa fa-check"></i><b>31.0.2</b> Useful scripts</a></li>
<li class="chapter" data-level="31.1" data-path="debugging.html"><a href="debugging.html#troubleshooting-pecan"><i class="fa fa-check"></i><b>31.1</b> Troubleshooting PEcAn</a><ul>
<li class="chapter" data-level="31.1.1" data-path="debugging.html"><a href="debugging.html#cookies-and-pecan-web-pages"><i class="fa fa-check"></i><b>31.1.1</b> Cookies and pecan web pages</a></li>
<li class="chapter" data-level="31.1.2" data-path="debugging.html"><a href="debugging.html#warning-mkdir-function.mkdir-no-such-file-or-directory"><i class="fa fa-check"></i><b>31.1.2</b> <code>Warning: mkdir() [function.mkdir]: No such file or directory</code></a></li>
<li class="chapter" data-level="31.1.3" data-path="debugging.html"><a href="debugging.html#after-creating-a-new-pft-the-tag-for-pft-not-passed-to-config.xml-in-ed"><i class="fa fa-check"></i><b>31.1.3</b> After creating a new PFT the <num> tag for PFT not passed to config.xml in ED</a></li>
</ul></li>
<li class="chapter" data-level="31.2" data-path="debugging.html"><a href="debugging.html#pecan-project-use-to-teach-ecological-model-data-synthesis"><i class="fa fa-check"></i><b>31.2</b> PEcAn Project use to teach Ecological model-data synthesis</a><ul>
<li class="chapter" data-level="31.2.1" data-path="debugging.html"><a href="debugging.html#university-classes"><i class="fa fa-check"></i><b>31.2.1</b> University classes</a></li>
<li class="chapter" data-level="31.2.2" data-path="debugging.html"><a href="debugging.html#summer-courses-workshops"><i class="fa fa-check"></i><b>31.2.2</b> Summer Courses / Workshops</a></li>
<li class="chapter" data-level="31.2.3" data-path="debugging.html"><a href="debugging.html#selected-publications"><i class="fa fa-check"></i><b>31.2.3</b> Selected Publications</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="32" data-path="rabbitmq.html"><a href="rabbitmq.html"><i class="fa fa-check"></i><b>32</b> RabbitMQ</a><ul>
<li class="chapter" data-level="32.1" data-path="rabbitmq.html"><a href="rabbitmq.html#rabbitmq-basics-sender"><i class="fa fa-check"></i><b>32.1</b> Producer – <code>sender.py</code></a></li>
<li class="chapter" data-level="32.2" data-path="rabbitmq.html"><a href="rabbitmq.html#rabbitmq-basics-receiver"><i class="fa fa-check"></i><b>32.2</b> Consumer – <code>receiver.py</code></a></li>
<li class="chapter" data-level="32.3" data-path="rabbitmq.html"><a href="rabbitmq.html#rabbitmq-web"><i class="fa fa-check"></i><b>32.3</b> RabbitMQ and the PEcAn web interface</a></li>
<li class="chapter" data-level="32.4" data-path="rabbitmq.html"><a href="rabbitmq.html#rabbitmq-xml"><i class="fa fa-check"></i><b>32.4</b> RabbitMQ in the PEcAn XML</a></li>
<li class="chapter" data-level="32.5" data-path="rabbitmq.html"><a href="rabbitmq.html#rabbitmq-dockerfile"><i class="fa fa-check"></i><b>32.5</b> RabbitMQ configuration in Dockerfiles</a></li>
<li class="chapter" data-level="32.6" data-path="rabbitmq.html"><a href="rabbitmq.html#rabbitmq-case-study"><i class="fa fa-check"></i><b>32.6</b> Case study: PEcAn web interface</a></li>
</ul></li>
<li class="chapter" data-level="33" data-path="database.html"><a href="database.html"><i class="fa fa-check"></i><b>33</b> BETY Database Administration</a><ul>
<li class="chapter" data-level="33.1" data-path="database.html"><a href="database.html#database-setup"><i class="fa fa-check"></i><b>33.1</b> Best practices</a></li>
<li class="chapter" data-level="33.2" data-path="database.html"><a href="database.html#backup-of-bety-database"><i class="fa fa-check"></i><b>33.2</b> Backup of BETY database</a></li>
<li class="chapter" data-level="33.3" data-path="database.html"><a href="database.html#restore-of-bety-database"><i class="fa fa-check"></i><b>33.3</b> Restore of BETY database</a></li>
</ul></li>
<li class="chapter" data-level="34" data-path="bookediting.html"><a href="bookediting.html"><i class="fa fa-check"></i><b>34</b> Editing this book</a></li>
<li class="chapter" data-level="35" data-path="data-assimilation-with-dart.html"><a href="data-assimilation-with-dart.html"><i class="fa fa-check"></i><b>35</b> Data assimilation with DART</a></li>
<li class="part"><span><b>VII Demos and Vignettes</b></span></li>
<li class="chapter" data-level="36" data-path="pecan-hands-on-demo-01-basic-run.html"><a href="pecan-hands-on-demo-01-basic-run.html"><i class="fa fa-check"></i><b>36</b> PEcAn Hands-On Demo 01: Basic Run</a><ul>
<li class="chapter" data-level="36.1" data-path="pecan-hands-on-demo-01-basic-run.html"><a href="pecan-hands-on-demo-01-basic-run.html#objective"><i class="fa fa-check"></i><b>36.1</b> Objective</a><ul>
<li class="chapter" data-level="36.1.1" data-path="pecan-hands-on-demo-01-basic-run.html"><a href="pecan-hands-on-demo-01-basic-run.html#pecan-url"><i class="fa fa-check"></i><b>36.1.1</b> PEcAn URL</a></li>
</ul></li>
<li class="chapter" data-level="36.2" data-path="pecan-hands-on-demo-01-basic-run.html"><a href="pecan-hands-on-demo-01-basic-run.html#basic-run"><i class="fa fa-check"></i><b>36.2</b> Basic Run</a><ul>
<li class="chapter" data-level="36.2.1" data-path="pecan-hands-on-demo-01-basic-run.html"><a href="pecan-hands-on-demo-01-basic-run.html#start-pecan-1"><i class="fa fa-check"></i><b>36.2.1</b> Start PEcAn:</a></li>
<li class="chapter" data-level="36.2.2" data-path="pecan-hands-on-demo-01-basic-run.html"><a href="pecan-hands-on-demo-01-basic-run.html#site-selection"><i class="fa fa-check"></i><b>36.2.2</b> Site Selection</a></li>
<li class="chapter" data-level="36.2.3" data-path="pecan-hands-on-demo-01-basic-run.html"><a href="pecan-hands-on-demo-01-basic-run.html#host"><i class="fa fa-check"></i><b>36.2.3</b> Host</a></li>
<li class="chapter" data-level="36.2.4" data-path="pecan-hands-on-demo-01-basic-run.html"><a href="pecan-hands-on-demo-01-basic-run.html#mode"><i class="fa fa-check"></i><b>36.2.4</b> Mode</a></li>
<li class="chapter" data-level="36.2.5" data-path="pecan-hands-on-demo-01-basic-run.html"><a href="pecan-hands-on-demo-01-basic-run.html#site-group"><i class="fa fa-check"></i><b>36.2.5</b> Site Group</a></li>
<li class="chapter" data-level="36.2.6" data-path="pecan-hands-on-demo-01-basic-run.html"><a href="pecan-hands-on-demo-01-basic-run.html#conversion"><i class="fa fa-check"></i><b>36.2.6</b> Conversion:</a></li>
<li class="chapter" data-level="36.2.7" data-path="pecan-hands-on-demo-01-basic-run.html"><a href="pecan-hands-on-demo-01-basic-run.html#site"><i class="fa fa-check"></i><b>36.2.7</b> Site:</a></li>
<li class="chapter" data-level="36.2.8" data-path="pecan-hands-on-demo-01-basic-run.html"><a href="pecan-hands-on-demo-01-basic-run.html#model-run-workflow"><i class="fa fa-check"></i><b>36.2.8</b> Model Run Workflow</a></li>
</ul></li>
<li class="chapter" data-level="36.3" data-path="pecan-hands-on-demo-01-basic-run.html"><a href="pecan-hands-on-demo-01-basic-run.html#next-steps"><i class="fa fa-check"></i><b>36.3</b> Next steps</a></li>
</ul></li>
<li class="chapter" data-level="37" data-path="demo-02-sensitivity-and-uncertainty-analysis.html"><a href="demo-02-sensitivity-and-uncertainty-analysis.html"><i class="fa fa-check"></i><b>37</b> Demo 02: Sensitivity and Uncertainty Analysis</a><ul>
<li class="chapter" data-level="37.1" data-path="demo-02-sensitivity-and-uncertainty-analysis.html"><a href="demo-02-sensitivity-and-uncertainty-analysis.html#run-specification-1"><i class="fa fa-check"></i><b>37.1</b> Run Specification</a><ul>
<li class="chapter" data-level="37.1.1" data-path="demo-02-sensitivity-and-uncertainty-analysis.html"><a href="demo-02-sensitivity-and-uncertainty-analysis.html#additional-outputs"><i class="fa fa-check"></i><b>37.1.1</b> Additional Outputs:</a></li>
<li class="chapter" data-level="37.1.2" data-path="demo-02-sensitivity-and-uncertainty-analysis.html"><a href="demo-02-sensitivity-and-uncertainty-analysis.html#run-id"><i class="fa fa-check"></i><b>37.1.2</b> 1. Run ID:</a></li>
<li class="chapter" data-level="37.1.3" data-path="demo-02-sensitivity-and-uncertainty-analysis.html"><a href="demo-02-sensitivity-and-uncertainty-analysis.html#inputs-3"><i class="fa fa-check"></i><b>37.1.3</b> 2. Inputs:</a></li>
<li class="chapter" data-level="37.1.4" data-path="demo-02-sensitivity-and-uncertainty-analysis.html"><a href="demo-02-sensitivity-and-uncertainty-analysis.html#outputs"><i class="fa fa-check"></i><b>37.1.4</b> 3. Outputs:</a></li>
<li class="chapter" data-level="37.1.5" data-path="demo-02-sensitivity-and-uncertainty-analysis.html"><a href="demo-02-sensitivity-and-uncertainty-analysis.html#pfts"><i class="fa fa-check"></i><b>37.1.5</b> 4. PFTs:</a></li>
<li class="chapter" data-level="37.1.6" data-path="demo-02-sensitivity-and-uncertainty-analysis.html"><a href="demo-02-sensitivity-and-uncertainty-analysis.html#pecan-files"><i class="fa fa-check"></i><b>37.1.6</b> PEcAn Files:</a></li>
</ul></li>
<li class="chapter" data-level="37.2" data-path="demo-02-sensitivity-and-uncertainty-analysis.html"><a href="demo-02-sensitivity-and-uncertainty-analysis.html#global-sensitivity-shiny"><i class="fa fa-check"></i><b>37.2</b> Global Sensitivity: Shiny</a><ul>
<li class="chapter" data-level="37.2.1" data-path="demo-02-sensitivity-and-uncertainty-analysis.html"><a href="demo-02-sensitivity-and-uncertainty-analysis.html#next-steps-1"><i class="fa fa-check"></i><b>37.2.1</b> Next Steps</a></li>
<li class="chapter" data-level="37.2.2" data-path="demo-02-sensitivity-and-uncertainty-analysis.html"><a href="demo-02-sensitivity-and-uncertainty-analysis.html#assimilation-by-hand"><i class="fa fa-check"></i><b>37.2.2</b> Assimilation ‘by hand’</a></li>
<li class="chapter" data-level="37.2.3" data-path="demo-02-sensitivity-and-uncertainty-analysis.html"><a href="demo-02-sensitivity-and-uncertainty-analysis.html#mcmc-concepts"><i class="fa fa-check"></i><b>37.2.3</b> MCMC Concepts</a></li>
<li class="chapter" data-level="37.2.4" data-path="demo-02-sensitivity-and-uncertainty-analysis.html"><a href="demo-02-sensitivity-and-uncertainty-analysis.html#more-info-about-tools-analyses-and-specific-tasks"><i class="fa fa-check"></i><b>37.2.4</b> More info about tools, analyses, and specific tasks…</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="38" data-path="pecan-testing-the-sensitivity-analysis-against-observations.html"><a href="pecan-testing-the-sensitivity-analysis-against-observations.html"><i class="fa fa-check"></i><b>38</b> PEcAn: Testing the Sensitivity Analysis Against Observations&quot;</a><ul>
<li class="chapter" data-level="38.0.1" data-path="pecan-testing-the-sensitivity-analysis-against-observations.html"><a href="pecan-testing-the-sensitivity-analysis-against-observations.html#author-ankur-desai"><i class="fa fa-check"></i><b>38.0.1</b> Author: “Ankur Desai”</a></li>
<li class="chapter" data-level="38.1" data-path="pecan-testing-the-sensitivity-analysis-against-observations.html"><a href="pecan-testing-the-sensitivity-analysis-against-observations.html#introduction-3"><i class="fa fa-check"></i><b>38.1</b> Introduction</a></li>
</ul></li>
<li class="chapter" data-level="39" data-path="simple-model-data-comparisons.html"><a href="simple-model-data-comparisons.html"><i class="fa fa-check"></i><b>39</b> Simple Model-Data Comparisons</a><ul>
<li class="chapter" data-level="39.0.1" data-path="simple-model-data-comparisons.html"><a href="simple-model-data-comparisons.html#author-istem-fer-tess-mccabe"><i class="fa fa-check"></i><b>39.0.1</b> Author: Istem Fer, Tess McCabe</a></li>
<li class="chapter" data-level="39.1" data-path="simple-model-data-comparisons.html"><a href="simple-model-data-comparisons.html#starting-rstudio-server"><i class="fa fa-check"></i><b>39.1</b> Starting RStudio Server</a></li>
<li class="chapter" data-level="39.2" data-path="simple-model-data-comparisons.html"><a href="simple-model-data-comparisons.html#read-in-settings-from-an-xml-file"><i class="fa fa-check"></i><b>39.2</b> Read in settings From an XML file</a></li>
<li class="chapter" data-level="39.3" data-path="simple-model-data-comparisons.html"><a href="simple-model-data-comparisons.html#read-in-model-output-from-specific-variables"><i class="fa fa-check"></i><b>39.3</b> Read in model output from specific variables</a></li>
<li class="chapter" data-level="39.4" data-path="simple-model-data-comparisons.html"><a href="simple-model-data-comparisons.html#compare-model-to-flux-observations"><i class="fa fa-check"></i><b>39.4</b> Compare model to flux observations</a></li>
</ul></li>
<li class="chapter" data-level="40" data-path="parameter-data-assimilation.html"><a href="parameter-data-assimilation.html"><i class="fa fa-check"></i><b>40</b> Parameter Data Assimilation</a><ul>
<li class="chapter" data-level="40.1" data-path="parameter-data-assimilation.html"><a href="parameter-data-assimilation.html#objectives"><i class="fa fa-check"></i><b>40.1</b> Objectives</a></li>
<li class="chapter" data-level="40.2" data-path="parameter-data-assimilation.html"><a href="parameter-data-assimilation.html#larger-context"><i class="fa fa-check"></i><b>40.2</b> Larger Context</a></li>
<li class="chapter" data-level="40.3" data-path="parameter-data-assimilation.html"><a href="parameter-data-assimilation.html#connect-to-rstudio"><i class="fa fa-check"></i><b>40.3</b> Connect to Rstudio</a></li>
<li class="chapter" data-level="40.4" data-path="parameter-data-assimilation.html"><a href="parameter-data-assimilation.html#defining-variables"><i class="fa fa-check"></i><b>40.4</b> Defining variables</a></li>
<li class="chapter" data-level="40.5" data-path="parameter-data-assimilation.html"><a href="parameter-data-assimilation.html#initial-ensemble-analysis"><i class="fa fa-check"></i><b>40.5</b> Initial Ensemble Analysis</a><ul>
<li class="chapter" data-level="40.5.1" data-path="parameter-data-assimilation.html"><a href="parameter-data-assimilation.html#questions"><i class="fa fa-check"></i><b>40.5.1</b> Questions:</a></li>
</ul></li>
<li class="chapter" data-level="40.6" data-path="parameter-data-assimilation.html"><a href="parameter-data-assimilation.html#choosing-parameters"><i class="fa fa-check"></i><b>40.6</b> Choosing Parameters</a><ul>
<li class="chapter" data-level="40.6.1" data-path="parameter-data-assimilation.html"><a href="parameter-data-assimilation.html#questions-1"><i class="fa fa-check"></i><b>40.6.1</b> Questions:</a></li>
</ul></li>
<li class="chapter" data-level="40.7" data-path="parameter-data-assimilation.html"><a href="parameter-data-assimilation.html#editing-pecan-settings"><i class="fa fa-check"></i><b>40.7</b> Editing PEcAn settings</a></li>
<li class="chapter" data-level="40.8" data-path="parameter-data-assimilation.html"><a href="parameter-data-assimilation.html#investigating-pecan-function-pda.emulator-optional"><i class="fa fa-check"></i><b>40.8</b> Investigating PEcAn function pda.emulator (optional)</a></li>
<li class="chapter" data-level="40.9" data-path="parameter-data-assimilation.html"><a href="parameter-data-assimilation.html#running-a-demo-pda"><i class="fa fa-check"></i><b>40.9</b> Running a demo PDA</a></li>
<li class="chapter" data-level="40.10" data-path="parameter-data-assimilation.html"><a href="parameter-data-assimilation.html#outputs-from-pecans-parameter-data-assimilation"><i class="fa fa-check"></i><b>40.10</b> Outputs from PEcAn’s Parameter Data Assimilation</a><ul>
<li class="chapter" data-level="40.10.1" data-path="parameter-data-assimilation.html"><a href="parameter-data-assimilation.html#questions-2"><i class="fa fa-check"></i><b>40.10.1</b> Questions:</a></li>
</ul></li>
<li class="chapter" data-level="40.11" data-path="parameter-data-assimilation.html"><a href="parameter-data-assimilation.html#post-pda-analyses"><i class="fa fa-check"></i><b>40.11</b> Post-PDA analyses</a><ul>
<li class="chapter" data-level="40.11.1" data-path="parameter-data-assimilation.html"><a href="parameter-data-assimilation.html#questions-3"><i class="fa fa-check"></i><b>40.11.1</b> Questions:</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="41" data-path="state-variable-data-assimilation.html"><a href="state-variable-data-assimilation.html"><i class="fa fa-check"></i><b>41</b> State-Variable Data Assimilation</a><ul>
<li class="chapter" data-level="41.1" data-path="state-variable-data-assimilation.html"><a href="state-variable-data-assimilation.html#objectives-1"><i class="fa fa-check"></i><b>41.1</b> Objectives:</a></li>
<li class="chapter" data-level="41.2" data-path="state-variable-data-assimilation.html"><a href="state-variable-data-assimilation.html#overview-1"><i class="fa fa-check"></i><b>41.2</b> Overview:</a><ul>
<li class="chapter" data-level="41.2.1" data-path="state-variable-data-assimilation.html"><a href="state-variable-data-assimilation.html#initial-run"><i class="fa fa-check"></i><b>41.2.1</b> Initial Run</a></li>
<li class="chapter" data-level="41.2.2" data-path="state-variable-data-assimilation.html"><a href="state-variable-data-assimilation.html#settings-1"><i class="fa fa-check"></i><b>41.2.2</b> Settings:</a></li>
<li class="chapter" data-level="41.2.3" data-path="state-variable-data-assimilation.html"><a href="state-variable-data-assimilation.html#loading-data-1"><i class="fa fa-check"></i><b>41.2.3</b> Loading data</a></li>
<li class="chapter" data-level="41.2.4" data-path="state-variable-data-assimilation.html"><a href="state-variable-data-assimilation.html#estimating-tree-level-data-uncertainties"><i class="fa fa-check"></i><b>41.2.4</b> Estimating tree-level data uncertainties</a></li>
</ul></li>
<li class="chapter" data-level="41.3" data-path="state-variable-data-assimilation.html"><a href="state-variable-data-assimilation.html#allometric-equations"><i class="fa fa-check"></i><b>41.3</b> Allometric equations</a></li>
<li class="chapter" data-level="41.4" data-path="state-variable-data-assimilation.html"><a href="state-variable-data-assimilation.html#estimate-stand-level-npp"><i class="fa fa-check"></i><b>41.4</b> Estimate stand-level NPP</a></li>
<li class="chapter" data-level="41.5" data-path="state-variable-data-assimilation.html"><a href="state-variable-data-assimilation.html#build-initial-conditions"><i class="fa fa-check"></i><b>41.5</b> Build Initial Conditions</a></li>
<li class="chapter" data-level="41.6" data-path="state-variable-data-assimilation.html"><a href="state-variable-data-assimilation.html#load-priors"><i class="fa fa-check"></i><b>41.6</b> Load Priors</a></li>
<li class="chapter" data-level="41.7" data-path="state-variable-data-assimilation.html"><a href="state-variable-data-assimilation.html#ensemble-kalman-filter"><i class="fa fa-check"></i><b>41.7</b> Ensemble Kalman Filter</a></li>
<li class="chapter" data-level="41.8" data-path="state-variable-data-assimilation.html"><a href="state-variable-data-assimilation.html#finishing-up"><i class="fa fa-check"></i><b>41.8</b> Finishing up</a></li>
</ul></li>
<li class="chapter" data-level="42" data-path="data-assimilation-concepts.html"><a href="data-assimilation-concepts.html"><i class="fa fa-check"></i><b>42</b> Data Assimilation Concepts&quot;</a><ul>
<li class="chapter" data-level="42.1" data-path="data-assimilation-concepts.html"><a href="data-assimilation-concepts.html#fitting-the-model"><i class="fa fa-check"></i><b>42.1</b> Fitting the model</a></li>
<li class="chapter" data-level="42.2" data-path="data-assimilation-concepts.html"><a href="data-assimilation-concepts.html#whats-going-on"><i class="fa fa-check"></i><b>42.2</b> What’s going on</a></li>
<li class="chapter" data-level="42.3" data-path="data-assimilation-concepts.html"><a href="data-assimilation-concepts.html#evaluating-the-model-output"><i class="fa fa-check"></i><b>42.3</b> Evaluating the model output</a></li>
<li class="chapter" data-level="42.4" data-path="data-assimilation-concepts.html"><a href="data-assimilation-concepts.html#additional-information"><i class="fa fa-check"></i><b>42.4</b> Additional information</a></li>
<li class="chapter" data-level="42.5" data-path="data-assimilation-concepts.html"><a href="data-assimilation-concepts.html#citations"><i class="fa fa-check"></i><b>42.5</b> Citations</a></li>
</ul></li>
<li class="chapter" data-level="43" data-path="pecanapi-vignette.html"><a href="pecanapi-vignette.html"><i class="fa fa-check"></i><b>43</b> Introduction to the PEcAn R API</a><ul>
<li class="chapter" data-level="43.1" data-path="pecanapi-vignette.html"><a href="pecanapi-vignette.html#introduction-4"><i class="fa fa-check"></i><b>43.1</b> Introduction</a></li>
<li class="chapter" data-level="43.2" data-path="pecanapi-vignette.html"><a href="pecanapi-vignette.html#pecanapi-setup"><i class="fa fa-check"></i><b>43.2</b> Initial setup</a></li>
<li class="chapter" data-level="43.3" data-path="pecanapi-vignette.html"><a href="pecanapi-vignette.html#pecanapi-workflow"><i class="fa fa-check"></i><b>43.3</b> Registering a workflow with the database</a></li>
<li class="chapter" data-level="43.4" data-path="pecanapi-vignette.html"><a href="pecanapi-vignette.html#pecanapi-settings"><i class="fa fa-check"></i><b>43.4</b> Building a settings object</a></li>
<li class="chapter" data-level="43.5" data-path="pecanapi-vignette.html"><a href="pecanapi-vignette.html#pecanapi-submit"><i class="fa fa-check"></i><b>43.5</b> Submitting a run</a></li>
<li class="chapter" data-level="43.6" data-path="pecanapi-vignette.html"><a href="pecanapi-vignette.html#pecanapi-output"><i class="fa fa-check"></i><b>43.6</b> Processing output</a></li>
</ul></li>
<li class="part"><span><b>VIII Appendix</b></span></li>
<li class="chapter" data-level="44" data-path="faq.html"><a href="faq.html"><i class="fa fa-check"></i><b>44</b> FAQ</a></li>
</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">The Predictive Ecosystem Analyzer</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="coding-practices" class="section level1">
<h1><span class="header-section-number">24</span> Coding Practices</h1>

<div id="coding-style" class="section level2">
<h2><span class="header-section-number">24.1</span> Coding Style</h2>
<p>Consistent coding style improves readability and reduces errors in
shared code.</p>
<p>R does not have an official style guide, but Hadley Wickham provides one that is well
thought out and widely adopted. <a href="http://r-pkgs.had.co.nz/style.html">Advanced R: Coding Style</a>.</p>
<p>Both the Wickham text and this page are derived from <a href="https://google.github.io/styleguide/Rguide.xml">Google’s R Style Guide</a>.</p>
<div id="use-roxygen2-documentation" class="section level3">
<h3><span class="header-section-number">24.1.1</span> Use Roxygen2 documentation</h3>
<p>This is the standard method of documentation used in PEcAn development,
it provides inline documentation similar to doxygen. Even trivial
functions should be documented.</p>
<p>See <a href="Roxygen2.md">Roxygen2</a> Wiki page</p>
</div>
<div id="write-your-name-at-the-top" class="section level3">
<h3><span class="header-section-number">24.1.2</span> Write your name at the top</h3>
<p>Any function that you create or make a meaningful contribution to should
have your name listed after the author tag in the function documentation.</p>
</div>
<div id="use-testthat-testing-package" class="section level3">
<h3><span class="header-section-number">24.1.3</span> Use testthat testing package</h3>
<p>See <a href="Testing.md">Unit_Testing</a> wiki for instructions, and <a href="http://r-pkgs.had.co.nz/tests.html">Advanced R: Tests</a>.</p>
<ul>
<li>tests provide support for documentation - they define what a function is (and is not) expected to do</li>
<li>all functions need tests to ensure basic functionality is maintained during development.</li>
<li>all bugs should have a test that reproduces the bug, and the test should pass before bug is closed</li>
</ul>
</div>
<div id="dont-use-shortcuts" class="section level3">
<h3><span class="header-section-number">24.1.4</span> Don’t use shortcuts</h3>
<p>R provides many shortcuts that are useful when coding interactively, or for writing scripts. However, these can make code more difficult to read and can cause problems when written into packages.</p>
<div id="function-names-verb.noun" class="section level4">
<h4><span class="header-section-number">24.1.4.1</span> Function Names (<code>verb.noun</code>)</h4>
<p>Following convention established in PEcAn 0.1, we use the all lowercase with periods to separate words. They should generally have a <code>verb.noun</code> format, such as <code>query.traits</code>, <code>get.samples</code>, etc.</p>
</div>
<div id="file-names" class="section level4">
<h4><span class="header-section-number">24.1.4.2</span> File Names</h4>
<p>File names should end in <code>.R</code>, <code>.Rdata</code>, <code>.Rscript</code> and should be meaningful, e.g. named after the primary functions that they contain. There should be a separate file for each major high-level function to aid in identifying the contents of files in a directory.</p>
</div>
<div id="use---as-an-assignment-operator" class="section level4">
<h4><span class="header-section-number">24.1.4.3</span> Use “&lt;-” as an assignment operator</h4>
<ul>
<li>Because most R code uses &lt;- (except where = is required), we will use &lt;-</li>
<li>“=” is used for function arguments</li>
</ul>
</div>
<div id="use-spaces" class="section level4">
<h4><span class="header-section-number">24.1.4.4</span> Use Spaces</h4>
<ul>
<li>around all binary operators (=, +, -, &lt;-, etc.).</li>
<li>after but not before a comma</li>
</ul>
</div>
<div id="use-curly-braces" class="section level4">
<h4><span class="header-section-number">24.1.4.5</span> Use curly braces</h4>
<p>The option to omit curly braces is another shortcut that makes code easier to write but harder to read and more prone to error.</p>
</div>
</div>
<div id="package-dependencies" class="section level3">
<h3><span class="header-section-number">24.1.5</span> Package Dependencies:</h3>
<div id="library-vs-require" class="section level4">
<h4><span class="header-section-number">24.1.5.1</span> library vs require</h4>
<p>When another package is required by a function or script, it can be called in the following ways:</p>
<p>(As a package dependency loads with the package, these should be the default approaches when writing functions in a package. There can be some exceptions, such as when a rarely-used or non-essential function requires an esoteric package.)
1. When using <code>library</code>,
if dependency is not met, it will print an error and stop
2. When using <code>require</code>, it
will print a warning and continue (but will throw an error when a function from the required package is called)</p>
<p>Reference: Stack Overflow <a href="http://stackoverflow.com/questions/5595512/what-is-the-difference-between-require-and-library">“What is the difference between require and library?”</a></p>
</div>
<div id="depends-suggests-imports" class="section level4">
<h4><span class="header-section-number">24.1.5.2</span> DEPENDS, SUGGESTS, IMPORTS</h4>
<p>It is considered best practice to use DEPENDS and SUGGESTS in DESCRIPTION; SUGGESTS should be used for packages that are called infrequently, or only in examples and vignettes; suggested packages are called by require inside a function.</p>
<p>Consider using IMPORTS instead of depends in the DESCRIPTION files. This will make loading packages faster by allowing it to have functions available without loading the hierarchy of dependencies, dependencies of dependencies, ad infinitum …
From p. 6 of the “R extensions manual”:<a href="http://cran.r-project.org/doc/manuals/R-exts.html" class="uri">http://cran.r-project.org/doc/manuals/R-exts.html</a></p>
<blockquote>
<p>The <code>Suggests</code> field uses the same syntax as <code>Depends</code> and lists packages that are not necessarily needed. This includes packages used only in examples, tests or vignettes (see Section 1.4 [Writing package vignettes], page 26), and packages loaded in the body of functions. E.g., suppose an example from package foo uses a dataset from package bar. Then it is not necessary to have bar use foo unless one wants to execute all the examples/tests/vignettes: it is useful to have bar, but not necessary. Version requirements can be specified, and will be used by R CMD check.</p>
</blockquote>

</div>
</div>
</div>
<div id="logging" class="section level2">
<h2><span class="header-section-number">24.2</span> Logging</h2>
<p>During development we often add many print statements to check to see how the code is doing, what is happening, what intermediate results there are etc. When done with the development it would be nice to turn this additional code off, but have the ability to quickly turn it back on if we discover a problem. This is where logging comes into play. Logging allows us to use “rules” to say what information should be shown. For example when I am working on the code to create graphs, I do not have to see any debugging information about the SQL command being sent, however trying to figure out what goes wrong during a SQL statement it would be nice to show the SQL statements without adding any additional code.</p>
<div id="pecan-logging-functions" class="section level3">
<h3><span class="header-section-number">24.2.1</span> PEcAn logging functions</h3>
<p>These <code>logger</code> family of functions are more sophisticated, and can be used in place of <code>stop</code>, <code>warn</code>, <code>print</code>, and similar functions. The <code>logger</code> functions make it easier to print to a system log file.</p>
<div id="examples" class="section level4">
<h4><span class="header-section-number">24.2.1.1</span> Examples</h4>
<ul>
<li>The file <a href="../blob/master/utils/inst/tests/test.logger.R">test.logger.R</a> provides descriptive examples</li>
<li>This query provides an current overview of <a href="https://github.com/PecanProject/pecan/search?q=logger&amp;ref=cmdform">functions that use logging</a></li>
<li>logger functions (in order of increasing level):</li>
<li><code>logger.debug</code></li>
<li><code>logger.info</code></li>
<li><code>logger.warn</code></li>
<li><code>logger.error</code></li>
<li>the <code>logger.setLevel</code> function sets the level at which a message will be printed</li>
<li><code>logger.setLevel(&quot;DEBUG&quot;)</code> will print messages from all logger functions</li>
<li><code>logger.setLevel(&quot;ERROR&quot;)</code> will only print messages from <code>logger.error</code></li>
<li><code>logger.setLevel(&quot;INFO&quot;)</code> and <code>logger.setLevel(&quot;WARN&quot;) shows messages from</code>logger.<level><code>and higher functions, e.g.</code>logger.setLevel(“WARN”)<code>shows messages from</code>logger.warn<code>and</code>logger.error`</li>
<li><code>logger.setLevel(&quot;OFF&quot;)</code> suppresses all logger messages</li>
<li>To print all messages to console, use <code>logger.setUseConsole(TRUE)</code></li>
</ul>
</div>
<div id="related-issues-requires-redmine-developer-account" class="section level4">
<h4><span class="header-section-number">24.2.1.2</span> Related Issues (requires Redmine developer account)</h4>
<ul>
<li><a href="https://ebi-forecast.igb.illinois.edu/redmine/issues/1071">#1071 How to handle errors?</a></li>
<li><a href="https://ebi-forecast.igb.illinois.edu/redmine/issues/1222">#1222 Ignore warnings</a>
You can use <span class="citation">@logger.setLevel</span>(“ERROR”)@ to only show error messages. All the code that does not use logger will not be filtered.</li>
</ul>
</div>
</div>
<div id="other-r-logging-packages" class="section level3">
<h3><span class="header-section-number">24.2.2</span> Other R logging packages</h3>
<ul>
<li><strong>This section is for reference - these functions should not be used in PEcAn, as they are redundant with the <code>logger.*</code> functions described above</strong></li>
</ul>
<p>R does provide a basic logging capability using stop, warning and message. These allow to print message (and stop execution in case of stop). However there is not an easy method to redirect the logging information to a file, or turn the logging information on and off. This is where one of the following packages comes into play. The packages themselves are very similar since they try to emulate log4j.</p>
<p>Both of the following packages use a hierarchic loggers, meaning that if you change the level of displayed level of logging at one level all levels below it will update their logging.</p>
<div id="logging-1" class="section level4">
<h4><span class="header-section-number">24.2.2.1</span> logging</h4>
The logging development is done at <a href="http://logging.r-forge.r-project.org/" class="uri">http://logging.r-forge.r-project.org/</a> and more information is located at <a href="http://cran.r-project.org/web/packages/logging/index.html" class="uri">http://cran.r-project.org/web/packages/logging/index.html</a> . To install use the following command:
<pre>
install.packages("logging", repos="http://R-Forge.R-project.org")
</pre>
<p>This has my preference pure based on documentation.</p>
</div>
<div id="futile" class="section level4">
<h4><span class="header-section-number">24.2.2.2</span> futile</h4>
<p>The second logging package is <a href="http://cran.r-project.org/web/packages/futile.logger/" class="uri">http://cran.r-project.org/web/packages/futile.logger/</a> and is eerily similar to logging (as a matter of fact logging is based on futile).</p>
</div>
</div>
<div id="example-usage" class="section level3">
<h3><span class="header-section-number">24.2.3</span> Example Usage</h3>
<p>To be able to use the loggers there needs to be some initialization done. Neither package allows to read it from a configuration file, so we might want to use the pecan.xml file to set it up. The setup will always be somewhat the same:</p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="co"># load library</span>
<span class="kw">library</span>(logging)
<span class="kw">logReset</span>()

<span class="co"># add handlers, responsible for actually printing/saving the messages</span>
<span class="kw">addHandler</span>(writeToConsole)
<span class="kw">addHandler</span>(writeToFile, <span class="dt">file=</span><span class="st">&quot;file.log&quot;</span>)

<span class="co"># setup root logger with INFO</span>
<span class="kw">setLevel</span>(<span class="st">&#39;INFO&#39;</span>)

<span class="co"># make all of PEcAn print debug messages</span>
<span class="kw">setLevel</span>(<span class="st">&#39;DEBUG&#39;</span>, <span class="kw">getLogger</span>(<span class="st">&#39;PEcAn&#39;</span>))

<span class="co"># only print info and above for the SQL part of PEcAn</span>
<span class="kw">setLevel</span>(<span class="st">&#39;INFO&#39;</span>, <span class="kw">getLogger</span>(<span class="st">&#39;PEcAn.SQL&#39;</span>))</code></pre>
<p>To now use logging in the code you can use the following code:</p>
<pre class="sourceCode r"><code class="sourceCode r">pl &lt;-<span class="st"> </span><span class="kw">getLogger</span>(<span class="st">&#39;PEcAn.MetaAnalysis.function1&#39;</span>)
pl<span class="op">$</span><span class="kw">info</span>(<span class="st">&quot;This is an INFO message.&quot;</span>)
pl<span class="op">$</span><span class="kw">debug</span>(<span class="st">&quot;The value for x=%d&quot;</span>, x)
pl<span class="op">$</span><span class="kw">error</span>(<span class="st">&quot;Something bad happened and I am scared now.&quot;</span>)</code></pre>
<p>or</p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">loginfo</span>(<span class="st">&quot;This is an INFO message.&quot;</span>, <span class="dt">logger=</span><span class="st">&quot;PEcAn.MetaAnalysis.function1&quot;</span>)
<span class="kw">logdebug</span>(<span class="st">&quot;The value for x=%d&quot;</span>, x, <span class="dt">logger=</span><span class="st">&quot;PEcAn.MetaAnalysis.function1&quot;</span>)
<span class="kw">logerror</span>(<span class="st">&quot;Something bad happened and I am scared now.&quot;</span>, <span class="dt">logger=</span><span class="st">&quot;PEcAn.MetaAnalysis.function1&quot;</span>)</code></pre>

</div>
</div>
<div id="package-data" class="section level2">
<h2><span class="header-section-number">24.3</span> Package Data</h2>
<div id="summary" class="section level3">
<h3><span class="header-section-number">24.3.1</span> Summary:</h3>
<p>Files with the following extensions will be read by R as data:</p>
<ul>
<li>plain R code in .R and .r files are sourced using <code>source()</code></li>
<li>text tables in .tab, .txt, .csv files are read using <code>read()</code>
** objects in R image files: .RData, .rda are loaded using <code>load()</code></li>
<li>capitalization matters</li>
<li>all objects in foo.RData are loaded into environment</li>
<li>pro: easiset way to store objects in R format</li>
<li>con: format is application (R) specific (<a href="https://ebi-forecast.igb.illinois.edu/redmine/issues/318">discussed in #318</a>)</li>
</ul>
<p>Details are in <code>?data</code>, which is mostly a copy of <a href="http://cran.r-project.org/doc/manuals/R-exts.html#Data-in-packages">Data section of
Writing R
Extensions</a>.</p>
</div>
<div id="accessing-data" class="section level3">
<h3><span class="header-section-number">24.3.2</span> Accessing data</h3>
<p>Data in the [data] directory will be accessed in the following ways,</p>
<ul>
<li>efficient way: (especially for large data sets) using the <code>data</code>
function:</li>
</ul>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">data</span>(foo) <span class="co"># accesses data with, e.g. load(foo.RData), read(foo.csv), or source(foo.R) </span></code></pre>
<ul>
<li>easy way: by adding the following line to the package DESCRIPTION:
<em>note:</em> this should be used with caution or it can cause difficulty as discussed in redmine issue #1118</li>
</ul>
<pre class="sourceCode r"><code class="sourceCode r">LazyData<span class="op">:</span><span class="st"> </span><span class="ot">TRUE</span></code></pre>
<p>From the R help page:</p>
<p>Currently, a limited number of data formats can be accessed using the <code>data</code> function by placing one of the following filetypes in a packages’ <code>data</code> directory:
* files ending <code>.R</code> or <code>.r</code> are <code>source()</code>d in, with the R working
directory changed temporarily to the directory containing the respective
file. (<code>data</code> ensures that the <code>utils</code> package is attached, in case it
had been run <em>via</em> <code>utils::data</code>.)
* files ending <code>.RData</code> or <code>.rda</code> are <code>load()</code>ed.
* files ending <code>.tab</code>, <code>.txt</code> or <code>.TXT</code> are read using <code>read.table(..., header = TRUE)</code>, and hence result in a data frame.
* files ending <code>.csv</code> or <code>.CSV</code> are read using <code>read.table(..., header = TRUE, sep = ';')</code>, and also result in a data frame.</p>
<p>If your data does not fall in those 4 categories, or you can use the
<code>system.file</code> function to get access to the data:</p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">system.file</span>(<span class="st">&quot;data&quot;</span>, <span class="st">&quot;ed.trait.dictionary.csv&quot;</span>, <span class="dt">package=</span><span class="st">&quot;PEcAn.utils&quot;</span>)
[<span class="dv">1</span>] <span class="st">&quot;/home/kooper/R/x86_64-pc-linux-gnu-library/2.15/PEcAn.utils/data/ed.trait.dictionary.csv&quot;</span></code></pre>
<p>The arguments are folder, filename(s) and then package. It will return
the fully qualified path name to a file in a package, in this case it
points to the trait data. This is almost the same as the data function,
however we can now use any function to read the file, such as read.csv
instead of read.csv2 which seems to be the default of data. This also
allows us to store arbitrary files in the data folder, such as the the
bug file and load it when we need it.</p>
<div id="examples-of-data-in-pecan-packages" class="section level5">
<h5><span class="header-section-number">24.3.2.0.1</span> Examples of data in PEcAn packages</h5>
<ul>
<li><a href="https://ebi-forecast.igb.illinois.edu/redmine/issues/1060">Redmine issue #1060</a> added time constants in <code>source:utils/data/time.constants.RData</code></li>
<li>outputs: [/modules/uncertainties/data/output.RData]</li>
<li>parameter samples [/modules/uncertainties/data/samples.RData]</li>
</ul>
</div>
</div>
</div>
<div id="packages-used-in-development" class="section level2">
<h2><span class="header-section-number">24.4</span> Packages used in development</h2>
<div id="roxygen2" class="section level4">
<h4><span class="header-section-number">24.4.0.1</span> roxygen2</h4>
<p>Used to document code. See instructions under [[R#Coding_Style|Coding
Style]]</p>
</div>
<div id="devtools" class="section level4">
<h4><span class="header-section-number">24.4.0.2</span> devtools</h4>
<p>Provides functions to simplify development</p>
<p>Documentation:
<a href="https://github.com/hadley/devtools">The R devtools packate</a></p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">load_all</span>(<span class="st">&quot;pkg&quot;</span>)
<span class="kw">document</span>(<span class="st">&quot;pkg&quot;</span>)
<span class="kw">test</span>(<span class="st">&quot;pkg&quot;</span>)
<span class="kw">install</span>(<span class="st">&quot;pkg&quot;</span>)
<span class="kw">build</span>(<span class="st">&quot;pkg&quot;</span>)</code></pre>
<p>other tips for devtools (from the documentation):</p>
<ul>
<li>Adding the following to your <code>~/.Rprofile</code> will load devtools when
running R in interactive mode:</li>
</ul>
<pre class="sourceCode r"><code class="sourceCode r"><span class="co"># load devtools by default</span>
<span class="cf">if</span> (<span class="kw">interactive</span>()) {
  <span class="kw">suppressMessages</span>(<span class="kw">require</span>(devtools))
}</code></pre>
<ul>
<li>Adding the following to your .Rpackages will allow devtools to recognize package by folder name, rather than directory path</li>
</ul>
<pre class="sourceCode r"><code class="sourceCode r"><span class="co"># in this example, devhome is the pecan trunk directory </span>
devhome &lt;-<span class="st"> &quot;/home/dlebauer/R-dev/pecandev/&quot;</span>
<span class="kw">list</span>(
    <span class="dt">default =</span> <span class="cf">function</span>(x) {
      <span class="kw">file.path</span>(devhome, x, x)
    }, 
  <span class="st">&quot;utils&quot;</span> =<span class="st"> </span><span class="kw">paste</span>(devhome, <span class="st">&quot;pecandev/utils&quot;</span>, <span class="dt">sep =</span> <span class="st">&quot;&quot;</span>)
  <span class="st">&quot;common&quot;</span> =<span class="st"> </span><span class="kw">paste</span>(devhome, <span class="st">&quot;pecandev/common&quot;</span>, <span class="dt">sep =</span> <span class="st">&quot;&quot;</span>)
  <span class="st">&quot;all&quot;</span> =<span class="st"> </span><span class="kw">paste</span>(devhome, <span class="st">&quot;pecandev/all&quot;</span>, <span class="dt">sep =</span> <span class="st">&quot;&quot;</span>)
  <span class="st">&quot;ed&quot;</span> =<span class="st"> </span><span class="kw">paste</span>(devhome, <span class="st">&quot;pecandev/models/ed&quot;</span>, <span class="dt">sep =</span> <span class="st">&quot;&quot;</span>)
  <span class="st">&quot;uncertainty&quot;</span> =<span class="st"> </span><span class="kw">paste</span>(devhome, <span class="st">&quot;modules/uncertainty&quot;</span>, <span class="dt">sep =</span> <span class="st">&quot;&quot;</span>)
  <span class="st">&quot;meta.analysis&quot;</span> =<span class="st"> </span><span class="kw">paste</span>(devhome, <span class="st">&quot;modules/meta.analysis&quot;</span>, <span class="dt">sep =</span> <span class="st">&quot;&quot;</span>)
  <span class="st">&quot;db&quot;</span> =<span class="st"> </span><span class="kw">paste</span>(devhome, <span class="st">&quot;db&quot;</span>, <span class="dt">sep =</span> <span class="st">&quot;&quot;</span>)
)</code></pre>
<p>Now, devtools can take <code>pkg</code> as an argument instead of <code>/path/to/pkg/</code>,
e.g. so you can use <code>build(&quot;pkg&quot;)</code> instead of <code>build(&quot;/path/to/pkg/&quot;)</code></p>

</div>
</div>
<div id="roxygen2-1" class="section level2">
<h2><span class="header-section-number">24.5</span> Roxygen2</h2>
<p>This is the standard method of documentation used in PEcAn development, it provides inline documentation similar to doxygen.</p>
<div id="canonical-references" class="section level3">
<h3><span class="header-section-number">24.5.1</span> Canonical references:</h3>
<ul>
<li>Must Read: R package development by Hadley Wickham:</li>
<li><a href="http://r-pkgs.had.co.nz/man.html"><strong>Object Documentation</strong></a><br />
</li>
<li><a href="http://r-pkgs.had.co.nz/description.html">Package Metadata</a></li>
<li>Roxygen2 Documentation</li>
<li><a href="http://cran.r-project.org/web/packages/roxygen2/roxygen2.pdf">Roxygen2 Package Documentation</a></li>
<li><a href="https://github.com/klutometis/roxygen">GitHub</a></li>
</ul>
</div>
<div id="basic-roxygen2-instructions" class="section level3">
<h3><span class="header-section-number">24.5.2</span> Basic Roxygen2 instructions:</h3>
<p>Section headers link to “Writing R extensions” which provides in-depth documentation. This is provided as an overview and quick reference.</p>
<div id="tags-1" class="section level4">
<h4><span class="header-section-number">24.5.2.1</span> <a href="http://cran.r-project.org/doc/manuals/R-exts.html#Documenting-functions">Tags</a></h4>
<ul>
<li>tags are preceeded by <code>##'</code></li>
<li>tags required by R:
** <code>title</code> tag is required, along with actual title
** <code>param</code> one for each parameter, should be defined
** <code>return</code> must state what function returns (or nothing, if something occurs as a side effect</li>
<li>tags strongly suggested for most functions:
** <code>author</code>
** <code>examples</code> can be similar to test cases.</li>
<li>optional tags:
** <code>export</code> required if function is used by another package
** <code>import</code> can import a required function from another package (if package is not loaded or other function is not exported)
** <code>seealso</code> suggests related functions. These can be linked using <code>\code{link{}}</code></li>
</ul>
</div>
<div id="text-markup" class="section level4">
<h4><span class="header-section-number">24.5.2.2</span> Text markup</h4>
<div id="formatting" class="section level5">
<h5><span class="header-section-number">24.5.2.2.1</span> <a href="http://cran.r-project.org/doc/manuals/R-exts.html#Marking-text">Formatting</a></h5>
<ul>
<li><code>\bold{}</code></li>
<li><code>\emph{}</code> italics</li>
</ul>
</div>
<div id="links" class="section level5">
<h5><span class="header-section-number">24.5.2.2.2</span> <a href="http://cran.r-project.org/doc/manuals/R-exts.html#Marking-text">Links</a></h5>
<ul>
<li><code>\url{www.url.com}</code> or <code>\href{url}{text}</code> for links</li>
<li><code>\code{\link{thisfn}}</code> links to function “thisfn” in the same package</li>
<li><code>\code{\link{foo::thatfn}}</code> links to function “thatfn” in package “foo”</li>
<li><code>\pkg{package_name}</code></li>
</ul>
</div>
<div id="math" class="section level5">
<h5><span class="header-section-number">24.5.2.2.3</span> <a href="http://cran.r-project.org/doc/manuals/R-exts.html#Mathematics">Math</a></h5>
<ul>
<li><code>\eqn{a+b=c}</code> uses LaTex to format an inline equation</li>
<li><code>\deqn{a+b=c}</code> uses LaTex to format displayed equation</li>
<li><code>\deqn{latex}{ascii}</code> and <code>\eqn{latex}{ascii}</code> can be used to provide different versions in latex and ascii.</li>
</ul>
</div>
<div id="lists" class="section level5">
<h5><span class="header-section-number">24.5.2.2.4</span> <a href="http://cran.r-project.org/doc/manuals/R-exts.html#Lists-and-tables">Lists</a></h5>
<pre><code>\enumerate{
\item A database consists of one or more records, each with one or
more named fields.
\item Regular lines start with a non-whitespace character.
\item Records are separated by one or more empty lines.
}
\itemize and \enumerate commands may be nested.</code></pre>
</div>
<div id="tableshttpcran.r-project.orgdocmanualsr-exts.htmllists-and-tables" class="section level5">
<h5><span class="header-section-number">24.5.2.2.5</span> “Tables”:<a href="http://cran.r-project.org/doc/manuals/R-exts.html#Lists-and-tables" class="uri">http://cran.r-project.org/doc/manuals/R-exts.html#Lists-and-tables</a></h5>
<pre><code>\tabular{rlll}{
[,1] \tab Ozone \tab numeric \tab Ozone (ppb)\cr
[,2] \tab Solar.R \tab numeric \tab Solar R (lang)\cr
[,3] \tab Wind \tab numeric \tab Wind (mph)\cr
[,4] \tab Temp \tab numeric \tab Temperature (degrees F)\cr
[,5] \tab Month \tab numeric \tab Month (1--12)\cr
[,6] \tab Day \tab numeric \tab Day of month (1--31)
}</code></pre>
</div>
</div>
</div>
<div id="example-1" class="section level3">
<h3><span class="header-section-number">24.5.3</span> Example</h3>
<p>Here is an example documented function, myfun</p>
<pre><code>##&#39; My function adds three numbers
##&#39;
##&#39; A great function for demonstrating Roxygen documentation
##&#39; @param a numeric
##&#39; @param b numeric
##&#39; @param c numeric
##&#39; @return d, numeric sum of a + b + c
##&#39; @export
##&#39; @author David LeBauer
##&#39; @examples
##&#39; myfun(1,2,3)
##&#39; \dontrun{myfun(NULL)}
myfun &lt;- function(a, b, c){
  d &lt;- a + b + c
  return(d)
}</code></pre>
<p>In emacs, with the cursor inside the function, the keybinding C-x O will generate an outline or update the Roxygen2 documentation.</p>
</div>
<div id="updating-documentation" class="section level3">
<h3><span class="header-section-number">24.5.4</span> Updating documentation</h3>
<ul>
<li>After adding documentation run the following command (replacing common with the name of the folder you want to update):
** In R using devtools to call roxygenize:</li>
</ul>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">require</span>(devtools)
<span class="kw">document</span>(<span class="st">&quot;common&quot;</span>)</code></pre>

</div>
</div>
<div id="testing" class="section level2">
<h2><span class="header-section-number">24.6</span> Testing</h2>
<p>PEcAn uses the testthat package developed by Hadley Wickham. Hadley has
written instructions for using this package in his
<a href="http://adv-r.had.co.nz/Testing.html">Testing</a> chapter.</p>
<div id="rationale" class="section level3">
<h3><span class="header-section-number">24.6.1</span> Rationale</h3>
<ul>
<li>makes development easier</li>
<li>provides working documentation of expected functionality</li>
<li>saves time by allowing computer to take over error checking once a
test has been made</li>
<li>improves code quality</li>
<li>Further reading: <a href="http://arxiv.org/pdf/1210.0530v3.pdf">Aruliah et al 2012 Best Practices for Scientific
Computing</a></li>
</ul>
</div>
<div id="tests-makes-development-easier-and-less-error-prone" class="section level3">
<h3><span class="header-section-number">24.6.2</span> Tests makes development easier and less error prone</h3>
<p>Testing makes it easier to develop by organizing everything you are
already doing anyway - but integrating it into the testing and
documentation. With a codebase like PEcAn, it is often difficult to get
started. You have to figure out</p>
<ul>
<li>what was I doing yesterday?</li>
<li>what do I want to do today?</li>
<li>what existing functions do I need to edit?</li>
<li>what are the arguments to these functions (and what are examples of
valid arguments)</li>
<li>what packages are affected</li>
<li>where is a logical place to put files used in testing</li>
</ul>
</div>
<div id="quick-start" class="section level3">
<h3><span class="header-section-number">24.6.3</span> Quick Start:</h3>
<ul>
<li>decide what you want to do today</li>
<li>identify the issue in github (if none exists, create one)</li>
<li><p>to work on issue 99, create a new branch called “github99” or some descriptive name… Today we will enable an
existing function, <code>make.cheas</code> to make <code>goat.cheddar</code>. We will know
that we are done by the color and taste.</p>
<pre><code>git branch goat-cheddar
git checkout goat-cheddar</code></pre></li>
<li>open existing (or create new) file in <code>inst/tests/</code>. If working on code in “myfunction” or a set of functions in “R/myfile.R”, the file should be named accordingly, e.g. “inst/tests/test.myfile.R”</li>
<li>if you are lucky, the function has already been tested and has some examples.</li>
<li><p>if not, you may need to create a minimal example, often requiring a settings file. The default settings file can be obtained in this way:</p>
<pre class="sourceCode r"><code class="sourceCode r">settings &lt;-<span class="st"> </span><span class="kw">read.settings</span>(<span class="kw">system.file</span>(<span class="st">&quot;extdata/test.settings.xml&quot;</span>, <span class="dt">package =</span> <span class="st">&quot;PEcAn.utils&quot;</span>))</code></pre></li>
<li><p>write what you want to do</p>
<pre><code>test_that(&quot;make.cheas can make cheese&quot;,{
  goat.cheddar &lt;- make.cheas(source = &#39;goat&#39;, style = &#39;cheddar&#39;)
  expect_equal(color(goat.cheddar), &quot;orange&quot;)
  expect_is(object = goat.cheddar, class = &quot;cheese&quot;)
  expect_true(all(c(&quot;sharp&quot;, &quot;creamy&quot;) %in% taste(goat.cheddar)))
}</code></pre></li>
<li>now edit the goat.cheddar function until it makes savory, creamy, orange cheese.</li>
<li>commit often</li>
<li><p>update documentation and test</p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">library</span>(devtools)
<span class="kw">document</span>(<span class="st">&quot;mypkg&quot;</span>)
<span class="kw">test</span>(<span class="st">&quot;mypkg&quot;</span>)</code></pre></li>
<li>commit again</li>
<li><p>when complete, merge, and push</p>
<pre class="sourceCode bash"><code class="sourceCode bash"><span class="fu">git</span> commit -m <span class="st">&quot;make.cheas makes goat.cheddar now&quot;</span>
<span class="fu">git</span> checkout master
<span class="fu">git</span> merge goat-cheddar
<span class="fu">git</span> push</code></pre></li>
</ul>
</div>
<div id="test-files" class="section level3">
<h3><span class="header-section-number">24.6.4</span> Test files</h3>
<p>Many of PEcAn’s functions require inputs that are provided as data.
These can be in the <code>/data</code> or the <code>/inst/extdata</code> folders of a package.
Data that are not package specific should be placed in the PEcAn.all or
PEcAn.utils files.</p>
<p>Some useful conventions:</p>
<div id="settings" class="section level4">
<h4><span class="header-section-number">24.6.4.1</span> Settings</h4>
<ul>
<li>A generic settings can be found in the PEcAn.all package</li>
</ul>
<pre class="sourceCode r"><code class="sourceCode r">settings.xml &lt;-<span class="st"> </span><span class="kw">system.file</span>(<span class="st">&quot;pecan.biocro.xml&quot;</span>, <span class="dt">package =</span> <span class="st">&quot;PEcAn.BIOCRO&quot;</span>)
settings &lt;-<span class="st"> </span><span class="kw">read.settings</span>(settings.xml)</code></pre>
<ul>
<li>database settings can be specified, and tests run only if a connection is available</li>
</ul>
<p>We currently use the following database to run tests against; tests that require access to a database should check <code>db.exists()</code> and be skipped if it returns FALSE to avoid failed tests on systems that do not have the database installed.</p>
<pre class="sourceCode r"><code class="sourceCode r">settings<span class="op">$</span>database &lt;-<span class="st"> </span><span class="kw">list</span>(<span class="dt">userid =</span> <span class="st">&quot;bety&quot;</span>, 
                          <span class="dt">passwd =</span> <span class="st">&quot;bety&quot;</span>, 
                          <span class="dt">name =</span> <span class="st">&quot;bety&quot;</span>,     <span class="co"># database name </span>
                          <span class="dt">host =</span> <span class="st">&quot;localhost&quot;</span> <span class="co"># server name)</span>
<span class="kw">test_that</span>(..., {
  <span class="kw">skip_if_not</span>(<span class="kw">db.exists</span>(settings<span class="op">$</span>database))
  ## write tests here
})</code></pre>
<ul>
<li>instructions for installing this are available on the <a href="VM-Creation.md">VM creation
wiki</a></li>
<li><p>examples can be found in the PEcAn.DB package (<code>base/db/tests/testthat/</code>).</p></li>
<li><p>Model specific settings can go in the model-specific module, for
example:</p></li>
</ul>
<pre class="sourceCode r"><code class="sourceCode r">settings.xml &lt;-<span class="st"> </span><span class="kw">system.file</span>(<span class="st">&quot;extdata/pecan.biocro.xml&quot;</span>, <span class="dt">package =</span> <span class="st">&quot;PEcAn.BIOCRO&quot;</span>)
settings &lt;-<span class="st"> </span><span class="kw">read.settings</span>(settings.xml)</code></pre>
<ul>
<li>test-specific settings:
<ul>
<li><p>settings text can be specified inline:</p>
<pre><code>settings.text &lt;- &quot;
  &lt;pecan&gt;
    &lt;nocheck&gt;nope&lt;/nocheck&gt; ## allows bypass of checks in the read.settings functions
    &lt;pfts&gt;
      &lt;pft&gt;
        &lt;name&gt;ebifarm.pavi&lt;/name&gt;
        &lt;outdir&gt;test/&lt;/outdir&gt;
      &lt;/pft&gt;
    &lt;/pfts&gt;
    &lt;outdir&gt;test/&lt;/outdir&gt;
    &lt;database&gt;
      &lt;userid&gt;bety&lt;/userid&gt;
      &lt;passwd&gt;bety&lt;/passwd&gt;
      &lt;location&gt;localhost&lt;/location&gt;
      &lt;name&gt;bety&lt;/name&gt;
    &lt;/database&gt;
  &lt;/pecan&gt;&quot;
settings &lt;- read.settings(settings.text)</code></pre></li>
<li><p>values in settings can be updated:</p>
<pre class="sourceCode r"><code class="sourceCode r">settings &lt;-<span class="st"> </span><span class="kw">read.settings</span>(settings.text)
settings<span class="op">$</span>outdir &lt;-<span class="st"> &quot;/tmp&quot;</span> ## or any other settings</code></pre></li>
</ul></li>
</ul>
</div>
<div id="helper-functions-created-to-make-testing-easier" class="section level4">
<h4><span class="header-section-number">24.6.4.2</span> Helper functions created to make testing easier</h4>
<ul>
<li><strong>tryl</strong> returns FALSE if function gives error</li>
<li><strong>temp.settings</strong> creates temporary settings file</li>
<li><strong>test.remote</strong> returns TRUE if remote connection is available</li>
<li><strong>db.exists</strong> returns TRUE if connection to database is available</li>
</ul>
</div>
<div id="when-should-i-test" class="section level4">
<h4><span class="header-section-number">24.6.4.3</span> When should I test?</h4>
<p>A test <em>should</em> be written for each of the following situations:</p>
<ol style="list-style-type: decimal">
<li>Each bug should get a regression test.</li>
</ol>
<ul>
<li>The first step in handling a bug is to write code that reproduces the error</li>
<li>This code becomes the test</li>
<li>most important when error could re-appear</li>
<li>essential when error silently produces invalid results</li>
</ul>
<ol start="2" style="list-style-type: decimal">
<li>Every time a (non-trivial) function is created or edited</li>
</ol>
<ul>
<li>Write tests that indicate how the function should perform
<ul>
<li>example: <code>expect_equal(sum(1,1), 2)</code> indicates that the sum
function should take the sum of its arguments</li>
</ul></li>
<li>Write tests for cases under which the function should throw an
error</li>
<li>example: <code>expect_error(sum(&quot;foo&quot;))</code></li>
<li>better : <code>expect_error(sum(&quot;foo&quot;), &quot;invalid 'type' (character)&quot;)</code></li>
</ul>
</div>
<div id="what-types-of-testing-are-important-to-understand" class="section level4">
<h4><span class="header-section-number">24.6.4.4</span> What types of testing are important to understand?</h4>
</div>
<div id="unit-testing-test-driven-development" class="section level4">
<h4><span class="header-section-number">24.6.4.5</span> Unit Testing / Test Driven Development</h4>
<p>Tests are only as good as the test</p>
<ol style="list-style-type: decimal">
<li>write test</li>
<li>write code</li>
</ol>
</div>
<div id="regression-testing" class="section level4">
<h4><span class="header-section-number">24.6.4.6</span> Regression Testing</h4>
<p>When a bug is found,</p>
<ol style="list-style-type: decimal">
<li>write a test that finds the bug (the minimum test required to make
the test fail)</li>
<li>fix the bug</li>
<li>bug is fixed when test passes</li>
</ol>
</div>
<div id="how-should-i-test-in-r-the-testthat-package." class="section level4">
<h4><span class="header-section-number">24.6.4.7</span> How should I test in R? The testthat package.</h4>
<p>tests are found in <code>~/pecan/&lt;packagename&gt;/inst/tests</code>, for example
<code>utils/inst/tests/</code></p>
<p>See attached file and
<a href="http://r-pkgs.had.co.nz/tests.html" class="uri">http://r-pkgs.had.co.nz/tests.html</a>
for details on how to use the testthat package.</p>
<div id="list-of-expectations" class="section level5">
<h5><span class="header-section-number">24.6.4.7.1</span> List of Expectations</h5>
<table>
<thead>
<tr class="header">
<th>Full</th>
<th>Abbreviation</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>expect_that(x, is_true())</td>
<td>expect_true(x)</td>
</tr>
<tr class="even">
<td>expect_that(x, is_false())</td>
<td>expect_false(x)</td>
</tr>
<tr class="odd">
<td>expect_that(x, is_a(y))</td>
<td>expect_is(x, y)</td>
</tr>
<tr class="even">
<td>expect_that(x, equals(y))</td>
<td>expect_equal(x, y)</td>
</tr>
<tr class="odd">
<td>expect_that(x, is_equivalent_to(y))</td>
<td>expect_equivalent(x, y)</td>
</tr>
<tr class="even">
<td>expect_that(x, is_identical_to(y))</td>
<td>expect_identical(x, y)</td>
</tr>
<tr class="odd">
<td>expect_that(x, matches(y))</td>
<td>expect_matches(x, y)</td>
</tr>
<tr class="even">
<td>expect_that(x, prints_text(y))</td>
<td>expect_output(x, y)</td>
</tr>
<tr class="odd">
<td>expect_that(x, shows_message(y))</td>
<td>expect_message(x, y)</td>
</tr>
<tr class="even">
<td>expect_that(x, gives_warning(y))</td>
<td>expect_warning(x, y)</td>
</tr>
<tr class="odd">
<td>expect_that(x, throws_error(y))</td>
<td>expect_error(x, y)</td>
</tr>
</tbody>
</table>
</div>
<div id="how-to-run-tests" class="section level5">
<h5><span class="header-section-number">24.6.4.7.2</span> How to run tests</h5>
<p>add the following to “pecan/tests/testthat.R”</p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">library</span>(testthat)
<span class="kw">library</span>(mypackage)

<span class="kw">test_check</span>(<span class="st">&quot;mypackage&quot;</span>)</code></pre>
</div>
</div>
<div id="basic-use-of-the-testthat-package" class="section level4">
<h4><span class="header-section-number">24.6.4.8</span> basic use of the testthat package</h4>
<p>Here is an example of tests (these should be placed in
<code>&lt;packagename&gt;/tests/testthat/test-&lt;sourcefilename&gt;.R</code>:</p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">test_that</span>(<span class="st">&quot;mathematical operators plus and minus work as expected&quot;</span>,{
  <span class="kw">expect_equal</span>(<span class="kw">sum</span>(<span class="dv">1</span>,<span class="dv">1</span>), <span class="dv">2</span>)
  <span class="kw">expect_equal</span>(<span class="kw">sum</span>(<span class="op">-</span><span class="dv">1</span>,<span class="op">-</span><span class="dv">1</span>), <span class="dv">-2</span>)
  <span class="kw">expect_equal</span>(<span class="kw">sum</span>(<span class="dv">1</span>,<span class="ot">NA</span>), <span class="ot">NA</span>)
  <span class="kw">expect_error</span>(<span class="kw">sum</span>(<span class="st">&quot;cat&quot;</span>))
  <span class="kw">set.seed</span>(<span class="dv">0</span>)
  <span class="kw">expect_equal</span>(<span class="kw">sum</span>(<span class="kw">matrix</span>(<span class="dv">1</span><span class="op">:</span><span class="dv">100</span>)), <span class="kw">sum</span>(<span class="kw">data.frame</span>(<span class="dv">1</span><span class="op">:</span><span class="dv">100</span>)))
})

<span class="kw">test_that</span>(<span class="st">&quot;different testing functions work, giving excuse to demonstrate&quot;</span>,{
  <span class="kw">expect_identical</span>(<span class="dv">1</span>, <span class="dv">1</span>)
  <span class="kw">expect_identical</span>(<span class="kw">numeric</span>(<span class="dv">1</span>), <span class="kw">integer</span>(<span class="dv">1</span>))
  <span class="kw">expect_equivalent</span>(<span class="kw">numeric</span>(<span class="dv">1</span>), <span class="kw">integer</span>(<span class="dv">1</span>))
  <span class="kw">expect_warning</span>(<span class="kw">mean</span>(<span class="st">&#39;1&#39;</span>))
  <span class="kw">expect_that</span>(<span class="kw">mean</span>(<span class="st">&#39;1&#39;</span>), <span class="kw">gives_warning</span>(<span class="st">&quot;argument is not numeric or logical: returning NA&quot;</span>))
  <span class="kw">expect_warning</span>(<span class="kw">mean</span>(<span class="st">&#39;1&#39;</span>), <span class="st">&quot;argument is not numeric or logical: returning NA&quot;</span>)
  <span class="kw">expect_message</span>(<span class="kw">message</span>(<span class="st">&quot;a&quot;</span>), <span class="st">&quot;a&quot;</span>)
})</code></pre>
<div id="script-testing" class="section level5">
<h5><span class="header-section-number">24.6.4.8.1</span> Script testing</h5>
<p>It is useful to add tests to a script during development. This allows
you to test that the code is doing what you expect it to do.</p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="op">*</span><span class="st"> </span>here is a fake script using the iris data set

<span class="kw">test_that</span>(<span class="st">&quot;the iris data set has the same basic features as before&quot;</span>,{
  <span class="kw">expect_equal</span>(<span class="kw">dim</span>(iris), <span class="kw">c</span>(<span class="dv">150</span>,<span class="dv">5</span>))
  <span class="kw">expect_that</span>(iris<span class="op">$</span>Sepal.Length, <span class="kw">is_a</span>(<span class="st">&quot;numeric&quot;</span>))
  <span class="kw">expect_is</span>(iris<span class="op">$</span>Sepal.Length, <span class="st">&quot;numeric&quot;</span>)<span class="co">#equivalent to prev. line</span>
  <span class="kw">expect_is</span>(iris<span class="op">$</span>Species, <span class="st">&quot;factor&quot;</span>)
})

iris.color &lt;-<span class="st"> </span><span class="kw">data.frame</span>(<span class="dt">Species =</span> <span class="kw">c</span>(<span class="st">&quot;setosa&quot;</span>, <span class="st">&quot;versicolor&quot;</span>, <span class="st">&quot;virginica&quot;</span>),
                         <span class="dt">color =</span> <span class="kw">c</span>(<span class="st">&quot;pink&quot;</span>, <span class="st">&quot;blue&quot;</span>, <span class="st">&quot;orange&quot;</span>))

newiris &lt;-<span class="st"> </span><span class="kw">merge</span>(iris, iris.color)
iris.model &lt;-<span class="st"> </span><span class="kw">lm</span>(Petal.Length <span class="op">~</span><span class="st"> </span>color, <span class="dt">data =</span> newiris)

<span class="kw">test_that</span>(<span class="st">&quot;changes to Iris code occurred as expected&quot;</span>,{
  <span class="kw">expect_that</span>(<span class="kw">dim</span>(newiris), <span class="kw">equals</span>(<span class="kw">c</span>(<span class="dv">150</span>, <span class="dv">6</span>)))
  <span class="kw">expect_that</span>(<span class="kw">unique</span>(newiris<span class="op">$</span>color),
              <span class="kw">is_identical_to</span>(<span class="kw">unique</span>(iris.color<span class="op">$</span>color)))
  <span class="kw">expect_equivalent</span>(iris.model<span class="op">$</span>coefficients[<span class="st">&quot;(Intercept)&quot;</span>], <span class="fl">4.26</span>)
})</code></pre>
</div>
<div id="function-testing" class="section level5">
<h5><span class="header-section-number">24.6.4.8.2</span> Function testing</h5>
<p>Testing of a new function, <code>as.sequence</code>. The function and documentation
are in source:R/utils.R and the tests are in source:tests/test.utils.R.</p>
<p>Recently, I made the function <code>as.sequence</code> to turn any vector into a
sequence, with custom handling of NA’s:</p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="cf">function</span>(x, <span class="dt">na.rm =</span> <span class="ot">TRUE</span>){
  x2 &lt;-<span class="st"> </span><span class="kw">as.integer</span>(<span class="kw">factor</span>(x, <span class="kw">unique</span>(x)))
  <span class="cf">if</span>(<span class="kw">all</span>(<span class="kw">is.na</span>(x2))){
    x2 &lt;-<span class="st"> </span><span class="kw">rep</span>(<span class="dv">1</span>, <span class="kw">length</span>(x2))
  }
  <span class="cf">if</span>(na.rm <span class="op">==</span><span class="st"> </span><span class="ot">TRUE</span>){
    x2[<span class="kw">is.na</span>(x2)] &lt;-<span class="st"> </span><span class="kw">max</span>(x2, <span class="dt">na.rm =</span> <span class="ot">TRUE</span>) <span class="op">+</span><span class="st"> </span><span class="dv">1</span>
  }
  <span class="kw">return</span>(x2)
}</code></pre>
<p>The next step was to add documentation and test. Many people find it
more efficient to write tests before writing the function. This is true,
but it also requires more discipline. I wrote these tests to handle the
variety of cases that I had observed.</p>
<p>As currently used, the function is exposed to a fairly restricted set of
options - results of downloads from the database and transformations.</p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">test_that</span>(“as.sequence works”;{
 <span class="kw">expect_identical</span>(<span class="kw">as.sequence</span>(<span class="kw">c</span>(“a”, “b”)), <span class="dv">1</span><span class="op">:</span><span class="dv">2</span>)
 <span class="kw">expect_identical</span>(<span class="kw">as.sequence</span>(<span class="kw">c</span>(“a”, <span class="ot">NA</span>)), <span class="dv">1</span><span class="op">:</span><span class="dv">2</span>)
 <span class="kw">expect_equal</span>(<span class="kw">as.sequence</span>(<span class="kw">c</span>(“a”, <span class="ot">NA</span>), <span class="dt">na.rm =</span> <span class="ot">FALSE</span>), <span class="kw">c</span>(<span class="dv">1</span>,<span class="ot">NA</span>))
 <span class="kw">expect_equal</span>(<span class="kw">as.sequence</span>(<span class="kw">c</span>(<span class="ot">NA</span>,<span class="ot">NA</span>)), <span class="kw">c</span>(<span class="dv">1</span>,<span class="dv">1</span>))
})</code></pre>
</div>
</div>
</div>
<div id="testing-the-shiny-server" class="section level3">
<h3><span class="header-section-number">24.6.5</span> Testing the Shiny Server</h3>
<p>Shiny can be difficult to debug because, when run as a web service, the R output is hidden in system log files that are hard to find and read.
One useful approach to debugging is to use port forwarding, as follows.</p>
<p>First, on the remote machine (including the VM), make sure R’s working directory is set to the directory of the Shiny app (e.g., <code>setwd(/path/to/pecan/shiny/WorkflowPlots)</code>, or just open the app as an RStudio project).
Then, in the R console, run the app as:</p>
<pre><code>shiny::runApp(port = XXXX)
# E.g. shiny::runApp(port = 5638)</code></pre>
<p>Then, on your local machine, open a terminal and run the following command, matching <code>XXXX</code> to the port above and <code>YYYY</code> to any unused port on your local machine (any 4-digit number should work).</p>
<pre><code>ssh -L YYYY:localhost:XXXX &lt;remote connection&gt;
# E.g., for the PEcAn VM, given the above port:
# ssh -L 5639:localhost:5638 carya@localhost -p 6422</code></pre>
<p>Now, in a web browser on your local machine, browse to <code>localhost:YYYY</code> (e.g., <code>localhost:5639</code>) to run whatever app you started with <code>shiny::runApp</code> in the previous step.
All of the output should display in the R console where the <code>shiny::runApp</code> command was executed.
Note that this includes any <code>print</code>, <code>message</code>, <code>logger.*</code>, etc. statements in your Shiny app.</p>
<p>If the Shiny app hits an R error, the backtrace should include a line like <code>Hit error at of server.R#LXX</code> – that <code>XX</code> being a line number that you can use to track down the error.
To return from the error to a normal R prompt, hit <code>&lt;Control&gt;-C</code> (alternatively, the “Stop” button in RStudio).
To restart the app, run <code>shiny::runApp(port = XXXX)</code> again (keeping the same port).</p>
<p>Note that Shiny runs any code in the <code>pecan/shiny/&lt;app&gt;</code> directory at the moment the app is launched.
So, any changes you make to the code in <code>server.R</code> and <code>ui.R</code> or scripts loaded therein will take effect the next time the app is started.</p>
<p>If for whatever reason this doesn’t work with RStudio, you can always run R from the command line.
Also, note that the ability to forward ports (<code>ssh -L</code>) may depend on the <code>ssh</code> configuration of your remote machine.
These instructions have been tested on the PEcAn VM (v.1.5.2+).</p>

</div>
</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="git-and-github-workflow.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="directory-structure.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"google": false,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"all": ["facebook", "google", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/PecanProject/pecan/edit/master/book_source/05_developer_guide/04_coding_practices/00_coding_practices.Rmd",
"text": "Edit"
},
"history": {
"link": null,
"text": null
},
"download": null,
"toc": {
"collapse": "section"
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:" && /^https?:/.test(src))
      src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
