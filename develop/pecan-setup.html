<!DOCTYPE html>
<html >

<head>

  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <title>21 PEcAn Setup | The Predictive Ecosystem Analyzer</title>
  <meta name="description" content="21 PEcAn Setup | The Predictive Ecosystem Analyzer">
  <meta name="generator" content="bookdown  and GitBook 2.6.7">

  <meta property="og:title" content="21 PEcAn Setup | The Predictive Ecosystem Analyzer" />
  <meta property="og:type" content="book" />
  
  
  
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="21 PEcAn Setup | The Predictive Ecosystem Analyzer" />
  
  
  

<meta name="author" content="By: PEcAn Team">


<meta name="date" content="2019-02-06">

  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black">
  
  
<link rel="prev" href="introduction-developer-guide.html">
<link rel="next" href="maintaining-pecan.html">
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />







<script src="libs/htmlwidgets-1.3/htmlwidgets.js"></script>
<link href="libs/datatables-css-0.0.0/datatables-crosstalk.css" rel="stylesheet" />
<script src="libs/datatables-binding-0.5/datatables.js"></script>
<link href="libs/dt-core-1.10.16/css/jquery.dataTables.min.css" rel="stylesheet" />
<link href="libs/dt-core-1.10.16/css/jquery.dataTables.extra.css" rel="stylesheet" />
<script src="libs/dt-core-1.10.16/js/jquery.dataTables.min.js"></script>
<link href="libs/dt-ext-fixedcolumns-1.10.16/css/fixedColumns.dataTables.min.css" rel="stylesheet" />
<script src="libs/dt-ext-fixedcolumns-1.10.16/js/dataTables.fixedColumns.min.js"></script>
<link href="libs/crosstalk-1.0.0/css/crosstalk.css" rel="stylesheet" />
<script src="libs/crosstalk-1.0.0/js/crosstalk.min.js"></script>
<script src="libs/jszip-1.10.16/jszip.min.js"></script>
<script src="libs/pdfmake-1.10.16/pdfmake.min.js"></script>
<script src="libs/pdfmake-1.10.16/vfs_fonts.js"></script>
<link href="libs/dt-ext-buttons-1.10.16/css/buttons.dataTables.min.css" rel="stylesheet" />
<script src="libs/dt-ext-buttons-1.10.16/js/dataTables.buttons.min.js"></script>
<script src="libs/dt-ext-buttons-1.10.16/js/buttons.flash.min.js"></script>
<script src="libs/dt-ext-buttons-1.10.16/js/buttons.html5.min.js"></script>
<script src="libs/dt-ext-buttons-1.10.16/js/buttons.colVis.min.js"></script>
<script src="libs/dt-ext-buttons-1.10.16/js/buttons.print.min.js"></script>


<style type="text/css">
a.sourceLine { display: inline-block; line-height: 1.25; }
a.sourceLine { pointer-events: none; color: inherit; text-decoration: inherit; }
a.sourceLine:empty { height: 1.2em; position: absolute; }
.sourceCode { overflow: visible; }
code.sourceCode { white-space: pre; position: relative; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
code.sourceCode { white-space: pre-wrap; }
a.sourceLine { text-indent: -1em; padding-left: 1em; }
}
pre.numberSource a.sourceLine
  { position: relative; }
pre.numberSource a.sourceLine:empty
  { position: absolute; }
pre.numberSource a.sourceLine::before
  { content: attr(data-line-number);
    position: absolute; left: -5em; text-align: right; vertical-align: baseline;
    border: none; pointer-events: all;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {  }
@media screen {
a.sourceLine::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>Welcome</a></li>
<li class="part"><span><b>I Introduction</b></span></li>
<li class="chapter" data-level="1" data-path="project-overview.html"><a href="project-overview.html"><i class="fa fa-check"></i><b>1</b> Project Overview</a></li>
<li class="chapter" data-level="2" data-path="contributor-covenant-code-of-conduct.html"><a href="contributor-covenant-code-of-conduct.html"><i class="fa fa-check"></i><b>2</b> Contributor Covenant Code of Conduct</a></li>
<li class="chapter" data-level="3" data-path="about-the-pecan-book.html"><a href="about-the-pecan-book.html"><i class="fa fa-check"></i><b>3</b> About the PEcAn Book</a><ul>
<li class="chapter" data-level="3.1" data-path="about-the-pecan-book.html"><a href="about-the-pecan-book.html#how-to-contribute"><i class="fa fa-check"></i><b>3.1</b> How to Contribute</a><ul>
<li class="chapter" data-level="3.1.1" data-path="about-the-pecan-book.html"><a href="about-the-pecan-book.html#editing-the-book-yourself"><i class="fa fa-check"></i><b>3.1.1</b> Editing the book yourself</a></li>
<li class="chapter" data-level="3.1.2" data-path="about-the-pecan-book.html"><a href="about-the-pecan-book.html#feedbackcommentssuggestions"><i class="fa fa-check"></i><b>3.1.2</b> Feedback/Comments/Suggestions</a></li>
</ul></li>
</ul></li>
<li class="part"><span><b>II Basic User Guide</b></span></li>
<li class="chapter" data-level="4" data-path="GettingStarted.html"><a href="GettingStarted.html"><i class="fa fa-check"></i><b>4</b> Getting Started</a><ul>
<li class="chapter" data-level="4.1" data-path="GettingStarted.html"><a href="GettingStarted.html#how-pecan-works-in-a-nutshell"><i class="fa fa-check"></i><b>4.1</b> How PEcAn Works in a nutshell</a></li>
<li class="chapter" data-level="4.2" data-path="GettingStarted.html"><a href="GettingStarted.html#installing-and-running-pecan"><i class="fa fa-check"></i><b>4.2</b> Installing and running PEcAn</a><ul>
<li class="chapter" data-level="4.2.1" data-path="GettingStarted.html"><a href="GettingStarted.html#basicvm"><i class="fa fa-check"></i><b>4.2.1</b> Using the Virtual Machine</a></li>
<li class="chapter" data-level="4.2.2" data-path="GettingStarted.html"><a href="GettingStarted.html#awsvm"><i class="fa fa-check"></i><b>4.2.2</b> Using Amazon Web Services (AWS)</a></li>
<li class="chapter" data-level="4.2.3" data-path="GettingStarted.html"><a href="GettingStarted.html#dockervm"><i class="fa fa-check"></i><b>4.2.3</b> (Experimental) Using Docker</a></li>
<li class="chapter" data-level="4.2.4" data-path="GettingStarted.html"><a href="GettingStarted.html#advanced-installing-by-hand"><i class="fa fa-check"></i><b>4.2.4</b> (Advanced) Installing by hand</a></li>
</ul></li>
<li class="chapter" data-level="4.3" data-path="GettingStarted.html"><a href="GettingStarted.html#pecan-demos"><i class="fa fa-check"></i><b>4.3</b> PEcAn Demos</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="web-workflow.html"><a href="web-workflow.html"><i class="fa fa-check"></i><b>5</b> Web workflow</a><ul>
<li class="chapter" data-level="5.1" data-path="web-workflow.html"><a href="web-workflow.html#web-site-model"><i class="fa fa-check"></i><b>5.1</b> Site and model selection</a><ul>
<li class="chapter" data-level="5.1.1" data-path="web-workflow.html"><a href="web-workflow.html#selecting-a-model"><i class="fa fa-check"></i><b>5.1.1</b> Selecting a model</a></li>
<li class="chapter" data-level="5.1.2" data-path="web-workflow.html"><a href="web-workflow.html#selecting-a-site"><i class="fa fa-check"></i><b>5.1.2</b> Selecting a site</a></li>
</ul></li>
<li class="chapter" data-level="5.2" data-path="web-workflow.html"><a href="web-workflow.html#web-model-config"><i class="fa fa-check"></i><b>5.2</b> Model configuration</a><ul>
<li class="chapter" data-level="5.2.1" data-path="web-workflow.html"><a href="web-workflow.html#choosing-meteorology"><i class="fa fa-check"></i><b>5.2.1</b> Choosing meteorology</a></li>
<li class="chapter" data-level="5.2.2" data-path="web-workflow.html"><a href="web-workflow.html#selecting-plant-functional-types-pfts-and-other-parameter-groupings."><i class="fa fa-check"></i><b>5.2.2</b> Selecting Plant Functional Types (PFTs) and other parameter groupings.</a></li>
<li class="chapter" data-level="5.2.3" data-path="web-workflow.html"><a href="web-workflow.html#choosing-initial-vegetation"><i class="fa fa-check"></i><b>5.2.3</b> Choosing initial vegetation</a></li>
<li class="chapter" data-level="5.2.4" data-path="web-workflow.html"><a href="web-workflow.html#spin-up"><i class="fa fa-check"></i><b>5.2.4</b> Spin up</a></li>
<li class="chapter" data-level="5.2.5" data-path="web-workflow.html"><a href="web-workflow.html#selecting-a-soils-product"><i class="fa fa-check"></i><b>5.2.5</b> Selecting a soils product</a></li>
<li class="chapter" data-level="5.2.6" data-path="web-workflow.html"><a href="web-workflow.html#other-model-inputs"><i class="fa fa-check"></i><b>5.2.6</b> Other model inputs</a></li>
</ul></li>
</ul></li>
<li class="part"><span><b>III Intermediate user guide</b></span></li>
<li class="chapter" data-level="6" data-path="introduction.html"><a href="introduction.html"><i class="fa fa-check"></i><b>6</b> Introduction</a></li>
<li class="chapter" data-level="7" data-path="pecanXML.html"><a href="pecanXML.html"><i class="fa fa-check"></i><b>7</b> The PEcAn XML</a><ul>
<li class="chapter" data-level="7.1" data-path="pecanXML.html"><a href="pecanXML.html#xml-core-config"><i class="fa fa-check"></i><b>7.1</b> Core configuration</a><ul>
<li class="chapter" data-level="7.1.1" data-path="pecanXML.html"><a href="pecanXML.html#xml-structure"><i class="fa fa-check"></i><b>7.1.1</b> Top-level structure</a></li>
<li class="chapter" data-level="7.1.2" data-path="pecanXML.html"><a href="pecanXML.html#xml-info"><i class="fa fa-check"></i><b>7.1.2</b> <code>info</code>: Run metadata</a></li>
<li class="chapter" data-level="7.1.3" data-path="pecanXML.html"><a href="pecanXML.html#xml-outdir"><i class="fa fa-check"></i><b>7.1.3</b> <code>outdir</code>: Output directory</a></li>
<li class="chapter" data-level="7.1.4" data-path="pecanXML.html"><a href="pecanXML.html#xml-database"><i class="fa fa-check"></i><b>7.1.4</b> <code>database</code>: PEcAn database settings</a></li>
<li class="chapter" data-level="7.1.5" data-path="pecanXML.html"><a href="pecanXML.html#xml-pft"><i class="fa fa-check"></i><b>7.1.5</b> <code>pft</code>: Plant functional type selection</a></li>
<li class="chapter" data-level="7.1.6" data-path="pecanXML.html"><a href="pecanXML.html#xml-meta-analysis"><i class="fa fa-check"></i><b>7.1.6</b> <code>meta.analysis</code>: Trait Meta Analysis</a></li>
<li class="chapter" data-level="7.1.7" data-path="pecanXML.html"><a href="pecanXML.html#xml-model"><i class="fa fa-check"></i><b>7.1.7</b> <code>model</code>: Model configuration</a></li>
<li class="chapter" data-level="7.1.8" data-path="pecanXML.html"><a href="pecanXML.html#xml-run"><i class="fa fa-check"></i><b>7.1.8</b> <code>run</code>: Run Setup</a></li>
<li class="chapter" data-level="7.1.9" data-path="pecanXML.html"><a href="pecanXML.html#xml-host"><i class="fa fa-check"></i><b>7.1.9</b> <code>host</code>: Host information for remote execution</a></li>
</ul></li>
<li class="chapter" data-level="7.2" data-path="pecanXML.html"><a href="pecanXML.html#xml-advanced"><i class="fa fa-check"></i><b>7.2</b> Advanced features</a><ul>
<li class="chapter" data-level="7.2.1" data-path="pecanXML.html"><a href="pecanXML.html#xml-ensemble"><i class="fa fa-check"></i><b>7.2.1</b> <code>ensemble</code>: Ensemble Runs</a></li>
<li class="chapter" data-level="7.2.2" data-path="pecanXML.html"><a href="pecanXML.html#xml-sensitivity-analysis"><i class="fa fa-check"></i><b>7.2.2</b> <code>sensitivity.analysis</code>: Sensitivity analysis</a></li>
<li class="chapter" data-level="7.2.3" data-path="pecanXML.html"><a href="pecanXML.html#xml-parameter-data-assimilation"><i class="fa fa-check"></i><b>7.2.3</b> Parameter Data Assimilation</a></li>
<li class="chapter" data-level="7.2.4" data-path="pecanXML.html"><a href="pecanXML.html#xml-multi-settings"><i class="fa fa-check"></i><b>7.2.4</b> Multi-Settings</a></li>
<li class="chapter" data-level="7.2.5" data-path="pecanXML.html"><a href="pecanXML.html#xml-state-data-assimilation"><i class="fa fa-check"></i><b>7.2.5</b> (experimental) State Data Assimilation</a></li>
<li class="chapter" data-level="7.2.6" data-path="pecanXML.html"><a href="pecanXML.html#xml-browndog"><i class="fa fa-check"></i><b>7.2.6</b> (experimental) Brown Dog</a></li>
<li class="chapter" data-level="7.2.7" data-path="pecanXML.html"><a href="pecanXML.html#xml-benchmarking"><i class="fa fa-check"></i><b>7.2.7</b> (experimental) Benchmarking</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="8" data-path="additional-web-configuration.html"><a href="additional-web-configuration.html"><i class="fa fa-check"></i><b>8</b> Additional web configuration</a><ul>
<li class="chapter" data-level="8.1" data-path="additional-web-configuration.html"><a href="additional-web-configuration.html#brown-dog"><i class="fa fa-check"></i><b>8.1</b> Brown Dog</a></li>
<li class="chapter" data-level="8.2" data-path="additional-web-configuration.html"><a href="additional-web-configuration.html#basic-setups"><i class="fa fa-check"></i><b>8.2</b> Basic Setups</a></li>
<li class="chapter" data-level="8.3" data-path="additional-web-configuration.html"><a href="additional-web-configuration.html#advanced-setup"><i class="fa fa-check"></i><b>8.3</b> Advanced Setup</a></li>
<li class="chapter" data-level="8.4" data-path="additional-web-configuration.html"><a href="additional-web-configuration.html#editing-model-configurations"><i class="fa fa-check"></i><b>8.4</b> Editing model configurations</a></li>
</ul></li>
<li class="chapter" data-level="9" data-path="settings-configured-analyses.html"><a href="settings-configured-analyses.html"><i class="fa fa-check"></i><b>9</b> Settings-configured analyses</a><ul>
<li class="chapter" data-level="9.1" data-path="settings-configured-analyses.html"><a href="settings-configured-analyses.html#pda"><i class="fa fa-check"></i><b>9.1</b> Parameter data assimilation (PDA)</a><ul>
<li class="chapter" data-level="9.1.1" data-path="settings-configured-analyses.html"><a href="settings-configured-analyses.html#pda.mcmc.r"><i class="fa fa-check"></i><b>9.1.1</b> <strong>pda.mcmc.R</strong></a></li>
<li class="chapter" data-level="9.1.2" data-path="settings-configured-analyses.html"><a href="settings-configured-analyses.html#pda.mcmc.bs.r"><i class="fa fa-check"></i><b>9.1.2</b> <strong>pda.mcmc.bs.R</strong></a></li>
<li class="chapter" data-level="9.1.3" data-path="settings-configured-analyses.html"><a href="settings-configured-analyses.html#pda.emulator"><i class="fa fa-check"></i><b>9.1.3</b> <strong>pda.emulator</strong></a></li>
<li class="chapter" data-level="9.1.4" data-path="settings-configured-analyses.html"><a href="settings-configured-analyses.html#pda.mcmc.recover.r"><i class="fa fa-check"></i><b>9.1.4</b> <strong>pda.mcmc.recover.R</strong></a></li>
<li class="chapter" data-level="9.1.5" data-path="settings-configured-analyses.html"><a href="settings-configured-analyses.html#pda.utils.r"><i class="fa fa-check"></i><b>9.1.5</b> <strong>pda.utils.R</strong></a></li>
<li class="chapter" data-level="9.1.6" data-path="settings-configured-analyses.html"><a href="settings-configured-analyses.html#get.da.data..r-plot.da.r"><i class="fa fa-check"></i><b>9.1.6</b> <strong>get.da.data.*.R, plot.da.R</strong></a></li>
</ul></li>
<li class="chapter" data-level="9.2" data-path="settings-configured-analyses.html"><a href="settings-configured-analyses.html#sda"><i class="fa fa-check"></i><b>9.2</b> State data assimilation (SDA)</a><ul>
<li class="chapter" data-level="9.2.1" data-path="settings-configured-analyses.html"><a href="settings-configured-analyses.html#sda.enkf.r-description"><i class="fa fa-check"></i><b>9.2.1</b> <strong>sda.enkf.R Description</strong></a></li>
<li class="chapter" data-level="9.2.2" data-path="settings-configured-analyses.html"><a href="settings-configured-analyses.html#sda.enkf.r-arguments"><i class="fa fa-check"></i><b>9.2.2</b> <strong>sda.enkf.R Arguments</strong></a></li>
<li class="chapter" data-level="9.2.3" data-path="settings-configured-analyses.html"><a href="settings-configured-analyses.html#state-data-assimilation-workflow"><i class="fa fa-check"></i><b>9.2.3</b> State Data Assimilation Workflow</a></li>
<li class="chapter" data-level="9.2.4" data-path="settings-configured-analyses.html"><a href="settings-configured-analyses.html#state-data-assimilation-tags-example"><i class="fa fa-check"></i><b>9.2.4</b> State Data Assimilation Tags Example</a></li>
<li class="chapter" data-level="9.2.5" data-path="settings-configured-analyses.html"><a href="settings-configured-analyses.html#state-data-assimilation-tags-descriptions"><i class="fa fa-check"></i><b>9.2.5</b> State Data Assimilation Tags Descriptions</a></li>
<li class="chapter" data-level="9.2.6" data-path="settings-configured-analyses.html"><a href="settings-configured-analyses.html#model-specific-functions-for-sda-workflow"><i class="fa fa-check"></i><b>9.2.6</b> Model Specific Functions for SDA Workflow</a></li>
<li class="chapter" data-level="9.2.7" data-path="settings-configured-analyses.html"><a href="settings-configured-analyses.html#analysis-options"><i class="fa fa-check"></i><b>9.2.7</b> Analysis Options</a></li>
<li class="chapter" data-level="9.2.8" data-path="settings-configured-analyses.html"><a href="settings-configured-analyses.html#the-generalized-ensemble-filter"><i class="fa fa-check"></i><b>9.2.8</b> The Generalized Ensemble Filter</a></li>
<li class="chapter" data-level="9.2.9" data-path="settings-configured-analyses.html"><a href="settings-configured-analyses.html#multi-site-state-data-assimilation."><i class="fa fa-check"></i><b>9.2.9</b> Multi-site State data assimilation.</a></li>
<li class="chapter" data-level="9.2.10" data-path="settings-configured-analyses.html"><a href="settings-configured-analyses.html#data-products"><i class="fa fa-check"></i><b>9.2.10</b> Data Products</a></li>
<li class="chapter" data-level="9.2.11" data-path="settings-configured-analyses.html"><a href="settings-configured-analyses.html#current-models"><i class="fa fa-check"></i><b>9.2.11</b> Current Models</a></li>
<li class="chapter" data-level="9.2.12" data-path="settings-configured-analyses.html"><a href="settings-configured-analyses.html#model-calibration"><i class="fa fa-check"></i><b>9.2.12</b> Model Calibration</a></li>
<li class="chapter" data-level="9.2.13" data-path="settings-configured-analyses.html"><a href="settings-configured-analyses.html#initial-conditions"><i class="fa fa-check"></i><b>9.2.13</b> Initial Conditions</a></li>
<li class="chapter" data-level="9.2.14" data-path="settings-configured-analyses.html"><a href="settings-configured-analyses.html#drivers"><i class="fa fa-check"></i><b>9.2.14</b> Drivers</a></li>
</ul></li>
<li class="chapter" data-level="9.3" data-path="settings-configured-analyses.html"><a href="settings-configured-analyses.html#sequential-state-data-assimilation"><i class="fa fa-check"></i><b>9.3</b> Sequential State Data Assimilation</a><ul>
<li class="chapter" data-level="9.3.1" data-path="settings-configured-analyses.html"><a href="settings-configured-analyses.html#general-description"><i class="fa fa-check"></i><b>9.3.1</b> General Description</a></li>
<li class="chapter" data-level="9.3.2" data-path="settings-configured-analyses.html"><a href="settings-configured-analyses.html#enkf"><i class="fa fa-check"></i><b>9.3.2</b> EnKF</a></li>
<li class="chapter" data-level="9.3.3" data-path="settings-configured-analyses.html"><a href="settings-configured-analyses.html#generalized-ensemble-filter"><i class="fa fa-check"></i><b>9.3.3</b> Generalized Ensemble Filter</a></li>
<li class="chapter" data-level="9.3.4" data-path="settings-configured-analyses.html"><a href="settings-configured-analyses.html#ensemble-adjustment"><i class="fa fa-check"></i><b>9.3.4</b> Ensemble Adjustment</a></li>
<li class="chapter" data-level="9.3.5" data-path="settings-configured-analyses.html"><a href="settings-configured-analyses.html#diagnostics"><i class="fa fa-check"></i><b>9.3.5</b> Diagnostics</a></li>
</ul></li>
<li class="chapter" data-level="9.4" data-path="settings-configured-analyses.html"><a href="settings-configured-analyses.html#Benchmarking"><i class="fa fa-check"></i><b>9.4</b> Benchmarking</a><ul>
<li class="chapter" data-level="9.4.1" data-path="settings-configured-analyses.html"><a href="settings-configured-analyses.html#data-preparation"><i class="fa fa-check"></i><b>9.4.1</b> Data Preparation</a></li>
<li class="chapter" data-level="9.4.2" data-path="settings-configured-analyses.html"><a href="settings-configured-analyses.html#model-runs"><i class="fa fa-check"></i><b>9.4.2</b> Model Runs</a></li>
<li class="chapter" data-level="9.4.3" data-path="settings-configured-analyses.html"><a href="settings-configured-analyses.html#the-benchmarking-shiny-app"><i class="fa fa-check"></i><b>9.4.3</b> The Benchmarking Shiny App</a></li>
<li class="chapter" data-level="9.4.4" data-path="settings-configured-analyses.html"><a href="settings-configured-analyses.html#benchmarking-in-pecan.xml"><i class="fa fa-check"></i><b>9.4.4</b> Benchmarking in pecan.xml</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="10" data-path="pecan-remote.html"><a href="pecan-remote.html"><i class="fa fa-check"></i><b>10</b> Remote execution with PEcAn</a><ul>
<li class="chapter" data-level="10.1" data-path="pecan-remote.html"><a href="pecan-remote.html#basics-of-ssh"><i class="fa fa-check"></i><b>10.1</b> Basics of SSH</a></li>
<li class="chapter" data-level="10.2" data-path="pecan-remote.html"><a href="pecan-remote.html#ssh-authentication-password-vs.ssh-key"><i class="fa fa-check"></i><b>10.2</b> SSH authentication – password vs. SSH key</a><ul>
<li class="chapter" data-level="10.2.1" data-path="pecan-remote.html"><a href="pecan-remote.html#ssh-tunneling"><i class="fa fa-check"></i><b>10.2.1</b> SSH tunneling</a></li>
<li class="chapter" data-level="10.2.2" data-path="pecan-remote.html"><a href="pecan-remote.html#ssh-tunnels-and-pecan"><i class="fa fa-check"></i><b>10.2.2</b> SSH tunnels and PEcAn</a></li>
</ul></li>
<li class="chapter" data-level="10.3" data-path="pecan-remote.html"><a href="pecan-remote.html#basic-remote-execute-functions"><i class="fa fa-check"></i><b>10.3</b> Basic remote execute functions</a></li>
<li class="chapter" data-level="10.4" data-path="pecan-remote.html"><a href="pecan-remote.html#remote-model-execution-with-pecan"><i class="fa fa-check"></i><b>10.4</b> Remote model execution with PEcAn</a><ul>
<li class="chapter" data-level="10.4.1" data-path="pecan-remote.html"><a href="pecan-remote.html#xml-configuration"><i class="fa fa-check"></i><b>10.4.1</b> XML configuration</a></li>
<li class="chapter" data-level="10.4.2" data-path="pecan-remote.html"><a href="pecan-remote.html#configuration-for-pecan-web-interface"><i class="fa fa-check"></i><b>10.4.2</b> Configuration for PEcAn web interface</a></li>
</ul></li>
<li class="chapter" data-level="10.5" data-path="pecan-remote.html"><a href="pecan-remote.html#running-pecan-code-for-remotely"><i class="fa fa-check"></i><b>10.5</b> Running PEcAn code for remotely</a><ul>
<li class="chapter" data-level="10.5.1" data-path="pecan-remote.html"><a href="pecan-remote.html#geo.bu.edu"><i class="fa fa-check"></i><b>10.5.1</b> geo.bu.edu</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="11" data-path="the-pecan-docker-api.html"><a href="the-pecan-docker-api.html"><i class="fa fa-check"></i><b>11</b> The PEcAn Docker API</a><ul>
<li class="chapter" data-level="11.1" data-path="the-pecan-docker-api.html"><a href="the-pecan-docker-api.html#installation"><i class="fa fa-check"></i><b>11.1</b> Installation</a></li>
<li class="chapter" data-level="11.2" data-path="the-pecan-docker-api.html"><a href="the-pecan-docker-api.html#creating-and-submitting-a-workflow"><i class="fa fa-check"></i><b>11.2</b> Creating and submitting a workflow</a></li>
</ul></li>
<li class="part"><span><b>IV Advanced user guide</b></span></li>
<li class="chapter" data-level="12" data-path="introduction-1.html"><a href="introduction-1.html"><i class="fa fa-check"></i><b>12</b> Introduction</a></li>
<li class="chapter" data-level="13" data-path="workflow.html"><a href="workflow.html"><i class="fa fa-check"></i><b>13</b> PEcAn workflow (web/workflow.R)</a><ul>
<li class="chapter" data-level="13.1" data-path="workflow.html"><a href="workflow.html#workflow-readsettings"><i class="fa fa-check"></i><b>13.1</b> Read Settings</a></li>
<li class="chapter" data-level="13.2" data-path="workflow.html"><a href="workflow.html#workflow-input"><i class="fa fa-check"></i><b>13.2</b> Input Conversions</a><ul>
<li class="chapter" data-level="13.2.1" data-path="workflow.html"><a href="workflow.html#workflow-input-data"><i class="fa fa-check"></i><b>13.2.1</b> Input Data</a></li>
<li class="chapter" data-level="13.2.2" data-path="workflow.html"><a href="workflow.html#workflow-input-initial"><i class="fa fa-check"></i><b>13.2.2</b> Initial Conditions</a></li>
</ul></li>
<li class="chapter" data-level="13.3" data-path="workflow.html"><a href="workflow.html#workflow-met"><i class="fa fa-check"></i><b>13.3</b> Meteorological Data</a><ul>
<li class="chapter" data-level="13.3.1" data-path="workflow.html"><a href="workflow.html#workflow-met-download"><i class="fa fa-check"></i><b>13.3.1</b> Downloading Raw data (Description of Process)</a></li>
<li class="chapter" data-level="13.3.2" data-path="workflow.html"><a href="workflow.html#workflow-met-standard"><i class="fa fa-check"></i><b>13.3.2</b> Converting raw data to PEcAn standard</a></li>
<li class="chapter" data-level="13.3.3" data-path="workflow.html"><a href="workflow.html#workflow-met-downscale"><i class="fa fa-check"></i><b>13.3.3</b> Downscaling and gapfilling (optional)</a></li>
<li class="chapter" data-level="13.3.4" data-path="workflow.html"><a href="workflow.html#workflow-met-model"><i class="fa fa-check"></i><b>13.3.4</b> Converting from PEcAn standard to model-specific format</a></li>
</ul></li>
<li class="chapter" data-level="13.4" data-path="workflow.html"><a href="workflow.html#workflow-traits"><i class="fa fa-check"></i><b>13.4</b> Traits</a></li>
<li class="chapter" data-level="13.5" data-path="workflow.html"><a href="workflow.html#workflow-metaanalysis"><i class="fa fa-check"></i><b>13.5</b> Meta Analysis</a></li>
<li class="chapter" data-level="13.6" data-path="workflow.html"><a href="workflow.html#workflow-modelconfig"><i class="fa fa-check"></i><b>13.6</b> Model Configuration</a></li>
<li class="chapter" data-level="13.7" data-path="workflow.html"><a href="workflow.html#workflow-modelrun"><i class="fa fa-check"></i><b>13.7</b> Run Execution</a></li>
<li class="chapter" data-level="13.8" data-path="workflow.html"><a href="workflow.html#workflow-postrun"><i class="fa fa-check"></i><b>13.8</b> Post Run Analysis</a></li>
<li class="chapter" data-level="13.9" data-path="workflow.html"><a href="workflow.html#workflow-advanced"><i class="fa fa-check"></i><b>13.9</b> Advanced Analysis</a></li>
</ul></li>
<li class="chapter" data-level="14" data-path="adding-to-pecan.html"><a href="adding-to-pecan.html"><i class="fa fa-check"></i><b>14</b> Adding to PEcAn</a><ul>
<li class="chapter" data-level="14.1" data-path="adding-to-pecan.html"><a href="adding-to-pecan.html#adding-model"><i class="fa fa-check"></i><b>14.1</b> Adding An Ecosystem Model</a><ul>
<li class="chapter" data-level="14.1.1" data-path="adding-to-pecan.html"><a href="adding-to-pecan.html#pecan-database"><i class="fa fa-check"></i><b>14.1.1</b> PEcAn Database</a></li>
<li class="chapter" data-level="14.1.2" data-path="adding-to-pecan.html"><a href="adding-to-pecan.html#define-model_type"><i class="fa fa-check"></i><b>14.1.2</b> Define MODEL_TYPE</a></li>
<li class="chapter" data-level="14.1.3" data-path="adding-to-pecan.html"><a href="adding-to-pecan.html#machine"><i class="fa fa-check"></i><b>14.1.3</b> MACHINE</a></li>
<li class="chapter" data-level="14.1.4" data-path="adding-to-pecan.html"><a href="adding-to-pecan.html#model"><i class="fa fa-check"></i><b>14.1.4</b> MODEL</a></li>
<li class="chapter" data-level="14.1.5" data-path="adding-to-pecan.html"><a href="adding-to-pecan.html#formats"><i class="fa fa-check"></i><b>14.1.5</b> FORMATS</a></li>
<li class="chapter" data-level="14.1.6" data-path="adding-to-pecan.html"><a href="adding-to-pecan.html#model_type---formats"><i class="fa fa-check"></i><b>14.1.6</b> MODEL_TYPE -&gt; Formats</a></li>
<li class="chapter" data-level="14.1.7" data-path="adding-to-pecan.html"><a href="adding-to-pecan.html#inputs"><i class="fa fa-check"></i><b>14.1.7</b> INPUTS</a></li>
<li class="chapter" data-level="14.1.8" data-path="adding-to-pecan.html"><a href="adding-to-pecan.html#pfts-plant-functional-types"><i class="fa fa-check"></i><b>14.1.8</b> PFTS (Plant Functional Types)</a></li>
<li class="chapter" data-level="14.1.9" data-path="adding-to-pecan.html"><a href="adding-to-pecan.html#priors"><i class="fa fa-check"></i><b>14.1.9</b> PRIORS</a></li>
<li class="chapter" data-level="14.1.10" data-path="adding-to-pecan.html"><a href="adding-to-pecan.html#interface-modules"><i class="fa fa-check"></i><b>14.1.10</b> Interface Modules</a></li>
</ul></li>
<li class="chapter" data-level="14.2" data-path="adding-to-pecan.html"><a href="adding-to-pecan.html#NewInput"><i class="fa fa-check"></i><b>14.2</b> Adding input data</a><ul>
<li class="chapter" data-level="14.2.1" data-path="adding-to-pecan.html"><a href="adding-to-pecan.html#input-records-in-bety"><i class="fa fa-check"></i><b>14.2.1</b> Input records in BETY</a></li>
<li class="chapter" data-level="14.2.2" data-path="adding-to-pecan.html"><a href="adding-to-pecan.html#create-a-database-file-record-for-the-input-data"><i class="fa fa-check"></i><b>14.2.2</b> Create a database file record for the input data</a></li>
<li class="chapter" data-level="14.2.3" data-path="adding-to-pecan.html"><a href="adding-to-pecan.html#creating-a-new-input-record-in-bety"><i class="fa fa-check"></i><b>14.2.3</b> Creating a new Input record in BETY</a></li>
<li class="chapter" data-level="14.2.4" data-path="adding-to-pecan.html"><a href="adding-to-pecan.html#InputConversions"><i class="fa fa-check"></i><b>14.2.4</b> Adding a new input converter</a></li>
</ul></li>
<li class="chapter" data-level="14.3" data-path="adding-to-pecan.html"><a href="adding-to-pecan.html#adding-data-web"><i class="fa fa-check"></i><b>14.3</b> Pecan Data Ingest via Web Interface</a><ul>
<li class="chapter" data-level="14.3.1" data-path="adding-to-pecan.html"><a href="adding-to-pecan.html#loading-data"><i class="fa fa-check"></i><b>14.3.1</b> Loading Data</a></li>
<li class="chapter" data-level="14.3.2" data-path="adding-to-pecan.html"><a href="adding-to-pecan.html#local-upload-example"><i class="fa fa-check"></i><b>14.3.2</b> Local Upload Example</a></li>
<li class="chapter" data-level="14.3.3" data-path="adding-to-pecan.html"><a href="adding-to-pecan.html#creating-a-format-record"><i class="fa fa-check"></i><b>14.3.3</b> 3. Creating a format record</a></li>
</ul></li>
<li class="chapter" data-level="14.4" data-path="adding-to-pecan.html"><a href="adding-to-pecan.html#NewFormat"><i class="fa fa-check"></i><b>14.4</b> Creating a new format</a><ul>
<li class="chapter" data-level="14.4.1" data-path="adding-to-pecan.html"><a href="adding-to-pecan.html#formats-in-bety"><i class="fa fa-check"></i><b>14.4.1</b> Formats in BETY</a></li>
<li class="chapter" data-level="14.4.2" data-path="adding-to-pecan.html"><a href="adding-to-pecan.html#creating-a-new-format-in-bety"><i class="fa fa-check"></i><b>14.4.2</b> Creating a new format in BETY</a></li>
</ul></li>
<li class="chapter" data-level="14.5" data-path="adding-to-pecan.html"><a href="adding-to-pecan.html#NewBenchmark"><i class="fa fa-check"></i><b>14.5</b> Creating a new benchmark reference run</a></li>
<li class="chapter" data-level="14.6" data-path="adding-to-pecan.html"><a href="adding-to-pecan.html#editing-records"><i class="fa fa-check"></i><b>14.6</b> Editing records</a></li>
</ul></li>
<li class="chapter" data-level="15" data-path="standalone-tools-modules.html"><a href="standalone-tools-modules.html"><i class="fa fa-check"></i><b>15</b> Standalone tools (modules)</a><ul>
<li class="chapter" data-level="15.1" data-path="standalone-tools-modules.html"><a href="standalone-tools-modules.html#LoadData"><i class="fa fa-check"></i><b>15.1</b> Loading Data in PEcAn</a><ul>
<li class="chapter" data-level="15.1.1" data-path="standalone-tools-modules.html"><a href="standalone-tools-modules.html#function-load_data"><i class="fa fa-check"></i><b>15.1.1</b> Function <code>load_data</code></a></li>
<li class="chapter" data-level="15.1.2" data-path="standalone-tools-modules.html"><a href="standalone-tools-modules.html#example"><i class="fa fa-check"></i><b>15.1.2</b> Example</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="16" data-path="working-with-the-vm.html"><a href="working-with-the-vm.html"><i class="fa fa-check"></i><b>16</b> Working with the VM</a><ul>
<li class="chapter" data-level="16.1" data-path="working-with-the-vm.html"><a href="working-with-the-vm.html#connecting-to-the-vm-via-ssh"><i class="fa fa-check"></i><b>16.1</b> Connecting to the VM via SSH</a></li>
<li class="chapter" data-level="16.2" data-path="working-with-the-vm.html"><a href="working-with-the-vm.html#connecting-to-bety-on-the-vm-via-ssh"><i class="fa fa-check"></i><b>16.2</b> Connecting to bety on the VM via SSh</a></li>
</ul></li>
<li class="chapter" data-level="17" data-path="workflow-modules.html"><a href="workflow-modules.html"><i class="fa fa-check"></i><b>17</b> Workflow modules</a><ul>
<li class="chapter" data-level="17.1" data-path="workflow-modules.html"><a href="workflow-modules.html#overview"><i class="fa fa-check"></i><b>17.1</b> Overview</a><ul>
<li class="chapter" data-level="17.1.1" data-path="workflow-modules.html"><a href="workflow-modules.html#load-settings"><i class="fa fa-check"></i><b>17.1.1</b> Load Settings:</a></li>
<li class="chapter" data-level="17.1.2" data-path="workflow-modules.html"><a href="workflow-modules.html#query-database"><i class="fa fa-check"></i><b>17.1.2</b> Query Database:</a></li>
<li class="chapter" data-level="17.1.3" data-path="workflow-modules.html"><a href="workflow-modules.html#meta-analysis"><i class="fa fa-check"></i><b>17.1.3</b> Meta Analysis:</a></li>
<li class="chapter" data-level="17.1.4" data-path="workflow-modules.html"><a href="workflow-modules.html#write-configuration-files"><i class="fa fa-check"></i><b>17.1.4</b> Write Configuration Files</a></li>
<li class="chapter" data-level="17.1.5" data-path="workflow-modules.html"><a href="workflow-modules.html#start-runs"><i class="fa fa-check"></i><b>17.1.5</b> Start Runs:</a></li>
<li class="chapter" data-level="17.1.6" data-path="workflow-modules.html"><a href="workflow-modules.html#get-model-output"><i class="fa fa-check"></i><b>17.1.6</b> Get Model Output</a></li>
<li class="chapter" data-level="17.1.7" data-path="workflow-modules.html"><a href="workflow-modules.html#ensemble-analysis"><i class="fa fa-check"></i><b>17.1.7</b> Ensemble Analysis</a></li>
<li class="chapter" data-level="17.1.8" data-path="workflow-modules.html"><a href="workflow-modules.html#sensitivity-analysis-variance-decomposition"><i class="fa fa-check"></i><b>17.1.8</b> Sensitivity Analysis, Variance Decomposition</a></li>
</ul></li>
<li class="chapter" data-level="17.2" data-path="workflow-modules.html"><a href="workflow-modules.html#glossary"><i class="fa fa-check"></i><b>17.2</b> Glossary</a></li>
</ul></li>
<li class="chapter" data-level="18" data-path="submitting-workflow-from-command-line.html"><a href="submitting-workflow-from-command-line.html"><i class="fa fa-check"></i><b>18</b> Submitting Workflow from Command Line</a></li>
<li class="chapter" data-level="19" data-path="vm-desktop-conversion.html"><a href="vm-desktop-conversion.html"><i class="fa fa-check"></i><b>19</b> VM Desktop Conversion</a><ul>
<li class="chapter" data-level="19.0.1" data-path="vm-desktop-conversion.html"><a href="vm-desktop-conversion.html#install-rstudio-desktop"><i class="fa fa-check"></i><b>19.0.1</b> Install RStudio Desktop</a></li>
</ul></li>
<li class="part"><span><b>V Developer user guide</b></span></li>
<li class="chapter" data-level="20" data-path="introduction-developer-guide.html"><a href="introduction-developer-guide.html"><i class="fa fa-check"></i><b>20</b> Introduction: Developer Guide</a></li>
<li class="chapter" data-level="21" data-path="pecan-setup.html"><a href="pecan-setup.html"><i class="fa fa-check"></i><b>21</b> PEcAn Setup</a><ul>
<li class="chapter" data-level="21.1" data-path="pecan-setup.html"><a href="pecan-setup.html#installing-the-pecan-vm"><i class="fa fa-check"></i><b>21.1</b> Installing the PEcAn VM</a></li>
<li class="chapter" data-level="21.2" data-path="pecan-setup.html"><a href="pecan-setup.html#pecan-manual-setup"><i class="fa fa-check"></i><b>21.2</b> Install PEcAn by hand</a><ul>
<li class="chapter" data-level="21.2.1" data-path="pecan-setup.html"><a href="pecan-setup.html#installation-prerequisites"><i class="fa fa-check"></i><b>21.2.1</b> Installation Prerequisites</a></li>
<li class="chapter" data-level="21.2.2" data-path="pecan-setup.html"><a href="pecan-setup.html#os-specific-installations"><i class="fa fa-check"></i><b>21.2.2</b> OS Specific Installations</a></li>
<li class="chapter" data-level="21.2.3" data-path="pecan-setup.html"><a href="pecan-setup.html#installing-bety"><i class="fa fa-check"></i><b>21.2.3</b> Installing BETY</a></li>
<li class="chapter" data-level="21.2.4" data-path="pecan-setup.html"><a href="pecan-setup.html#install-models"><i class="fa fa-check"></i><b>21.2.4</b> Install Models</a></li>
<li class="chapter" data-level="21.2.5" data-path="pecan-setup.html"><a href="pecan-setup.html#download-and-compile-pecan"><i class="fa fa-check"></i><b>21.2.5</b> Download and Compile PEcAn</a></li>
<li class="chapter" data-level="21.2.6" data-path="pecan-setup.html"><a href="pecan-setup.html#pecan-testrun"><i class="fa fa-check"></i><b>21.2.6</b> PEcAn Testrun</a></li>
<li class="chapter" data-level="21.2.7" data-path="pecan-setup.html"><a href="pecan-setup.html#pecan-customizations"><i class="fa fa-check"></i><b>21.2.7</b> PEcAn Customizations</a></li>
</ul></li>
<li class="chapter" data-level="21.3" data-path="pecan-setup.html"><a href="pecan-setup.html#aws-setup"><i class="fa fa-check"></i><b>21.3</b> AWS Setup</a><ul>
<li class="chapter" data-level="21.3.1" data-path="pecan-setup.html"><a href="pecan-setup.html#porting-vm-to-aws"><i class="fa fa-check"></i><b>21.3.1</b> Porting VM to AWS</a></li>
<li class="chapter" data-level="21.3.2" data-path="pecan-setup.html"><a href="pecan-setup.html#set-up-multiple-instances-optional"><i class="fa fa-check"></i><b>21.3.2</b> Set up multiple instances (optional)</a></li>
</ul></li>
<li class="chapter" data-level="21.4" data-path="pecan-setup.html"><a href="pecan-setup.html#shiny-setup"><i class="fa fa-check"></i><b>21.4</b> Shiny Setup</a><ul>
<li class="chapter" data-level="21.4.1" data-path="pecan-setup.html"><a href="pecan-setup.html#install-the-shiny-r-package-and-shiny-server"><i class="fa fa-check"></i><b>21.4.1</b> Install the Shiny R package and Shiny server</a></li>
<li class="chapter" data-level="21.4.2" data-path="pecan-setup.html"><a href="pecan-setup.html#modify-the-shiny-configuration-file"><i class="fa fa-check"></i><b>21.4.2</b> Modify the shiny configuration file</a></li>
<li class="chapter" data-level="21.4.3" data-path="pecan-setup.html"><a href="pecan-setup.html#set-the-apache-proxy"><i class="fa fa-check"></i><b>21.4.3</b> Set the Apache proxy</a></li>
<li class="chapter" data-level="21.4.4" data-path="pecan-setup.html"><a href="pecan-setup.html#enable-and-start-the-shiny-server-and-restart-apache"><i class="fa fa-check"></i><b>21.4.4</b> Enable and start the shiny server, and restart apache</a></li>
<li class="chapter" data-level="21.4.5" data-path="pecan-setup.html"><a href="pecan-setup.html#troubleshooting-1"><i class="fa fa-check"></i><b>21.4.5</b> Troubleshooting</a></li>
<li class="chapter" data-level="21.4.6" data-path="pecan-setup.html"><a href="pecan-setup.html#further-reading"><i class="fa fa-check"></i><b>21.4.6</b> Further reading</a></li>
</ul></li>
<li class="chapter" data-level="21.5" data-path="pecan-setup.html"><a href="pecan-setup.html#thredds-setup"><i class="fa fa-check"></i><b>21.5</b> Thredds Setup</a><ul>
<li class="chapter" data-level="21.5.1" data-path="pecan-setup.html"><a href="pecan-setup.html#install-the-tomcat-8-and-thredds-webapp"><i class="fa fa-check"></i><b>21.5.1</b> Install the Tomcat 8 and Thredds webapp</a></li>
<li class="chapter" data-level="21.5.2" data-path="pecan-setup.html"><a href="pecan-setup.html#ubuntu-1"><i class="fa fa-check"></i><b>21.5.2</b> Ubuntu</a></li>
<li class="chapter" data-level="21.5.3" data-path="pecan-setup.html"><a href="pecan-setup.html#customize-the-thredds-server"><i class="fa fa-check"></i><b>21.5.3</b> Customize the Thredds server</a></li>
<li class="chapter" data-level="21.5.4" data-path="pecan-setup.html"><a href="pecan-setup.html#update-the-catalog"><i class="fa fa-check"></i><b>21.5.4</b> Update the catalog</a></li>
<li class="chapter" data-level="21.5.5" data-path="pecan-setup.html"><a href="pecan-setup.html#troubleshooting-2"><i class="fa fa-check"></i><b>21.5.5</b> Troubleshooting</a></li>
<li class="chapter" data-level="21.5.6" data-path="pecan-setup.html"><a href="pecan-setup.html#further-reading-1"><i class="fa fa-check"></i><b>21.5.6</b> Further reading</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="22" data-path="maintaining-pecan.html"><a href="maintaining-pecan.html"><i class="fa fa-check"></i><b>22</b> Maintaining PEcAn</a><ul>
<li class="chapter" data-level="22.1" data-path="maintaining-pecan.html"><a href="maintaining-pecan.html#updating-pecan-code-and-bety-database"><i class="fa fa-check"></i><b>22.1</b> Updating PEcAn Code and Bety Database</a><ul>
<li class="chapter" data-level="22.1.1" data-path="maintaining-pecan.html"><a href="maintaining-pecan.html#updating-pecan"><i class="fa fa-check"></i><b>22.1.1</b> Updating PEcAn</a></li>
</ul></li>
<li class="chapter" data-level="22.2" data-path="maintaining-pecan.html"><a href="maintaining-pecan.html#updating-bety"><i class="fa fa-check"></i><b>22.2</b> Updating BETY</a></li>
<li class="chapter" data-level="22.3" data-path="maintaining-pecan.html"><a href="maintaining-pecan.html#database-synchronization"><i class="fa fa-check"></i><b>22.3</b> Database synchronization</a><ul>
<li class="chapter" data-level="22.3.1" data-path="maintaining-pecan.html"><a href="maintaining-pecan.html#how-does-it-work"><i class="fa fa-check"></i><b>22.3.1</b> How does it work?</a></li>
<li class="chapter" data-level="22.3.2" data-path="maintaining-pecan.html"><a href="maintaining-pecan.html#set-up"><i class="fa fa-check"></i><b>22.3.2</b> Set up</a></li>
<li class="chapter" data-level="22.3.3" data-path="maintaining-pecan.html"><a href="maintaining-pecan.html#fetch-latest-data"><i class="fa fa-check"></i><b>22.3.3</b> Fetch latest data</a></li>
<li class="chapter" data-level="22.3.4" data-path="maintaining-pecan.html"><a href="maintaining-pecan.html#sharing-data"><i class="fa fa-check"></i><b>22.3.4</b> Sharing data</a></li>
<li class="chapter" data-level="22.3.5" data-path="maintaining-pecan.html"><a href="maintaining-pecan.html#automation"><i class="fa fa-check"></i><b>22.3.5</b> Automation</a></li>
<li class="chapter" data-level="22.3.6" data-path="maintaining-pecan.html"><a href="maintaining-pecan.html#database-maintentance"><i class="fa fa-check"></i><b>22.3.6</b> Database maintentance</a></li>
<li class="chapter" data-level="22.3.7" data-path="maintaining-pecan.html"><a href="maintaining-pecan.html#troubleshooting-3"><i class="fa fa-check"></i><b>22.3.7</b> Troubleshooting</a></li>
<li class="chapter" data-level="22.3.8" data-path="maintaining-pecan.html"><a href="maintaining-pecan.html#network-status-map"><i class="fa fa-check"></i><b>22.3.8</b> Network Status Map</a></li>
<li class="chapter" data-level="22.3.9" data-path="maintaining-pecan.html"><a href="maintaining-pecan.html#tasks"><i class="fa fa-check"></i><b>22.3.9</b> Tasks</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="23" data-path="git-and-github-workflow.html"><a href="git-and-github-workflow.html"><i class="fa fa-check"></i><b>23</b> Git and GitHub Workflow</a><ul>
<li class="chapter" data-level="23.1" data-path="git-and-github-workflow.html"><a href="git-and-github-workflow.html#using-git"><i class="fa fa-check"></i><b>23.1</b> Using Git</a><ul>
<li class="chapter" data-level="23.1.1" data-path="git-and-github-workflow.html"><a href="git-and-github-workflow.html#git"><i class="fa fa-check"></i><b>23.1.1</b> Git</a></li>
<li class="chapter" data-level="23.1.2" data-path="git-and-github-workflow.html"><a href="git-and-github-workflow.html#pecan-project-and-github"><i class="fa fa-check"></i><b>23.1.2</b> PEcAn Project and Github</a></li>
<li class="chapter" data-level="23.1.3" data-path="git-and-github-workflow.html"><a href="git-and-github-workflow.html#pecan-project-branches"><i class="fa fa-check"></i><b>23.1.3</b> PEcAn Project Branches</a></li>
<li class="chapter" data-level="23.1.4" data-path="git-and-github-workflow.html"><a href="git-and-github-workflow.html#quick-and-easy"><i class="fa fa-check"></i><b>23.1.4</b> Quick and Easy</a></li>
<li class="chapter" data-level="23.1.5" data-path="git-and-github-workflow.html"><a href="git-and-github-workflow.html#recommended-git-workflow"><i class="fa fa-check"></i><b>23.1.5</b> Recommended Git Workflow</a></li>
<li class="chapter" data-level="23.1.6" data-path="git-and-github-workflow.html"><a href="git-and-github-workflow.html#before-any-work-is-done"><i class="fa fa-check"></i><b>23.1.6</b> Before any work is done</a></li>
<li class="chapter" data-level="23.1.7" data-path="git-and-github-workflow.html"><a href="git-and-github-workflow.html#during-development"><i class="fa fa-check"></i><b>23.1.7</b> During development:</a></li>
<li class="chapter" data-level="23.1.8" data-path="git-and-github-workflow.html"><a href="git-and-github-workflow.html#basic-workflow"><i class="fa fa-check"></i><b>23.1.8</b> Basic Workflow</a></li>
<li class="chapter" data-level="23.1.9" data-path="git-and-github-workflow.html"><a href="git-and-github-workflow.html#recommended-workflow-a-new-branch-for-each-change"><i class="fa fa-check"></i><b>23.1.9</b> Recommended Workflow: A new branch for each change</a></li>
<li class="chapter" data-level="23.1.10" data-path="git-and-github-workflow.html"><a href="git-and-github-workflow.html#git-rstudio"><i class="fa fa-check"></i><b>23.1.10</b> Git + Rstudio</a></li>
<li class="chapter" data-level="23.1.11" data-path="git-and-github-workflow.html"><a href="git-and-github-workflow.html#for-development"><i class="fa fa-check"></i><b>23.1.11</b> For development:</a></li>
<li class="chapter" data-level="23.1.12" data-path="git-and-github-workflow.html"><a href="git-and-github-workflow.html#references"><i class="fa fa-check"></i><b>23.1.12</b> References</a></li>
</ul></li>
<li class="chapter" data-level="23.2" data-path="git-and-github-workflow.html"><a href="git-and-github-workflow.html#github-use-with-pecan"><i class="fa fa-check"></i><b>23.2</b> GitHub use with PEcAn</a><ul>
<li class="chapter" data-level="23.2.1" data-path="git-and-github-workflow.html"><a href="git-and-github-workflow.html#bugs-issues-features-etc."><i class="fa fa-check"></i><b>23.2.1</b> Bugs, Issues, Features, etc.</a></li>
<li class="chapter" data-level="23.2.2" data-path="git-and-github-workflow.html"><a href="git-and-github-workflow.html#requesting-a-feature"><i class="fa fa-check"></i><b>23.2.2</b> Requesting a feature</a></li>
<li class="chapter" data-level="23.2.3" data-path="git-and-github-workflow.html"><a href="git-and-github-workflow.html#closing-an-issue"><i class="fa fa-check"></i><b>23.2.3</b> Closing an issue</a></li>
<li class="chapter" data-level="23.2.4" data-path="git-and-github-workflow.html"><a href="git-and-github-workflow.html#when-to-submit-an-issue"><i class="fa fa-check"></i><b>23.2.4</b> When to submit an issue?</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="24" data-path="coding-practices.html"><a href="coding-practices.html"><i class="fa fa-check"></i><b>24</b> Coding Practices</a><ul>
<li class="chapter" data-level="24.1" data-path="coding-practices.html"><a href="coding-practices.html#coding-style"><i class="fa fa-check"></i><b>24.1</b> Coding Style</a><ul>
<li class="chapter" data-level="24.1.1" data-path="coding-practices.html"><a href="coding-practices.html#use-roxygen2-documentation"><i class="fa fa-check"></i><b>24.1.1</b> Use Roxygen2 documentation</a></li>
<li class="chapter" data-level="24.1.2" data-path="coding-practices.html"><a href="coding-practices.html#write-your-name-at-the-top"><i class="fa fa-check"></i><b>24.1.2</b> Write your name at the top</a></li>
<li class="chapter" data-level="24.1.3" data-path="coding-practices.html"><a href="coding-practices.html#use-testthat-testing-package"><i class="fa fa-check"></i><b>24.1.3</b> Use testthat testing package</a></li>
<li class="chapter" data-level="24.1.4" data-path="coding-practices.html"><a href="coding-practices.html#dont-use-shortcuts"><i class="fa fa-check"></i><b>24.1.4</b> Don’t use shortcuts</a></li>
<li class="chapter" data-level="24.1.5" data-path="coding-practices.html"><a href="coding-practices.html#package-dependencies"><i class="fa fa-check"></i><b>24.1.5</b> Package Dependencies:</a></li>
</ul></li>
<li class="chapter" data-level="24.2" data-path="coding-practices.html"><a href="coding-practices.html#logging"><i class="fa fa-check"></i><b>24.2</b> Logging</a><ul>
<li class="chapter" data-level="24.2.1" data-path="coding-practices.html"><a href="coding-practices.html#pecan-logging-functions"><i class="fa fa-check"></i><b>24.2.1</b> PEcAn logging functions</a></li>
<li class="chapter" data-level="24.2.2" data-path="coding-practices.html"><a href="coding-practices.html#other-r-logging-packages"><i class="fa fa-check"></i><b>24.2.2</b> Other R logging packages</a></li>
<li class="chapter" data-level="24.2.3" data-path="coding-practices.html"><a href="coding-practices.html#example-usage"><i class="fa fa-check"></i><b>24.2.3</b> Example Usage</a></li>
</ul></li>
<li class="chapter" data-level="24.3" data-path="coding-practices.html"><a href="coding-practices.html#package-data"><i class="fa fa-check"></i><b>24.3</b> Package Data</a><ul>
<li class="chapter" data-level="24.3.1" data-path="coding-practices.html"><a href="coding-practices.html#summary"><i class="fa fa-check"></i><b>24.3.1</b> Summary:</a></li>
<li class="chapter" data-level="24.3.2" data-path="coding-practices.html"><a href="coding-practices.html#accessing-data"><i class="fa fa-check"></i><b>24.3.2</b> Accessing data</a></li>
</ul></li>
<li class="chapter" data-level="24.4" data-path="coding-practices.html"><a href="coding-practices.html#packages-used-in-development"><i class="fa fa-check"></i><b>24.4</b> Packages used in development</a></li>
<li class="chapter" data-level="24.5" data-path="coding-practices.html"><a href="coding-practices.html#roxygen2-1"><i class="fa fa-check"></i><b>24.5</b> Roxygen2</a><ul>
<li class="chapter" data-level="24.5.1" data-path="coding-practices.html"><a href="coding-practices.html#canonical-references"><i class="fa fa-check"></i><b>24.5.1</b> Canonical references:</a></li>
<li class="chapter" data-level="24.5.2" data-path="coding-practices.html"><a href="coding-practices.html#basic-roxygen2-instructions"><i class="fa fa-check"></i><b>24.5.2</b> Basic Roxygen2 instructions:</a></li>
<li class="chapter" data-level="24.5.3" data-path="coding-practices.html"><a href="coding-practices.html#example-1"><i class="fa fa-check"></i><b>24.5.3</b> Example</a></li>
<li class="chapter" data-level="24.5.4" data-path="coding-practices.html"><a href="coding-practices.html#updating-documentation"><i class="fa fa-check"></i><b>24.5.4</b> Updating documentation</a></li>
</ul></li>
<li class="chapter" data-level="24.6" data-path="coding-practices.html"><a href="coding-practices.html#testing"><i class="fa fa-check"></i><b>24.6</b> Testing</a><ul>
<li class="chapter" data-level="24.6.1" data-path="coding-practices.html"><a href="coding-practices.html#rationale"><i class="fa fa-check"></i><b>24.6.1</b> Rationale</a></li>
<li class="chapter" data-level="24.6.2" data-path="coding-practices.html"><a href="coding-practices.html#tests-makes-development-easier-and-less-error-prone"><i class="fa fa-check"></i><b>24.6.2</b> Tests makes development easier and less error prone</a></li>
<li class="chapter" data-level="24.6.3" data-path="coding-practices.html"><a href="coding-practices.html#quick-start"><i class="fa fa-check"></i><b>24.6.3</b> Quick Start:</a></li>
<li class="chapter" data-level="24.6.4" data-path="coding-practices.html"><a href="coding-practices.html#test-files"><i class="fa fa-check"></i><b>24.6.4</b> Test files</a></li>
<li class="chapter" data-level="24.6.5" data-path="coding-practices.html"><a href="coding-practices.html#testing-the-shiny-server"><i class="fa fa-check"></i><b>24.6.5</b> Testing the Shiny Server</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="25" data-path="directory-structure.html"><a href="directory-structure.html"><i class="fa fa-check"></i><b>25</b> Directory structure</a><ul>
<li class="chapter" data-level="25.1" data-path="directory-structure.html"><a href="directory-structure.html#overview-of-pecan-repository-as-of-pecan-1.5.3"><i class="fa fa-check"></i><b>25.1</b> Overview of PEcAn repository as of PEcAn 1.5.3</a></li>
<li class="chapter" data-level="25.2" data-path="directory-structure.html"><a href="directory-structure.html#generic-r-package-structure"><i class="fa fa-check"></i><b>25.2</b> Generic R package structure:</a></li>
</ul></li>
<li class="part"><span><b>VI Reference Materials</b></span></li>
<li class="chapter" data-level="26" data-path="pecan-standard-formats.html"><a href="pecan-standard-formats.html"><i class="fa fa-check"></i><b>26</b> PEcAn standard formats</a><ul>
<li class="chapter" data-level="26.1" data-path="pecan-standard-formats.html"><a href="pecan-standard-formats.html#defining-new-input-formats"><i class="fa fa-check"></i><b>26.1</b> Defining new input formats</a><ul>
<li class="chapter" data-level="26.1.1" data-path="pecan-standard-formats.html"><a href="pecan-standard-formats.html#input-standards"><i class="fa fa-check"></i><b>26.1.1</b> Input Standards</a></li>
<li class="chapter" data-level="26.1.2" data-path="pecan-standard-formats.html"><a href="pecan-standard-formats.html#output-standards"><i class="fa fa-check"></i><b>26.1.2</b> Output Standards</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="27" data-path="pecan-models.html"><a href="pecan-models.html"><i class="fa fa-check"></i><b>27</b> PEcAn Models</a><ul>
<li class="chapter" data-level="27.1" data-path="pecan-models.html"><a href="pecan-models.html#models-biocro"><i class="fa fa-check"></i><b>27.1</b> BioCro</a></li>
<li class="chapter" data-level="27.2" data-path="pecan-models.html"><a href="pecan-models.html#models-clm"><i class="fa fa-check"></i><b>27.2</b> CLM</a></li>
<li class="chapter" data-level="27.3" data-path="pecan-models.html"><a href="pecan-models.html#models-dalec"><i class="fa fa-check"></i><b>27.3</b> DALEC</a></li>
<li class="chapter" data-level="27.4" data-path="pecan-models.html"><a href="pecan-models.html#models-ed"><i class="fa fa-check"></i><b>27.4</b> ED2</a><ul>
<li class="chapter" data-level="27.4.1" data-path="pecan-models.html"><a href="pecan-models.html#introduction-2"><i class="fa fa-check"></i><b>27.4.1</b> Introduction</a></li>
<li class="chapter" data-level="27.4.2" data-path="pecan-models.html"><a href="pecan-models.html#pecan-configuration-file-additions"><i class="fa fa-check"></i><b>27.4.2</b> PEcAn configuration file additions</a></li>
<li class="chapter" data-level="27.4.3" data-path="pecan-models.html"><a href="pecan-models.html#models-ed-pft-configuration"><i class="fa fa-check"></i><b>27.4.3</b> PFT configuration in ED2</a></li>
<li class="chapter" data-level="27.4.4" data-path="pecan-models.html"><a href="pecan-models.html#model-specific-input-files"><i class="fa fa-check"></i><b>27.4.4</b> Model specific input files</a></li>
<li class="chapter" data-level="27.4.5" data-path="pecan-models.html"><a href="pecan-models.html#model-configuration-files"><i class="fa fa-check"></i><b>27.4.5</b> Model configuration files</a></li>
<li class="chapter" data-level="27.4.6" data-path="pecan-models.html"><a href="pecan-models.html#installation-notes"><i class="fa fa-check"></i><b>27.4.6</b> Installation notes</a></li>
</ul></li>
<li class="chapter" data-level="27.5" data-path="pecan-models.html"><a href="pecan-models.html#models-gday"><i class="fa fa-check"></i><b>27.5</b> GDAY</a></li>
<li class="chapter" data-level="27.6" data-path="pecan-models.html"><a href="pecan-models.html#models-linkages"><i class="fa fa-check"></i><b>27.6</b> LINKAGES</a></li>
<li class="chapter" data-level="27.7" data-path="pecan-models.html"><a href="pecan-models.html#models-lpjguess"><i class="fa fa-check"></i><b>27.7</b> LPJ-GUESS</a></li>
<li class="chapter" data-level="27.8" data-path="pecan-models.html"><a href="pecan-models.html#models-maespa"><i class="fa fa-check"></i><b>27.8</b> MAESPA</a></li>
<li class="chapter" data-level="27.9" data-path="pecan-models.html"><a href="pecan-models.html#models-preles"><i class="fa fa-check"></i><b>27.9</b> PRELES</a></li>
<li class="chapter" data-level="27.10" data-path="pecan-models.html"><a href="pecan-models.html#models-sipnet"><i class="fa fa-check"></i><b>27.10</b> SiPNET</a><ul>
<li class="chapter" data-level="27.10.1" data-path="pecan-models.html"><a href="pecan-models.html#download-gfdl"><i class="fa fa-check"></i><b>27.10.1</b> Download GFDL</a></li>
<li class="chapter" data-level="27.10.2" data-path="pecan-models.html"><a href="pecan-models.html#cm3"><i class="fa fa-check"></i><b>27.10.2</b> CM3</a></li>
<li class="chapter" data-level="27.10.3" data-path="pecan-models.html"><a href="pecan-models.html#esm2m-esm2g"><i class="fa fa-check"></i><b>27.10.3</b> ESM2M &amp; ESM2G</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="28" data-path="available-meteorological-drivers.html"><a href="available-meteorological-drivers.html"><i class="fa fa-check"></i><b>28</b> Available Meteorological Drivers</a><ul>
<li class="chapter" data-level="28.1" data-path="available-meteorological-drivers.html"><a href="available-meteorological-drivers.html#ameriflux"><i class="fa fa-check"></i><b>28.1</b> Ameriflux</a></li>
<li class="chapter" data-level="28.2" data-path="available-meteorological-drivers.html"><a href="available-meteorological-drivers.html#amerifluxlbl"><i class="fa fa-check"></i><b>28.2</b> AmerifluxLBL</a></li>
<li class="chapter" data-level="28.3" data-path="available-meteorological-drivers.html"><a href="available-meteorological-drivers.html#fluxnet2015"><i class="fa fa-check"></i><b>28.3</b> Fluxnet2015</a></li>
<li class="chapter" data-level="28.4" data-path="available-meteorological-drivers.html"><a href="available-meteorological-drivers.html#narr"><i class="fa fa-check"></i><b>28.4</b> NARR</a></li>
<li class="chapter" data-level="28.5" data-path="available-meteorological-drivers.html"><a href="available-meteorological-drivers.html#cruncep"><i class="fa fa-check"></i><b>28.5</b> CRUNCEP</a></li>
<li class="chapter" data-level="28.6" data-path="available-meteorological-drivers.html"><a href="available-meteorological-drivers.html#cmip5"><i class="fa fa-check"></i><b>28.6</b> CMIP5</a></li>
<li class="chapter" data-level="28.7" data-path="available-meteorological-drivers.html"><a href="available-meteorological-drivers.html#nldas"><i class="fa fa-check"></i><b>28.7</b> NLDAS</a></li>
<li class="chapter" data-level="28.8" data-path="available-meteorological-drivers.html"><a href="available-meteorological-drivers.html#gldas"><i class="fa fa-check"></i><b>28.8</b> GLDAS</a></li>
<li class="chapter" data-level="28.9" data-path="available-meteorological-drivers.html"><a href="available-meteorological-drivers.html#paleon"><i class="fa fa-check"></i><b>28.9</b> PalEON</a></li>
<li class="chapter" data-level="28.10" data-path="available-meteorological-drivers.html"><a href="available-meteorological-drivers.html#fluxnetlathuile"><i class="fa fa-check"></i><b>28.10</b> FluxnetLaThuile</a></li>
<li class="chapter" data-level="28.11" data-path="available-meteorological-drivers.html"><a href="available-meteorological-drivers.html#geostreams"><i class="fa fa-check"></i><b>28.11</b> Geostreams</a></li>
</ul></li>
<li class="chapter" data-level="29" data-path="docker-index.html"><a href="docker-index.html"><i class="fa fa-check"></i><b>29</b> Docker</a><ul>
<li class="chapter" data-level="29.1" data-path="docker-index.html"><a href="docker-index.html#docker-intro"><i class="fa fa-check"></i><b>29.1</b> Introduction to Docker?</a><ul>
<li class="chapter" data-level="29.1.1" data-path="docker-index.html"><a href="docker-index.html#what-is-docker"><i class="fa fa-check"></i><b>29.1.1</b> What is Docker?</a></li>
<li class="chapter" data-level="29.1.2" data-path="docker-index.html"><a href="docker-index.html#working-with-docker"><i class="fa fa-check"></i><b>29.1.2</b> Working with Docker</a></li>
<li class="chapter" data-level="29.1.3" data-path="docker-index.html"><a href="docker-index.html#docker-compose"><i class="fa fa-check"></i><b>29.1.3</b> <code>docker-compose</code></a></li>
</ul></li>
<li class="chapter" data-level="29.2" data-path="docker-index.html"><a href="docker-index.html#docker-quickstart"><i class="fa fa-check"></i><b>29.2</b> Quickstart for Docker and PEcAn</a><ul>
<li class="chapter" data-level="29.2.1" data-path="docker-index.html"><a href="docker-index.html#install-docker"><i class="fa fa-check"></i><b>29.2.1</b> Install Docker</a></li>
<li class="chapter" data-level="29.2.2" data-path="docker-index.html"><a href="docker-index.html#setup-pecan-using-docker-compose"><i class="fa fa-check"></i><b>29.2.2</b> Setup PEcAn using docker-compose</a></li>
</ul></li>
<li class="chapter" data-level="29.3" data-path="docker-index.html"><a href="docker-index.html#pecan-docker"><i class="fa fa-check"></i><b>29.3</b> PEcAn Docker Architecture</a><ul>
<li class="chapter" data-level="29.3.1" data-path="docker-index.html"><a href="docker-index.html#pecan-docker-overview"><i class="fa fa-check"></i><b>29.3.1</b> Overview</a></li>
<li class="chapter" data-level="29.3.2" data-path="docker-index.html"><a href="docker-index.html#pecan-docker-compose"><i class="fa fa-check"></i><b>29.3.2</b> PEcAn’s <code>docker-compose</code></a></li>
</ul></li>
<li class="chapter" data-level="29.4" data-path="docker-index.html"><a href="docker-index.html#model-docker"><i class="fa fa-check"></i><b>29.4</b> Models using Docker</a><ul>
<li class="chapter" data-level="29.4.1" data-path="docker-index.html"><a href="docker-index.html#model-docker-json-file"><i class="fa fa-check"></i><b>29.4.1</b> Model information</a></li>
<li class="chapter" data-level="29.4.2" data-path="docker-index.html"><a href="docker-index.html#model-docker-Dockerfile"><i class="fa fa-check"></i><b>29.4.2</b> Model build</a></li>
<li class="chapter" data-level="29.4.3" data-path="docker-index.html"><a href="docker-index.html#common-problems"><i class="fa fa-check"></i><b>29.4.3</b> Common problems</a></li>
</ul></li>
<li class="chapter" data-level="29.5" data-path="docker-index.html"><a href="docker-index.html#docker-build-images"><i class="fa fa-check"></i><b>29.5</b> Building and modifying images</a><ul>
<li class="chapter" data-level="29.5.1" data-path="docker-index.html"><a href="docker-index.html#docker-local-devel"><i class="fa fa-check"></i><b>29.5.1</b> Local development and testing with Docker</a></li>
<li class="chapter" data-level="29.5.2" data-path="docker-index.html"><a href="docker-index.html#docker-troubleshooting"><i class="fa fa-check"></i><b>29.5.2</b> Troubleshooting Docker</a></li>
</ul></li>
<li class="chapter" data-level="29.6" data-path="docker-index.html"><a href="docker-index.html#docker-migrate"><i class="fa fa-check"></i><b>29.6</b> Migrating PEcAn from VM to Docker</a><ul>
<li class="chapter" data-level="29.6.1" data-path="docker-index.html"><a href="docker-index.html#running-bety-as-a-docker-container"><i class="fa fa-check"></i><b>29.6.1</b> Running BETY as a docker container</a></li>
<li class="chapter" data-level="29.6.2" data-path="docker-index.html"><a href="docker-index.html#using-the-pecan-download.file-function"><i class="fa fa-check"></i><b>29.6.2</b> Using the PEcAn download.file() function</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="30" data-path="shiny.html"><a href="shiny.html"><i class="fa fa-check"></i><b>30</b> SHINY</a><ul>
<li class="chapter" data-level="30.0.1" data-path="shiny.html"><a href="shiny.html#debugging-shiny-apps"><i class="fa fa-check"></i><b>30.0.1</b> Debugging Shiny Apps</a></li>
</ul></li>
<li class="chapter" data-level="31" data-path="debugging.html"><a href="debugging.html"><i class="fa fa-check"></i><b>31</b> Debugging</a><ul>
<li class="chapter" data-level="31.0.1" data-path="debugging.html"><a href="debugging.html#using-testsworkflow.r"><i class="fa fa-check"></i><b>31.0.1</b> Using <code>tests/workflow.R</code></a></li>
<li class="chapter" data-level="31.0.2" data-path="debugging.html"><a href="debugging.html#useful-scripts"><i class="fa fa-check"></i><b>31.0.2</b> Useful scripts</a></li>
<li class="chapter" data-level="31.1" data-path="debugging.html"><a href="debugging.html#troubleshooting-pecan"><i class="fa fa-check"></i><b>31.1</b> Troubleshooting PEcAn</a><ul>
<li class="chapter" data-level="31.1.1" data-path="debugging.html"><a href="debugging.html#cookies-and-pecan-web-pages"><i class="fa fa-check"></i><b>31.1.1</b> Cookies and pecan web pages</a></li>
<li class="chapter" data-level="31.1.2" data-path="debugging.html"><a href="debugging.html#warning-mkdir-function.mkdir-no-such-file-or-directory"><i class="fa fa-check"></i><b>31.1.2</b> <code>Warning: mkdir() [function.mkdir]: No such file or directory</code></a></li>
<li class="chapter" data-level="31.1.3" data-path="debugging.html"><a href="debugging.html#after-creating-a-new-pft-the-tag-for-pft-not-passed-to-config.xml-in-ed"><i class="fa fa-check"></i><b>31.1.3</b> After creating a new PFT the <num> tag for PFT not passed to config.xml in ED</a></li>
</ul></li>
<li class="chapter" data-level="31.2" data-path="debugging.html"><a href="debugging.html#pecan-project-use-to-teach-ecological-model-data-synthesis"><i class="fa fa-check"></i><b>31.2</b> PEcAn Project use to teach Ecological model-data synthesis</a><ul>
<li class="chapter" data-level="31.2.1" data-path="debugging.html"><a href="debugging.html#university-classes"><i class="fa fa-check"></i><b>31.2.1</b> University classes</a></li>
<li class="chapter" data-level="31.2.2" data-path="debugging.html"><a href="debugging.html#summer-courses-workshops"><i class="fa fa-check"></i><b>31.2.2</b> Summer Courses / Workshops</a></li>
<li class="chapter" data-level="31.2.3" data-path="debugging.html"><a href="debugging.html#selected-publications"><i class="fa fa-check"></i><b>31.2.3</b> Selected Publications</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="32" data-path="rabbitmq.html"><a href="rabbitmq.html"><i class="fa fa-check"></i><b>32</b> RabbitMQ</a><ul>
<li class="chapter" data-level="32.1" data-path="rabbitmq.html"><a href="rabbitmq.html#rabbitmq-basics-sender"><i class="fa fa-check"></i><b>32.1</b> Producer – <code>sender.py</code></a></li>
<li class="chapter" data-level="32.2" data-path="rabbitmq.html"><a href="rabbitmq.html#rabbitmq-basics-receiver"><i class="fa fa-check"></i><b>32.2</b> Consumer – <code>receiver.py</code></a></li>
<li class="chapter" data-level="32.3" data-path="rabbitmq.html"><a href="rabbitmq.html#rabbitmq-web"><i class="fa fa-check"></i><b>32.3</b> RabbitMQ and the PEcAn web interface</a></li>
<li class="chapter" data-level="32.4" data-path="rabbitmq.html"><a href="rabbitmq.html#rabbitmq-xml"><i class="fa fa-check"></i><b>32.4</b> RabbitMQ in the PEcAn XML</a></li>
<li class="chapter" data-level="32.5" data-path="rabbitmq.html"><a href="rabbitmq.html#rabbitmq-dockerfile"><i class="fa fa-check"></i><b>32.5</b> RabbitMQ configuration in Dockerfiles</a></li>
<li class="chapter" data-level="32.6" data-path="rabbitmq.html"><a href="rabbitmq.html#rabbitmq-case-study"><i class="fa fa-check"></i><b>32.6</b> Case study: PEcAn web interface</a></li>
</ul></li>
<li class="chapter" data-level="33" data-path="database.html"><a href="database.html"><i class="fa fa-check"></i><b>33</b> BETY Database Administration</a><ul>
<li class="chapter" data-level="33.1" data-path="database.html"><a href="database.html#database-setup"><i class="fa fa-check"></i><b>33.1</b> Best practices</a></li>
<li class="chapter" data-level="33.2" data-path="database.html"><a href="database.html#backup-of-bety-database"><i class="fa fa-check"></i><b>33.2</b> Backup of BETY database</a></li>
<li class="chapter" data-level="33.3" data-path="database.html"><a href="database.html#restore-of-bety-database"><i class="fa fa-check"></i><b>33.3</b> Restore of BETY database</a></li>
</ul></li>
<li class="chapter" data-level="34" data-path="bookediting.html"><a href="bookediting.html"><i class="fa fa-check"></i><b>34</b> Editing this book</a></li>
<li class="chapter" data-level="35" data-path="data-assimilation-with-dart.html"><a href="data-assimilation-with-dart.html"><i class="fa fa-check"></i><b>35</b> Data assimilation with DART</a></li>
<li class="part"><span><b>VII Demos and Vignettes</b></span></li>
<li class="chapter" data-level="36" data-path="pecan-hands-on-demo-01-basic-run.html"><a href="pecan-hands-on-demo-01-basic-run.html"><i class="fa fa-check"></i><b>36</b> PEcAn Hands-On Demo 01: Basic Run</a><ul>
<li class="chapter" data-level="36.1" data-path="pecan-hands-on-demo-01-basic-run.html"><a href="pecan-hands-on-demo-01-basic-run.html#objective"><i class="fa fa-check"></i><b>36.1</b> Objective</a><ul>
<li class="chapter" data-level="36.1.1" data-path="pecan-hands-on-demo-01-basic-run.html"><a href="pecan-hands-on-demo-01-basic-run.html#pecan-url"><i class="fa fa-check"></i><b>36.1.1</b> PEcAn URL</a></li>
</ul></li>
<li class="chapter" data-level="36.2" data-path="pecan-hands-on-demo-01-basic-run.html"><a href="pecan-hands-on-demo-01-basic-run.html#basic-run"><i class="fa fa-check"></i><b>36.2</b> Basic Run</a><ul>
<li class="chapter" data-level="36.2.1" data-path="pecan-hands-on-demo-01-basic-run.html"><a href="pecan-hands-on-demo-01-basic-run.html#start-pecan-1"><i class="fa fa-check"></i><b>36.2.1</b> Start PEcAn:</a></li>
<li class="chapter" data-level="36.2.2" data-path="pecan-hands-on-demo-01-basic-run.html"><a href="pecan-hands-on-demo-01-basic-run.html#site-selection"><i class="fa fa-check"></i><b>36.2.2</b> Site Selection</a></li>
<li class="chapter" data-level="36.2.3" data-path="pecan-hands-on-demo-01-basic-run.html"><a href="pecan-hands-on-demo-01-basic-run.html#host"><i class="fa fa-check"></i><b>36.2.3</b> Host</a></li>
<li class="chapter" data-level="36.2.4" data-path="pecan-hands-on-demo-01-basic-run.html"><a href="pecan-hands-on-demo-01-basic-run.html#mode"><i class="fa fa-check"></i><b>36.2.4</b> Mode</a></li>
<li class="chapter" data-level="36.2.5" data-path="pecan-hands-on-demo-01-basic-run.html"><a href="pecan-hands-on-demo-01-basic-run.html#site-group"><i class="fa fa-check"></i><b>36.2.5</b> Site Group</a></li>
<li class="chapter" data-level="36.2.6" data-path="pecan-hands-on-demo-01-basic-run.html"><a href="pecan-hands-on-demo-01-basic-run.html#conversion"><i class="fa fa-check"></i><b>36.2.6</b> Conversion:</a></li>
<li class="chapter" data-level="36.2.7" data-path="pecan-hands-on-demo-01-basic-run.html"><a href="pecan-hands-on-demo-01-basic-run.html#site"><i class="fa fa-check"></i><b>36.2.7</b> Site:</a></li>
<li class="chapter" data-level="36.2.8" data-path="pecan-hands-on-demo-01-basic-run.html"><a href="pecan-hands-on-demo-01-basic-run.html#model-run-workflow"><i class="fa fa-check"></i><b>36.2.8</b> Model Run Workflow</a></li>
</ul></li>
<li class="chapter" data-level="36.3" data-path="pecan-hands-on-demo-01-basic-run.html"><a href="pecan-hands-on-demo-01-basic-run.html#next-steps"><i class="fa fa-check"></i><b>36.3</b> Next steps</a></li>
</ul></li>
<li class="chapter" data-level="37" data-path="demo-02-sensitivity-and-uncertainty-analysis.html"><a href="demo-02-sensitivity-and-uncertainty-analysis.html"><i class="fa fa-check"></i><b>37</b> Demo 02: Sensitivity and Uncertainty Analysis</a><ul>
<li class="chapter" data-level="37.1" data-path="demo-02-sensitivity-and-uncertainty-analysis.html"><a href="demo-02-sensitivity-and-uncertainty-analysis.html#run-specification-1"><i class="fa fa-check"></i><b>37.1</b> Run Specification</a><ul>
<li class="chapter" data-level="37.1.1" data-path="demo-02-sensitivity-and-uncertainty-analysis.html"><a href="demo-02-sensitivity-and-uncertainty-analysis.html#additional-outputs"><i class="fa fa-check"></i><b>37.1.1</b> Additional Outputs:</a></li>
<li class="chapter" data-level="37.1.2" data-path="demo-02-sensitivity-and-uncertainty-analysis.html"><a href="demo-02-sensitivity-and-uncertainty-analysis.html#run-id"><i class="fa fa-check"></i><b>37.1.2</b> 1. Run ID:</a></li>
<li class="chapter" data-level="37.1.3" data-path="demo-02-sensitivity-and-uncertainty-analysis.html"><a href="demo-02-sensitivity-and-uncertainty-analysis.html#inputs-3"><i class="fa fa-check"></i><b>37.1.3</b> 2. Inputs:</a></li>
<li class="chapter" data-level="37.1.4" data-path="demo-02-sensitivity-and-uncertainty-analysis.html"><a href="demo-02-sensitivity-and-uncertainty-analysis.html#outputs"><i class="fa fa-check"></i><b>37.1.4</b> 3. Outputs:</a></li>
<li class="chapter" data-level="37.1.5" data-path="demo-02-sensitivity-and-uncertainty-analysis.html"><a href="demo-02-sensitivity-and-uncertainty-analysis.html#pfts"><i class="fa fa-check"></i><b>37.1.5</b> 4. PFTs:</a></li>
<li class="chapter" data-level="37.1.6" data-path="demo-02-sensitivity-and-uncertainty-analysis.html"><a href="demo-02-sensitivity-and-uncertainty-analysis.html#pecan-files"><i class="fa fa-check"></i><b>37.1.6</b> PEcAn Files:</a></li>
</ul></li>
<li class="chapter" data-level="37.2" data-path="demo-02-sensitivity-and-uncertainty-analysis.html"><a href="demo-02-sensitivity-and-uncertainty-analysis.html#global-sensitivity-shiny"><i class="fa fa-check"></i><b>37.2</b> Global Sensitivity: Shiny</a><ul>
<li class="chapter" data-level="37.2.1" data-path="demo-02-sensitivity-and-uncertainty-analysis.html"><a href="demo-02-sensitivity-and-uncertainty-analysis.html#next-steps-1"><i class="fa fa-check"></i><b>37.2.1</b> Next Steps</a></li>
<li class="chapter" data-level="37.2.2" data-path="demo-02-sensitivity-and-uncertainty-analysis.html"><a href="demo-02-sensitivity-and-uncertainty-analysis.html#assimilation-by-hand"><i class="fa fa-check"></i><b>37.2.2</b> Assimilation ‘by hand’</a></li>
<li class="chapter" data-level="37.2.3" data-path="demo-02-sensitivity-and-uncertainty-analysis.html"><a href="demo-02-sensitivity-and-uncertainty-analysis.html#mcmc-concepts"><i class="fa fa-check"></i><b>37.2.3</b> MCMC Concepts</a></li>
<li class="chapter" data-level="37.2.4" data-path="demo-02-sensitivity-and-uncertainty-analysis.html"><a href="demo-02-sensitivity-and-uncertainty-analysis.html#more-info-about-tools-analyses-and-specific-tasks"><i class="fa fa-check"></i><b>37.2.4</b> More info about tools, analyses, and specific tasks…</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="38" data-path="pecan-testing-the-sensitivity-analysis-against-observations.html"><a href="pecan-testing-the-sensitivity-analysis-against-observations.html"><i class="fa fa-check"></i><b>38</b> PEcAn: Testing the Sensitivity Analysis Against Observations&quot;</a><ul>
<li class="chapter" data-level="38.0.1" data-path="pecan-testing-the-sensitivity-analysis-against-observations.html"><a href="pecan-testing-the-sensitivity-analysis-against-observations.html#author-ankur-desai"><i class="fa fa-check"></i><b>38.0.1</b> Author: “Ankur Desai”</a></li>
<li class="chapter" data-level="38.1" data-path="pecan-testing-the-sensitivity-analysis-against-observations.html"><a href="pecan-testing-the-sensitivity-analysis-against-observations.html#introduction-3"><i class="fa fa-check"></i><b>38.1</b> Introduction</a></li>
</ul></li>
<li class="chapter" data-level="39" data-path="simple-model-data-comparisons.html"><a href="simple-model-data-comparisons.html"><i class="fa fa-check"></i><b>39</b> Simple Model-Data Comparisons</a><ul>
<li class="chapter" data-level="39.0.1" data-path="simple-model-data-comparisons.html"><a href="simple-model-data-comparisons.html#author-istem-fer-tess-mccabe"><i class="fa fa-check"></i><b>39.0.1</b> Author: Istem Fer, Tess McCabe</a></li>
<li class="chapter" data-level="39.1" data-path="simple-model-data-comparisons.html"><a href="simple-model-data-comparisons.html#starting-rstudio-server"><i class="fa fa-check"></i><b>39.1</b> Starting RStudio Server</a></li>
<li class="chapter" data-level="39.2" data-path="simple-model-data-comparisons.html"><a href="simple-model-data-comparisons.html#read-in-settings-from-an-xml-file"><i class="fa fa-check"></i><b>39.2</b> Read in settings From an XML file</a></li>
<li class="chapter" data-level="39.3" data-path="simple-model-data-comparisons.html"><a href="simple-model-data-comparisons.html#read-in-model-output-from-specific-variables"><i class="fa fa-check"></i><b>39.3</b> Read in model output from specific variables</a></li>
<li class="chapter" data-level="39.4" data-path="simple-model-data-comparisons.html"><a href="simple-model-data-comparisons.html#compare-model-to-flux-observations"><i class="fa fa-check"></i><b>39.4</b> Compare model to flux observations</a></li>
</ul></li>
<li class="chapter" data-level="40" data-path="parameter-data-assimilation.html"><a href="parameter-data-assimilation.html"><i class="fa fa-check"></i><b>40</b> Parameter Data Assimilation</a><ul>
<li class="chapter" data-level="40.1" data-path="parameter-data-assimilation.html"><a href="parameter-data-assimilation.html#objectives"><i class="fa fa-check"></i><b>40.1</b> Objectives</a></li>
<li class="chapter" data-level="40.2" data-path="parameter-data-assimilation.html"><a href="parameter-data-assimilation.html#larger-context"><i class="fa fa-check"></i><b>40.2</b> Larger Context</a></li>
<li class="chapter" data-level="40.3" data-path="parameter-data-assimilation.html"><a href="parameter-data-assimilation.html#connect-to-rstudio"><i class="fa fa-check"></i><b>40.3</b> Connect to Rstudio</a></li>
<li class="chapter" data-level="40.4" data-path="parameter-data-assimilation.html"><a href="parameter-data-assimilation.html#defining-variables"><i class="fa fa-check"></i><b>40.4</b> Defining variables</a></li>
<li class="chapter" data-level="40.5" data-path="parameter-data-assimilation.html"><a href="parameter-data-assimilation.html#initial-ensemble-analysis"><i class="fa fa-check"></i><b>40.5</b> Initial Ensemble Analysis</a><ul>
<li class="chapter" data-level="40.5.1" data-path="parameter-data-assimilation.html"><a href="parameter-data-assimilation.html#questions"><i class="fa fa-check"></i><b>40.5.1</b> Questions:</a></li>
</ul></li>
<li class="chapter" data-level="40.6" data-path="parameter-data-assimilation.html"><a href="parameter-data-assimilation.html#choosing-parameters"><i class="fa fa-check"></i><b>40.6</b> Choosing Parameters</a><ul>
<li class="chapter" data-level="40.6.1" data-path="parameter-data-assimilation.html"><a href="parameter-data-assimilation.html#questions-1"><i class="fa fa-check"></i><b>40.6.1</b> Questions:</a></li>
</ul></li>
<li class="chapter" data-level="40.7" data-path="parameter-data-assimilation.html"><a href="parameter-data-assimilation.html#editing-pecan-settings"><i class="fa fa-check"></i><b>40.7</b> Editing PEcAn settings</a></li>
<li class="chapter" data-level="40.8" data-path="parameter-data-assimilation.html"><a href="parameter-data-assimilation.html#investigating-pecan-function-pda.emulator-optional"><i class="fa fa-check"></i><b>40.8</b> Investigating PEcAn function pda.emulator (optional)</a></li>
<li class="chapter" data-level="40.9" data-path="parameter-data-assimilation.html"><a href="parameter-data-assimilation.html#running-a-demo-pda"><i class="fa fa-check"></i><b>40.9</b> Running a demo PDA</a></li>
<li class="chapter" data-level="40.10" data-path="parameter-data-assimilation.html"><a href="parameter-data-assimilation.html#outputs-from-pecans-parameter-data-assimilation"><i class="fa fa-check"></i><b>40.10</b> Outputs from PEcAn’s Parameter Data Assimilation</a><ul>
<li class="chapter" data-level="40.10.1" data-path="parameter-data-assimilation.html"><a href="parameter-data-assimilation.html#questions-2"><i class="fa fa-check"></i><b>40.10.1</b> Questions:</a></li>
</ul></li>
<li class="chapter" data-level="40.11" data-path="parameter-data-assimilation.html"><a href="parameter-data-assimilation.html#post-pda-analyses"><i class="fa fa-check"></i><b>40.11</b> Post-PDA analyses</a><ul>
<li class="chapter" data-level="40.11.1" data-path="parameter-data-assimilation.html"><a href="parameter-data-assimilation.html#questions-3"><i class="fa fa-check"></i><b>40.11.1</b> Questions:</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="41" data-path="state-variable-data-assimilation.html"><a href="state-variable-data-assimilation.html"><i class="fa fa-check"></i><b>41</b> State-Variable Data Assimilation</a><ul>
<li class="chapter" data-level="41.1" data-path="state-variable-data-assimilation.html"><a href="state-variable-data-assimilation.html#objectives-1"><i class="fa fa-check"></i><b>41.1</b> Objectives:</a></li>
<li class="chapter" data-level="41.2" data-path="state-variable-data-assimilation.html"><a href="state-variable-data-assimilation.html#overview-1"><i class="fa fa-check"></i><b>41.2</b> Overview:</a><ul>
<li class="chapter" data-level="41.2.1" data-path="state-variable-data-assimilation.html"><a href="state-variable-data-assimilation.html#initial-run"><i class="fa fa-check"></i><b>41.2.1</b> Initial Run</a></li>
<li class="chapter" data-level="41.2.2" data-path="state-variable-data-assimilation.html"><a href="state-variable-data-assimilation.html#settings-1"><i class="fa fa-check"></i><b>41.2.2</b> Settings:</a></li>
<li class="chapter" data-level="41.2.3" data-path="state-variable-data-assimilation.html"><a href="state-variable-data-assimilation.html#loading-data-1"><i class="fa fa-check"></i><b>41.2.3</b> Loading data</a></li>
<li class="chapter" data-level="41.2.4" data-path="state-variable-data-assimilation.html"><a href="state-variable-data-assimilation.html#estimating-tree-level-data-uncertainties"><i class="fa fa-check"></i><b>41.2.4</b> Estimating tree-level data uncertainties</a></li>
</ul></li>
<li class="chapter" data-level="41.3" data-path="state-variable-data-assimilation.html"><a href="state-variable-data-assimilation.html#allometric-equations"><i class="fa fa-check"></i><b>41.3</b> Allometric equations</a></li>
<li class="chapter" data-level="41.4" data-path="state-variable-data-assimilation.html"><a href="state-variable-data-assimilation.html#estimate-stand-level-npp"><i class="fa fa-check"></i><b>41.4</b> Estimate stand-level NPP</a></li>
<li class="chapter" data-level="41.5" data-path="state-variable-data-assimilation.html"><a href="state-variable-data-assimilation.html#build-initial-conditions"><i class="fa fa-check"></i><b>41.5</b> Build Initial Conditions</a></li>
<li class="chapter" data-level="41.6" data-path="state-variable-data-assimilation.html"><a href="state-variable-data-assimilation.html#load-priors"><i class="fa fa-check"></i><b>41.6</b> Load Priors</a></li>
<li class="chapter" data-level="41.7" data-path="state-variable-data-assimilation.html"><a href="state-variable-data-assimilation.html#ensemble-kalman-filter"><i class="fa fa-check"></i><b>41.7</b> Ensemble Kalman Filter</a></li>
<li class="chapter" data-level="41.8" data-path="state-variable-data-assimilation.html"><a href="state-variable-data-assimilation.html#finishing-up"><i class="fa fa-check"></i><b>41.8</b> Finishing up</a></li>
</ul></li>
<li class="chapter" data-level="42" data-path="data-assimilation-concepts.html"><a href="data-assimilation-concepts.html"><i class="fa fa-check"></i><b>42</b> Data Assimilation Concepts&quot;</a><ul>
<li class="chapter" data-level="42.1" data-path="data-assimilation-concepts.html"><a href="data-assimilation-concepts.html#fitting-the-model"><i class="fa fa-check"></i><b>42.1</b> Fitting the model</a></li>
<li class="chapter" data-level="42.2" data-path="data-assimilation-concepts.html"><a href="data-assimilation-concepts.html#whats-going-on"><i class="fa fa-check"></i><b>42.2</b> What’s going on</a></li>
<li class="chapter" data-level="42.3" data-path="data-assimilation-concepts.html"><a href="data-assimilation-concepts.html#evaluating-the-model-output"><i class="fa fa-check"></i><b>42.3</b> Evaluating the model output</a></li>
<li class="chapter" data-level="42.4" data-path="data-assimilation-concepts.html"><a href="data-assimilation-concepts.html#additional-information"><i class="fa fa-check"></i><b>42.4</b> Additional information</a></li>
<li class="chapter" data-level="42.5" data-path="data-assimilation-concepts.html"><a href="data-assimilation-concepts.html#citations"><i class="fa fa-check"></i><b>42.5</b> Citations</a></li>
</ul></li>
<li class="chapter" data-level="43" data-path="pecanapi-vignette.html"><a href="pecanapi-vignette.html"><i class="fa fa-check"></i><b>43</b> Introduction to the PEcAn R API</a><ul>
<li class="chapter" data-level="43.1" data-path="pecanapi-vignette.html"><a href="pecanapi-vignette.html#introduction-4"><i class="fa fa-check"></i><b>43.1</b> Introduction</a></li>
<li class="chapter" data-level="43.2" data-path="pecanapi-vignette.html"><a href="pecanapi-vignette.html#pecanapi-setup"><i class="fa fa-check"></i><b>43.2</b> Initial setup</a></li>
<li class="chapter" data-level="43.3" data-path="pecanapi-vignette.html"><a href="pecanapi-vignette.html#pecanapi-workflow"><i class="fa fa-check"></i><b>43.3</b> Registering a workflow with the database</a></li>
<li class="chapter" data-level="43.4" data-path="pecanapi-vignette.html"><a href="pecanapi-vignette.html#pecanapi-settings"><i class="fa fa-check"></i><b>43.4</b> Building a settings object</a></li>
<li class="chapter" data-level="43.5" data-path="pecanapi-vignette.html"><a href="pecanapi-vignette.html#pecanapi-submit"><i class="fa fa-check"></i><b>43.5</b> Submitting a run</a></li>
<li class="chapter" data-level="43.6" data-path="pecanapi-vignette.html"><a href="pecanapi-vignette.html#pecanapi-output"><i class="fa fa-check"></i><b>43.6</b> Processing output</a></li>
</ul></li>
<li class="part"><span><b>VIII Appendix</b></span></li>
<li class="chapter" data-level="44" data-path="faq.html"><a href="faq.html"><i class="fa fa-check"></i><b>44</b> FAQ</a></li>
</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">The Predictive Ecosystem Analyzer</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="pecan-setup" class="section level1">
<h1><span class="header-section-number">21</span> PEcAn Setup</h1>
<div id="installing-the-pecan-vm" class="section level2">
<h2><span class="header-section-number">21.1</span> Installing the PEcAn VM</h2>
<p>We recommend that new users download the <a href="http://opensource.ncsa.illinois.edu/projects/artifacts.php?key=PECAN">PEcAn VM</a> instead of creating from one from scratch.</p>
<p>Additional Setup
- AWS
- Shiny
- Thredds</p>

</div>
<div id="pecan-manual-setup" class="section level2">
<h2><span class="header-section-number">21.2</span> Install PEcAn by hand</h2>
<p>These instructions are provided to document how to install PEcAn on different Operating Systems.</p>
<ul>
<li>Prerequisites</li>
<li>OS specific installations</li>
<li>Install BETY</li>
<li>Install models</li>
<li>Clone and Compile PEcAn source code</li>
<li>Test Run</li>
</ul>

<div id="installation-prerequisites" class="section level3">
<h3><span class="header-section-number">21.2.1</span> Installation Prerequisites</h3>
<p>Please review the following topics before starting PEcAn installation</p>
<ul>
<li><a href="pecan-setup.html#creating-a-virtual-machine">VM Creation</a></li>
<li><a href="pecan-setup.html#installing-data-for-pecan">Installing PEcAn Data</a></li>
<li><a href="pecan-remote.html#pecan-remote">Enabling Remote Execution</a></li>
</ul>

<div id="creating-a-virtual-machine" class="section level4">
<h4><span class="header-section-number">21.2.1.1</span> Creating a Virtual Machine</h4>
<p>First create virtual machine</p>
<pre><code># ----------------------------------------------------------------------
# CREATE VM USING FOLLOWING:
# - VM NAME  = PEcAn
# - CPU      = 2
# - MEMORY   = 2GB 
# - DISK     = 100GB
# - HOSTNAME = pecan
# - FULLNAME = PEcAn Demo User
# - USERNAME = xxxxxxx
# - PASSWORD = yyyyyyy
# - PACKAGE  = openssh
# ----------------------------------------------------------------------</code></pre>
<p>To enable tunnels run the following on the host machine:</p>
<pre class="sourceCode bash"><code class="sourceCode bash"><span class="ex">VBoxManage</span> modifyvm <span class="st">&quot;PEcAn&quot;</span> --natpf1 <span class="st">&quot;ssh,tcp,,6422,,22&quot;</span>
<span class="ex">VBoxManage</span> modifyvm <span class="st">&quot;PEcAn&quot;</span> --natpf1 <span class="st">&quot;www,tcp,,6480,,80&quot;</span></code></pre>
<p>Make sure machine is up to date.</p>
<p>UBUNTU</p>
<pre class="sourceCode bash"><code class="sourceCode bash"><span class="fu">sudo</span> apt-get update
<span class="fu">sudo</span> apt-get -y dist-upgrade
<span class="fu">sudo</span> reboot</code></pre>
<p>CENTOS/REDHAT</p>
<pre class="sourceCode bash"><code class="sourceCode bash"><span class="fu">sudo</span> yum -y update
<span class="fu">sudo</span> reboot</code></pre>
<p>Install compiler and other packages needed and install the tools.</p>
<p>UBUNTU</p>
<pre class="sourceCode bash"><code class="sourceCode bash"><span class="fu">sudo</span> apt-get -y install build-essential linux-headers-server dkms</code></pre>
<p>CENTOS/REDHAT</p>
<pre class="sourceCode bash"><code class="sourceCode bash"><span class="fu">sudo</span> yum -y groupinstall <span class="st">&quot;Development Tools&quot;</span>
<span class="fu">sudo</span> yum -y install wget</code></pre>
<p>Install Virtual Box additions for better integration</p>
<pre class="sourceCode bash"><code class="sourceCode bash"><span class="fu">sudo</span> mount /dev/cdrom /mnt
<span class="fu">sudo</span> /mnt/VBoxLinuxAdditions.run
<span class="fu">sudo</span> umount /mnt
<span class="fu">sudo</span> usermod -a -G vboxsf carya</code></pre>
<p><strong>Finishing up the machine</strong></p>
<p><strong>Add a message to the login:</strong></p>
<pre class="sourceCode bash"><code class="sourceCode bash"><span class="fu">sudo</span> -s
<span class="bu">export</span> <span class="va">PORT=$(</span> <span class="fu">hostname</span> <span class="kw">|</span> <span class="fu">sed</span> <span class="st">&#39;s/pecan//&#39;</span> <span class="va">)</span>
<span class="fu">cat</span> <span class="op">&gt;</span> /etc/motd <span class="op">&lt;&lt; EOF</span>
PEcAn version 1.4.3

For more information about:
Pecan    - http://pecanproject.org
BETY     - http://www.betydb.org

For a list of all models currently navigate [here](../users_guide/basic_users_guide/models_table.md)


You can access this system using a webbrowser at
 http://&lt;hosting machine&gt;:<span class="va">${PORT}</span>80/
or using SSH at
 ssh -l carya -p <span class="va">${PORT}</span>22 &lt;hosting machine&gt;
where &lt;hosting machine&gt; is the machine where the VM runs on.
<span class="op">EOF</span>
<span class="bu">exit</span></code></pre>
<p><strong>Finishing up</strong></p>
<p>Script to clean the VM and remove as much as possible history <a href="http://isda.ncsa.uiuc.edu/~kooper/EBI/cleanvm.sh">cleanvm.sh</a></p>
<pre class="sourceCode bash"><code class="sourceCode bash"><span class="fu">wget</span> -O ~/cleanvm.sh http://isda.ncsa.uiuc.edu/~kooper/EBI/cleanvm.sh
<span class="fu">chmod</span> 755 ~/cleanvm.sh</code></pre>
<p>Make sure machine has SSH keys <a href="http://isda.ncsa.illinois.edu/~kooper/EBI/rc.local">rc.local</a></p>
<pre class="sourceCode bash"><code class="sourceCode bash"><span class="fu">sudo</span> wget -O /etc/rc.local http://isda.ncsa.illinois.edu/~kooper/EBI/rc.local</code></pre>
<p>Change the resolution of the console</p>
<pre class="sourceCode bash"><code class="sourceCode bash"><span class="fu">sudo</span> sed -i -e <span class="st">&#39;s/#GRUB_GFXMODE=640x480/GRUB_GFXMODE=1024x768/&#39;</span> /etc/default/grub
<span class="fu">sudo</span> update-grub</code></pre>
<p>Once all done, stop the virtual machine</p>
<pre class="sourceCode bash"><code class="sourceCode bash"><span class="bu">history</span> -c <span class="kw">&amp;&amp;</span> <span class="va">${HOME}</span><span class="ex">/cleanvm.sh</span></code></pre>

</div>
<div id="installing-data-for-pecan" class="section level4">
<h4><span class="header-section-number">21.2.1.2</span> Installing data for PEcAn</h4>
<p>PEcAn assumes some of the data to be installed on the machine. This page will describe how to install this data.</p>
<div id="site-information" class="section level5">
<h5><span class="header-section-number">21.2.1.2.1</span> Site Information</h5>
<p>These are large-ish files that contain data used with ED2 and SIPNET</p>
<pre class="sourceCode bash"><code class="sourceCode bash"><span class="fu">rm</span> -rf sites
<span class="ex">curl</span> -o sites.tgz http://isda.ncsa.illinois.edu/~kooper/EBI/sites.tgz
<span class="fu">tar</span> zxf sites.tgz
<span class="fu">sed</span> -i -e <span class="st">&quot;s#/home/kooper/Projects/EBI#</span><span class="va">${PWD}</span><span class="st">#&quot;</span> sites/*/ED_MET_DRIVER_HEADER
<span class="fu">rm</span> sites.tgz

<span class="fu">rm</span> -rf inputs
<span class="ex">curl</span> -o inputs.tgz http://isda.ncsa.illinois.edu/~kooper/EBI/inputs.tgz
<span class="fu">tar</span> zxf inputs.tgz
<span class="fu">rm</span> inputs.tgz</code></pre>
</div>
<div id="fia-database" class="section level5">
<h5><span class="header-section-number">21.2.1.2.2</span> FIA database</h5>
<p>FIA database is large and will add an extra 10GB to the installation.</p>
<pre class="sourceCode bash"><code class="sourceCode bash"><span class="co"># download and install database</span>
<span class="ex">curl</span> -o fia5data.psql.gz http://isda.ncsa.illinois.edu/~kooper/EBI/fia5data.psql.gz
<span class="ex">dropdb</span> --if-exists fia5data
<span class="ex">createdb</span> -O bety fia5data
<span class="fu">gunzip</span> fia5data.psql.gz
<span class="ex">psql</span> -U bety -d fia5data <span class="op">&lt;</span> fia5data.psql
<span class="fu">rm</span> fia5data.psql</code></pre>
</div>
<div id="flux-camp" class="section level5">
<h5><span class="header-section-number">21.2.1.2.3</span> Flux Camp</h5>
<p>Following will install the data for flux camp (as well as the demo script for PEcAn).</p>
<pre class="sourceCode bash"><code class="sourceCode bash"><span class="bu">cd</span>
<span class="ex">curl</span> -o plot.tgz http://isda.ncsa.illinois.edu/~kooper/EBI/plot.tgz
<span class="fu">tar</span> zxf plot.tgz
<span class="fu">rm</span> plot.tgz</code></pre>
</div>
<div id="harvard-for-ed-tutorial" class="section level5">
<h5><span class="header-section-number">21.2.1.2.4</span> Harvard for ED tutorial</h5>
<p>Add datasets and runs</p>
<pre class="sourceCode bash"><code class="sourceCode bash"><span class="ex">curl</span> -o Santarem_Km83.zip http://isda.ncsa.illinois.edu/~kooper/EBI/Santarem_Km83.zip
<span class="fu">unzip</span> -d sites Santarem_Km83.zip
<span class="fu">sed</span> -i -e <span class="st">&quot;s#/home/pecan#</span><span class="va">${HOME}</span><span class="st">#&quot;</span> sites/Santarem_Km83/ED_MET_DRIVER_HEADER
<span class="fu">rm</span> Santarem_Km83.zip

<span class="ex">curl</span> -o testrun.s83.zip http://isda.ncsa.illinois.edu/~kooper/EBI/testrun.s83.zip
<span class="fu">unzip</span> testrun.s83.zip
<span class="fu">sed</span> -i -e <span class="st">&quot;s#/home/pecan#</span><span class="va">${HOME}</span><span class="st">#&quot;</span> testrun.s83/ED2IN
<span class="fu">rm</span> testrun.s83.zip

<span class="ex">curl</span> -o ed2ws.harvard.tgz http://isda.ncsa.illinois.edu/~kooper/EBI/ed2ws.harvard.tgz
<span class="fu">tar</span> zxf ed2ws.harvard.tgz
<span class="fu">mkdir</span> ed2ws.harvard/analy ed2ws.harvard/histo
<span class="fu">sed</span> -i -e <span class="st">&quot;s#/home/pecan#</span><span class="va">${HOME}</span><span class="st">#g&quot;</span> ed2ws.harvard/input_harvard/met_driver/HF_MET_HEADER ed2ws.harvard/ED2IN ed2ws.harvard/*.r
<span class="fu">rm</span> ed2ws.harvard.tgz

<span class="ex">curl</span> -o testrun.PDG.zip http://isda.ncsa.illinois.edu/~kooper/EBI/testrun.PDG.zip
<span class="fu">unzip</span> testrun.PDG.zip
<span class="fu">sed</span> -i -e <span class="st">&quot;s#/home/pecan#</span><span class="va">${HOME}</span><span class="st">#&quot;</span> testrun.PDG/Met/PDG_MET_DRIVER testrun.PDG/Template/ED2IN
<span class="fu">sed</span> -i -e <span class="st">&#39;s#/n/scratch2/moorcroft_lab/kzhang/PDG/WFire_Pecan/##&#39;</span> testrun.PDG/Template/ED2IN
<span class="fu">rm</span> testrun.PDG.zip

<span class="ex">curl</span> -o create_met_driver.tar.gz http://isda.ncsa.illinois.edu/~kooper/EBI/create_met_driver.tar.gz
<span class="fu">tar</span> zxf create_met_driver.tar.gz
<span class="fu">rm</span> create_met_driver.tar.gz</code></pre>

</div>
</div>
</div>
<div id="os-specific-installations" class="section level3">
<h3><span class="header-section-number">21.2.2</span> OS Specific Installations</h3>
<ul>
<li><a href="pecan-setup.html#ubuntu-1">Ubuntu</a></li>
<li><a href="pecan-setup.html#centosredhat">CentOS</a></li>
<li><a href="pecan-setup.html#mac-osx">OSX</a></li>
<li><a href="pecan-setup.html#centos-rhel">RedHat</a> Check this vs. CentOS … ?</li>
</ul>

<div id="ubuntu" class="section level4">
<h4><span class="header-section-number">21.2.2.1</span> Ubuntu</h4>
<p>These are specific notes for installing PEcAn on Ubuntu (14.04) and will be referenced from the main <a href="Installing-PEcAn">installing PEcAn</a> page. You will at least need to install the build environment and Postgres sections. If you want to access the database/PEcAn using a web browser you will need to install Apache. To access the database using the BETY interface, you will need to have Ruby installed.</p>
<p>This document also contains information on how to install the Rstudio server edition as well as any other packages that can be helpful.</p>
<div id="install-build-environment" class="section level5">
<h5><span class="header-section-number">21.2.2.1.1</span> Install build environment</h5>
<pre class="sourceCode bash"><code class="sourceCode bash"><span class="fu">sudo</span> -s

<span class="co"># point to latest R</span>
<span class="bu">echo</span> <span class="st">&quot;deb http://cran.rstudio.com/bin/linux/ubuntu </span><span class="kw">`</span><span class="ex">lsb_release</span> -s -c<span class="kw">`</span><span class="st">/&quot;</span> <span class="op">&gt;</span> /etc/apt/sources.list.d/R.list
<span class="ex">apt-key</span> adv --keyserver keyserver.ubuntu.com --recv-keys E084DAB9

<span class="co"># update package list</span>
<span class="ex">apt-get</span> -y update

<span class="co"># install packages needed for PEcAn</span>
<span class="ex">apt-get</span> -y install build-essential gfortran git r-base-core r-base-dev jags liblapack-dev libnetcdf-dev netcdf-bin bc libcurl4-gnutls-dev curl udunits-bin libudunits2-dev libgmp-dev python-dev libgdal1-dev libproj-dev expect

<span class="co"># install packages needed for ED2</span>
<span class="ex">apt-get</span> -y install openmpi-bin libopenmpi-dev

<span class="co"># install requirements for DALEC</span>
<span class="ex">apt-get</span> -y install libgsl0-dev

<span class="co"># install packages for webserver</span>
<span class="ex">apt-get</span> -y install apache2 libapache2-mod-php5 php5

<span class="co"># install packages to compile docs</span>
<span class="ex">apt-get</span> -y install texinfo texlive-latex-base texlive-latex-extra texlive-fonts-recommended

<span class="co"># install devtools</span>
<span class="bu">echo</span> <span class="st">&#39;install.packages(&quot;devtools&quot;, repos=&quot;http://cran.rstudio.com/&quot;)&#39;</span> <span class="kw">|</span> <span class="ex">R</span> --vanilla

<span class="co"># done as root</span>
<span class="bu">exit</span></code></pre>
</div>
<div id="install-postgres" class="section level5">
<h5><span class="header-section-number">21.2.2.1.2</span> Install Postgres</h5>
<p>Documentation: <a href="http://trac.osgeo.org/postgis/wiki/UsersWikiPostGIS21UbuntuPGSQL93Apt" class="uri">http://trac.osgeo.org/postgis/wiki/UsersWikiPostGIS21UbuntuPGSQL93Apt</a></p>
<pre class="sourceCode bash"><code class="sourceCode bash"><span class="fu">sudo</span> -s

<span class="co"># point to latest PostgreSQL</span>
<span class="bu">echo</span> <span class="st">&quot;deb http://apt.postgresql.org/pub/repos/apt </span><span class="kw">`</span><span class="ex">lsb_release</span> -s -c<span class="kw">`</span><span class="st">-pgdg main&quot;</span> <span class="op">&gt;</span> /etc/apt/sources.list.d/pgdg.list
<span class="fu">wget</span> --quiet -O - https://www.postgresql.org/media/keys/ACCC4CF8.asc <span class="kw">|</span> <span class="ex">apt-key</span> add -

<span class="co"># update package list</span>
<span class="ex">apt-get</span> -y update

<span class="co"># install packages for postgresql (using a newer version than default)</span>
<span class="ex">apt-get</span> -y install libdbd-pgsql postgresql postgresql-client libpq-dev postgresql-9.4-postgis-2.1 postgresql-9.4-postgis-2.1-scripts

<span class="co"># install following if you want to run pecan through the web</span>
<span class="ex">apt-get</span> -y install php5-pgsql

<span class="co"># enable bety user to login with trust by adding the following lines after</span>
<span class="co"># the ability of postgres user to login in /etc/postgresql/9.4/main/pg_hba.conf</span>
<span class="bu">local</span>   <span class="va">all</span>             <span class="va">bety</span>                                    <span class="va">trust</span>
<span class="ex">host</span>    all             bety            127.0.0.1/32            trust
<span class="ex">host</span>    all             bety            ::1/128                 trust

<span class="co"># Once done restart postgresql</span>
<span class="ex">/etc/init.d/postgresql</span> restart

<span class="bu">exit</span></code></pre>
<p>To install the BETYdb database ..
##### Apache Configuration PEcAn</p>
<pre class="sourceCode bash"><code class="sourceCode bash"><span class="co"># become root</span>
<span class="fu">sudo</span> -s

<span class="co"># get index page</span>
<span class="fu">rm</span> /var/www/html/index.html
<span class="fu">ln</span> -s <span class="va">${HOME}</span>/pecan/documentation/index_vm.html /var/www/html/index.html

<span class="co"># setup a redirect</span>
<span class="fu">cat</span> <span class="op">&gt;</span> /etc/apache2/conf-available/pecan.conf <span class="op">&lt;&lt; EOF</span>
Alias /pecan <span class="va">${HOME}</span>/pecan/web
&lt;Directory <span class="va">${HOME}</span>/pecan/web&gt;
  DirectoryIndex index.php
  Options +ExecCGI
  Require all granted
&lt;/Directory&gt;
<span class="op">EOF</span>
<span class="ex">a2enconf</span> pecan
<span class="ex">/etc/init.d/apache2</span> restart

<span class="co"># done as root</span>
<span class="bu">exit</span></code></pre>
</div>
<div id="apache-configuration-bety" class="section level5">
<h5><span class="header-section-number">21.2.2.1.3</span> Apache Configuration BETY</h5>
<pre class="sourceCode bash"><code class="sourceCode bash"><span class="fu">sudo</span> -s

<span class="co"># install all ruby related packages</span>
<span class="ex">apt-get</span> -y install ruby2.0 ruby2.0-dev libapache2-mod-passenger 

<span class="co"># link static content</span>
<span class="fu">ln</span> -s <span class="va">${HOME}</span>/bety/public /var/www/html/bety

<span class="co"># setup a redirect</span>
<span class="fu">cat</span> <span class="op">&gt;</span> /etc/apache2/conf-available/bety.conf <span class="op">&lt;&lt; EOF</span>
RailsEnv production
RailsBaseURI /bety
PassengerRuby /usr/bin/ruby2.0
&lt;Directory /var/www/html/bety&gt;
  Options +FollowSymLinks
  Require all granted
&lt;/Directory&gt;
<span class="op">EOF</span>
<span class="ex">a2enconf</span> bety
<span class="ex">/etc/init.d/apache2</span> restart</code></pre>
</div>
<div id="rstudio-server" class="section level5">
<h5><span class="header-section-number">21.2.2.1.4</span> Rstudio-server</h5>
<p><em>NOTE This will allow anybody to login to the machine through the rstudio interface and run any arbitrary code. The login used however is the same as the system login/password.</em></p>
<pre class="sourceCode bash"><code class="sourceCode bash"><span class="fu">wget</span> http://download2.rstudio.org/rstudio-server-0.98.1103-amd64.deb</code></pre>
<pre class="sourceCode bash"><code class="sourceCode bash"><span class="co"># bceome root</span>
<span class="fu">sudo</span> -s

<span class="co"># install required packages</span>
<span class="ex">apt-get</span> -y install libapparmor1 apparmor-utils libssl0.9.8

<span class="co"># install rstudio</span>
<span class="ex">dpkg</span> -i rstudio-server-*
<span class="fu">rm</span> rstudio-server-*
<span class="bu">echo</span> <span class="st">&quot;www-address=127.0.0.1&quot;</span> <span class="op">&gt;&gt;</span> /etc/rstudio/rserver.conf
<span class="bu">echo</span> <span class="st">&quot;r-libs-user=~/R/library&quot;</span> <span class="op">&gt;&gt;</span> /etc/rstudio/rsession.conf
<span class="ex">rstudio-server</span> restart

<span class="co"># setup rstudio forwarding in apache</span>
<span class="ex">a2enmod</span> proxy_http
<span class="fu">cat</span> <span class="op">&gt;</span> /etc/apache2/conf-available/rstudio.conf <span class="op">&lt;&lt; EOF</span>
ProxyPass        /rstudio/ http://localhost:8787/
ProxyPassReverse /rstudio/ http://localhost:8787/
RedirectMatch permanent ^/rstudio$ /rstudio/
<span class="op">EOF</span>
<span class="ex">a2enconf</span> rstudio
<span class="ex">/etc/init.d/apache2</span> restart

<span class="co"># all done, exit root</span>
<span class="bu">exit</span></code></pre>
</div>
<div id="additional-packages" class="section level5">
<h5><span class="header-section-number">21.2.2.1.5</span> Additional packages</h5>
<p>HDF5 Tools, netcdf, GDB and emacs</p>
<pre class="sourceCode bash"><code class="sourceCode bash"><span class="fu">sudo</span> apt-get -y install hdf5-tools cdo nco netcdf-bin ncview gdb emacs ess nedit</code></pre>

</div>
</div>
<div id="centosredhat" class="section level4">
<h4><span class="header-section-number">21.2.2.2</span> CentOS/RedHat</h4>
<p>These are specific notes for installing PEcAn on CentOS (7) and will be referenced from the main <a href="Installing-PEcAn">installing PEcAn</a> page. You will at least need to install the build environment and Postgres sections. If you want to access the database/PEcAn using a web browser you will need to install Apache. To access the database using the BETY interface, you will need to have Ruby installed.</p>
<p>This document also contains information on how to install the Rstudio server edition as well as any other packages that can be helpful.</p>
<div id="install-build-environment-1" class="section level5">
<h5><span class="header-section-number">21.2.2.2.1</span> Install build environment</h5>
<pre class="sourceCode bash"><code class="sourceCode bash"><span class="fu">sudo</span> -s

<span class="co"># install packages needed for PEcAn</span>
<span class="ex">yum</span> -y groupinstall <span class="st">&#39;Development Tools&#39;</span> 
<span class="ex">yum</span> -y install git netcdf-fortran-openmpi-devel R bc curl libxml2-devel openssl-devel ed  udunits2 udunits2-devel netcdf netcdf-devel gmp-devel python-devel gdal-devel proj-devel proj-epsg expect

<span class="co"># jags</span>
<span class="ex">yum</span> -y install http://download.opensuse.org/repositories/home:/cornell_vrdc/CentOS_7/x86_64/jags3-3.4.0-54.1.x86_64.rpm
<span class="ex">yum</span> -y install http://download.opensuse.org/repositories/home:/cornell_vrdc/CentOS_7/x86_64/jags3-devel-3.4.0-54.1.x86_64.rpm

<span class="co"># fix include folder for udunits2</span>
<span class="fu">ln</span> -s /usr/include/udunits2/* /usr/include/

<span class="co"># install packages needed for ED2</span>
<span class="ex">yum</span> -y install environment-modules openmpi-bin libopenmpi-dev

<span class="co"># install requirements for DALEC</span>
<span class="ex">yum</span> -y install gsl-devel

<span class="co"># install packages for webserver</span>
<span class="ex">yum</span> -y install httpd php
<span class="ex">systemctl</span> enable httpd
<span class="ex">systemctl</span> start httpd
<span class="ex">firewall-cmd</span> --zone=public --add-port=80/tcp --permanent
<span class="ex">firewall-cmd</span> --reload

<span class="co"># install packages to compile docs</span>
<span class="co">#apt-get -y install texinfo texlive-latex-base texlive-latex-extra texlive-fonts-recommended</span>

<span class="co"># install devtools</span>
<span class="bu">echo</span> <span class="st">&#39;install.packages(&quot;devtools&quot;, repos=&quot;http://cran.rstudio.com/&quot;)&#39;</span> <span class="kw">|</span> <span class="ex">R</span> --vanilla

<span class="co"># done as root</span>
<span class="bu">exit</span>

<span class="bu">echo</span> <span class="st">&quot;module load mpi&quot;</span> <span class="op">&gt;&gt;</span> ~/.bashrc
<span class="ex">module</span> load mpi</code></pre>
</div>
<div id="install-postgres-1" class="section level5">
<h5><span class="header-section-number">21.2.2.2.2</span> Install Postgres</h5>
<pre class="sourceCode bash"><code class="sourceCode bash"><span class="fu">sudo</span> -s

<span class="co"># point to latest PostgreSQL</span>
<span class="ex">yum</span> install -y epel-release 
<span class="ex">yum</span> -y install http://yum.postgresql.org/9.4/redhat/rhel-7-x86_64/pgdg-centos94-9.4-1.noarch.rpm

<span class="co"># install packages for postgresql (using a newer version than default)</span>
<span class="ex">yum</span> -y install postgresql94-server postgresql94-contrib postgis2_94 postgresql94-devel

<span class="co"># install following if you want to run pecan through the web</span>
<span class="ex">yum</span> -y install php-pgsql

<span class="co"># enable bety user to login with trust by adding the following lines after</span>
<span class="co"># the ability of postgres user to login in /var/lib/pgsql/9.4/data/pg_hba.conf</span>
<span class="bu">local</span>   <span class="va">all</span>             <span class="va">bety</span>                                    <span class="va">trust</span>
<span class="ex">host</span>    all             bety            127.0.0.1/32            trust
<span class="ex">host</span>    all             bety            ::1/128                 trust

<span class="co"># Create database</span>
<span class="ex">/usr/pgsql-9.4/bin/postgresql94-setup</span> initdb

<span class="co"># Enable postgres</span>
<span class="ex">systemctl</span> enable postgresql-9.4
<span class="ex">systemctl</span> start postgresql-9.4

<span class="bu">exit</span></code></pre>
</div>
<div id="apache-configuration-pecan" class="section level5">
<h5><span class="header-section-number">21.2.2.2.3</span> Apache Configuration PEcAn</h5>
<pre class="sourceCode bash"><code class="sourceCode bash"><span class="co"># become root</span>
<span class="fu">sudo</span> -s

<span class="co"># get index page</span>
<span class="fu">rm</span> /var/www/html/index.html
<span class="fu">ln</span> -s /home/carya/pecan/documentation/index_vm.html /var/www/html/index.html

<span class="co"># fix selinux context (does this need to be done after PEcAn is installed?)</span>
<span class="ex">chcon</span> -R -t httpd_sys_content_t /home/carya/pecan /home/carya/output

<span class="co"># setup a redirect</span>
<span class="fu">cat</span> <span class="op">&gt;</span> /etc/httpd/conf.d/pecan.conf <span class="op">&lt;&lt; EOF</span>
Alias /pecan /home/carya/pecan/web
&lt;Directory /home/carya/pecan/web&gt;
  DirectoryIndex index.php
  Options +ExecCGI
  Require all granted
&lt;/Directory&gt;
<span class="op">EOF</span>
<span class="ex">a2enconf</span> pecan
<span class="ex">/etc/init.d/apache2</span> restart

<span class="co"># done as root</span>
<span class="bu">exit</span></code></pre>
</div>
<div id="apache-configuration-bety-1" class="section level5">
<h5><span class="header-section-number">21.2.2.2.4</span> Apache Configuration BETY</h5>
<pre class="sourceCode bash"><code class="sourceCode bash"><span class="fu">sudo</span> -s

<span class="co"># install all ruby related packages</span>
<span class="fu">sudo</span> curl --fail -sSLo /etc/yum.repos.d/passenger.repo https://oss-binaries.phusionpassenger.com/yum/definitions/el-passenger.repo
<span class="ex">yum</span> -y install ruby ruby-devel mod_passenger

<span class="co"># link static content</span>
<span class="fu">ln</span> -s /home/carya/bety/public /var/www/html/bety

<span class="co"># fix GemFile</span>
<span class="bu">echo</span> <span class="st">&#39;gem &quot;test-unit&quot;&#39;</span> <span class="op">&gt;&gt;</span> bety/Gemlile

<span class="co"># fix selinux context (does this need to be done after bety is installed?)</span>
<span class="ex">chcon</span> -R -t httpd_sys_content_t /home/carya/bety

<span class="co"># setup a redirect</span>
<span class="fu">cat</span> <span class="op">&gt;</span> /etc/httpd/conf.d/bety.conf <span class="op">&lt;&lt; EOF</span>
RailsEnv production
RailsBaseURI /bety
PassengerRuby /usr/bin/ruby
&lt;Directory /var/www/html/bety&gt;
  Options +FollowSymLinks
  Require all granted
&lt;/Directory&gt;
<span class="op">EOF</span>
<span class="ex">systemctl</span> restart httpd</code></pre>
</div>
<div id="rstudio-server-1" class="section level5">
<h5><span class="header-section-number">21.2.2.2.5</span> Rstudio-server</h5>
<p>NEED FIXING</p>
<p><em>NOTE This will allow anybody to login to the machine through the rstudio interface and run any arbitrary code. The login used however is the same as the system login/password.</em></p>
<pre class="sourceCode bash"><code class="sourceCode bash"><span class="fu">wget</span> http://download2.rstudio.org/rstudio-server-0.98.1103-amd64.deb</code></pre>
<pre class="sourceCode bash"><code class="sourceCode bash"><span class="co"># bceome root</span>
<span class="fu">sudo</span> -s

<span class="co"># install required packages</span>
<span class="ex">apt-get</span> -y install libapparmor1 apparmor-utils libssl0.9.8

<span class="co"># install rstudio</span>
<span class="ex">dpkg</span> -i rstudio-server-*
<span class="fu">rm</span> rstudio-server-*
<span class="bu">echo</span> <span class="st">&quot;www-address=127.0.0.1&quot;</span> <span class="op">&gt;&gt;</span> /etc/rstudio/rserver.conf
<span class="bu">echo</span> <span class="st">&quot;r-libs-user=~/R/library&quot;</span> <span class="op">&gt;&gt;</span> /etc/rstudio/rsession.conf
<span class="ex">rstudio-server</span> restart

<span class="co"># setup rstudio forwarding in apache</span>
<span class="ex">a2enmod</span> proxy_http
<span class="fu">cat</span> <span class="op">&gt;</span> /etc/apache2/conf-available/rstudio.conf <span class="op">&lt;&lt; EOF</span>
ProxyPass        /rstudio/ http://localhost:8787/
ProxyPassReverse /rstudio/ http://localhost:8787/
RedirectMatch permanent ^/rstudio$ /rstudio/
<span class="op">EOF</span>
<span class="ex">a2enconf</span> rstudio
<span class="ex">/etc/init.d/apache2</span> restart

<span class="co"># all done, exit root</span>
<span class="bu">exit</span></code></pre>
</div>
<div id="additional-packages-1" class="section level5">
<h5><span class="header-section-number">21.2.2.2.6</span> Additional packages</h5>
<p>NEED FIXING</p>
<p>HDF5 Tools, netcdf, GDB and emacs</p>
<pre class="sourceCode bash"><code class="sourceCode bash"><span class="fu">sudo</span> apt-get -y install hdf5-tools cdo nco netcdf-bin ncview gdb emacs ess nedit</code></pre>

</div>
</div>
<div id="mac-osx" class="section level4">
<h4><span class="header-section-number">21.2.2.3</span> Mac OSX</h4>
<p>These are specific notes for installing PEcAn on Mac OSX and will be referenced from the main <a href="Installing-PEcAn">installing PEcAn</a> page. You will at least need to install the build environment and Postgres sections. If you want to access the database/PEcAn using a web browser you will need to install Apache. To access the database using the BETY interface, you will need to have Ruby installed.</p>
<p>This document also contains information on how to install the Rstudio server edition as well as any other packages that can be helpful.</p>
<div id="install-build-environment-2" class="section level5">
<h5><span class="header-section-number">21.2.2.3.1</span> Install build environment</h5>
<pre class="sourceCode bash"><code class="sourceCode bash"><span class="co"># install R</span>
<span class="co"># download from http://cran.r-project.org/bin/macosx/</span>

<span class="co"># install gfortran </span>
<span class="co"># download from http://cran.r-project.org/bin/macosx/tools/</span>

<span class="co"># install OpenMPI</span>
<span class="ex">curl</span> -o openmpi-1.6.3.tar.gz http://www.open-mpi.org/software/ompi/v1.6/downloads/openmpi-1.6.3.tar.gz
<span class="fu">tar</span> zxf openmpi-1.6.3.tar.gz
<span class="bu">cd</span> openmpi-1.6.3
<span class="ex">./configure</span> --prefix=/usr/local
<span class="fu">make</span> all
<span class="fu">sudo</span> make install
<span class="bu">cd</span> ..

<span class="co"># install szip</span>
<span class="ex">curl</span> -o szip-2.1-MacOSX-intel.tar.gz ftp://ftp.hdfgroup.org/lib-external/szip/2.1/bin/szip-2.1-MacOSX-intel.tar.gz
<span class="fu">tar</span> zxf szip-2.1-MacOSX-intel.tar.gz
<span class="fu">sudo</span> mv szip-2.1-MacOSX-intel /usr/local/szip

<span class="co"># install HDF5</span>

<span class="ex">curl</span> -o hdf5-1.8.11.tar.gz http://www.hdfgroup.org/ftp/HDF5/current/src/hdf5-1.8.11.tar.gz
<span class="fu">tar</span> zxf hdf5-1.8.11.tar.gz
<span class="bu">cd</span> hdf5-1.8.11
<span class="fu">sed</span> -i -e <span class="st">&#39;s/-O3/-O0/g&#39;</span> config/gnu-flags 
<span class="ex">./configure</span> --prefix=/usr/local/hdf5 --enable-fortran --enable-cxx --with-szlib=/usr/local/szip
<span class="fu">make</span>
<span class="co"># make check</span>
<span class="fu">sudo</span> make install
<span class="co"># sudo make check-install</span>
<span class="bu">cd</span> ..</code></pre>
</div>
<div id="install-postgres-2" class="section level5">
<h5><span class="header-section-number">21.2.2.3.2</span> Install Postgres</h5>
<p>For those on a Mac I use the following app for postgresql which has
postgis already installed (<a href="http://postgresapp.com/" class="uri">http://postgresapp.com/</a>)</p>
<p>To get postgis run the following commands in psql:</p>
<pre class="sourceCode bash"><code class="sourceCode bash"><span class="co">##### Enable PostGIS (includes raster)</span>
<span class="ex">CREATE</span> EXTENSION postgis<span class="kw">;</span>
<span class="co">##### Enable Topology</span>
<span class="ex">CREATE</span> EXTENSION postgis_topology<span class="kw">;</span>
<span class="co">##### fuzzy matching needed for Tiger</span>
<span class="ex">CREATE</span> EXTENSION fuzzystrmatch<span class="kw">;</span>
<span class="co">##### Enable US Tiger Geocoder</span>
<span class="ex">CREATE</span> EXTENSION postgis_tiger_geocoder<span class="kw">;</span></code></pre>
<p>To check your postgis run the following command again in psql: <code>SELECT PostGIS_full_version();</code></p>
</div>
<div id="additional-installs" class="section level5">
<h5><span class="header-section-number">21.2.2.3.3</span> Additional installs</h5>
<div id="install-jags" class="section level6">
<h6><span class="header-section-number">21.2.2.3.3.1</span> Install JAGS</h6>
<p>Download JAGS from <a href="http://sourceforge.net/projects/mcmc-jags/files/JAGS/3.x/Mac%20OS%20X/JAGS-Mavericks-3.4.0.dmg/download">http://sourceforge.net/projects/mcmc-jags/files/JAGS/3.x/Mac%20OS%20X/JAGS-Mavericks-3.4.0.dmg/download</a></p>
</div>
<div id="install-udunits" class="section level6">
<h6><span class="header-section-number">21.2.2.3.3.2</span> Install udunits</h6>
<p>Installing udunits-2 on MacOSX is done from source.</p>
<ul>
<li>download most recent <a href="http://www.unidata.ucar.edu/downloads/udunits/index.jsp">version of Udunits here</a></li>
<li>instructions for <a href="http://www.unidata.ucar.edu/software/udunits/udunits-2/udunits2.html#Obtain">compiling from source</a></li>
</ul>
<pre class="sourceCode bash"><code class="sourceCode bash"><span class="ex">curl</span> -o udunits-2.1.24.tar.gz ftp://ftp.unidata.ucar.edu/pub/udunits/udunits-2.1.24.tar.gz
<span class="fu">tar</span> zxf udunits-2.1.24.tar.gz
<span class="bu">cd</span> udunits-2.1.24
<span class="ex">./configure</span>
<span class="fu">make</span>
<span class="fu">sudo</span> make install</code></pre>
</div>
</div>
<div id="apache-configuration" class="section level5">
<h5><span class="header-section-number">21.2.2.3.4</span> Apache Configuration</h5>
<p>Mac does not support pdo/postgresql by default. The easiest way to install is use: <a href="http://php-osx.liip.ch/" class="uri">http://php-osx.liip.ch/</a></p>
<p>To enable pecan to run from your webserver.</p>
<pre class="sourceCode bash"><code class="sourceCode bash"><span class="fu">cat</span> <span class="op">&gt;</span> /etc/apache2/others/pecan.conf <span class="op">&lt;&lt; EOF</span>
Alias /pecan <span class="va">${PWD}</span>/pecan/web
&lt;Directory <span class="va">${PWD}</span>/pecan/web&gt;
  DirectoryIndex index.php
  Options +All
  Require all granted
&lt;/Directory&gt;
<span class="op">EOF</span></code></pre>
</div>
<div id="ruby" class="section level5">
<h5><span class="header-section-number">21.2.2.3.5</span> Ruby</h5>
<p>The default version of ruby should work. Or use <a href="https://jewelrybox.unfiniti.com/">JewelryBox</a>.</p>
</div>
<div id="rstudio-server-2" class="section level5">
<h5><span class="header-section-number">21.2.2.3.6</span> Rstudio Server</h5>
<p>For the mac you can download <a href="http://www.rstudio.com/">Rstudio Desktop</a>.</p>

</div>
</div>
<div id="centos-rhel" class="section level4">
<h4><span class="header-section-number">21.2.2.4</span> CentOS / RHEL</h4>
<p>These are specific notes for installing PEcAn on RedHat/CentOS and will be referenced from the main <a href="Installing-PEcAn">installing PEcAn</a> page. You will at least need to install the build environment and Postgres sections. If you want to access the database/PEcAn using a web browser you will need to install Apache. To access the database using the BETY interface, you will need to have Ruby installed.</p>
<p>This document also contains information on how to install the Rstudio server edition as well as any other packages that can be helpful.</p>
<div id="install-build-environment-3" class="section level5">
<h5><span class="header-section-number">21.2.2.4.1</span> Install build environment</h5>
<div id="install-and-configure-postgresql-udunits2-netcdf" class="section level6">
<h6><span class="header-section-number">21.2.2.4.1.1</span> Install and configure PostgreSQL, udunits2, NetCDF</h6>
<p><a href="http://www.postgresql.org/download/linux/redhat/">Reference: centoshelp.org</a></p>
<pre class="sourceCode bash"><code class="sourceCode bash"><span class="ex">yum</span> install -y epel-release 
<span class="ex">yum</span> -y install http://yum.postgresql.org/9.4/redhat/rhel-7-x86_64/pgdg-centos94-9.4-1.noarch.rpm
<span class="ex">yum</span> -y install git R postgresql94-server postgresql94-contrib postgis2_94 udunits2 netcdf
<span class="ex">/usr/pgsql-9.4/bin/postgresql94-setup</span> initdb
<span class="ex">systemctl</span> enable postgresql-9.4
<span class="ex">systemctl</span> start postgresql-9.4</code></pre>
</div>
<div id="install-and-start-apache" class="section level6">
<h6><span class="header-section-number">21.2.2.4.1.2</span> Install and start Apache</h6>
<pre class="sourceCode bash"><code class="sourceCode bash"><span class="ex">yum</span> -y install httpd
<span class="ex">systemctl</span> enable httpd
<span class="ex">systemctl</span> start httpd</code></pre>
</div>
<div id="install-php" class="section level6">
<h6><span class="header-section-number">21.2.2.4.1.3</span> Install PHP</h6>
<pre class="sourceCode bash"><code class="sourceCode bash"><span class="fu">sudo</span> yum -y install php php-pgsql</code></pre>
</div>
<div id="install-ruby-netcdf-gem" class="section level6">
<h6><span class="header-section-number">21.2.2.4.1.4</span> Install ruby-netcdf gem</h6>
<pre class="sourceCode bash"><code class="sourceCode bash"><span class="bu">cd</span> <span class="va">$RUBY_APPLICATION_HOME</span>
<span class="bu">export</span> <span class="va">$NETCDF_URL=</span>http://www.gfd-dennou.org/arch/ruby/products/ruby-netcdf/release/ruby-netcdf-0.6.6.tar.gz
<span class="bu">export</span> <span class="va">$NETCDF_DIR=</span>/usr/local/netcdf
<span class="ex">gem</span> install narray
<span class="bu">export</span> <span class="va">NARRAY_DIR=</span><span class="st">&quot;</span><span class="va">$(</span><span class="fu">ls</span> <span class="va">$GEM_HOME</span>/gems <span class="kw">|</span> <span class="fu">grep</span> <span class="st">&#39;narray-&#39;</span><span class="va">)</span><span class="st">&quot;</span>
<span class="bu">export</span> <span class="va">NARRAY_PATH=</span><span class="st">&quot;</span><span class="va">$GEM_HOME</span><span class="st">/gems/</span><span class="va">$NARRAY_DIR</span><span class="st">&quot;</span>
<span class="bu">cd</span> <span class="va">$MY_RUBY_HOME</span>/bin
<span class="fu">wget</span> <span class="va">$NETCDF_URL</span> -O ruby-netcdf.tgz
<span class="fu">tar</span> zxf ruby-netcdf.tgz <span class="kw">&amp;&amp;</span> <span class="bu">cd</span> ruby-netcdf-0.6.6/
<span class="ex">ruby</span> -rubygems extconf.rb --with-narray-include=<span class="va">$NARRAY_PATH</span> --with-netcdf-dir=/usr/local/netcdf-4.3.0
<span class="fu">sed</span> -i <span class="st">&#39;s|rb/$|rb|&#39;</span> Makefile
<span class="fu">make</span>
<span class="fu">make</span> install
<span class="bu">cd</span> ../ <span class="kw">&amp;&amp;</span> <span class="fu">sudo</span> rm -rf ruby-netcdf*

<span class="bu">cd</span> <span class="va">$RUBY_APPLICATION</span>
<span class="ex">bundle</span> install --without development</code></pre>
</div>
</div>
<div id="apache-configuration-1" class="section level5">
<h5><span class="header-section-number">21.2.2.4.2</span> Apache Configuration</h5>
</div>
<div id="install-and-configure-rstudio-server" class="section level5">
<h5><span class="header-section-number">21.2.2.4.3</span> Install and configure Rstudio-server</h5>
<p>Install RStudio Server by following the <a href="https://www.rstudio.com/products/rstudio/download-server/">official documentation</a> for your platform.
Then, proceed with the following:</p>
<ul>
<li>add <code>PATH=$PATH:/usr/sbin:/sbin</code> to <code>/etc/profile</code></li>
</ul>
<pre class="sourceCode bash"><code class="sourceCode bash">   <span class="fu">cat</span> <span class="st">&quot;PATH=</span><span class="va">$PATH</span><span class="st">:/usr/sbin:/sbin; export PATH&quot;</span> <span class="op">&gt;&gt;</span> /etc/profile</code></pre>
<ul>
<li>add <a href="https://gist.github.com/dlebauer/6921889">rstudio.conf</a> to /etc/httpd/conf.d/</li>
</ul>
<pre class="sourceCode bash"><code class="sourceCode bash">   <span class="fu">wget</span> https://gist.github.com/dlebauer/6921889/raw/d1e0f945228e5519afa6223d6f49d6e0617262bd/rstudio.conf
   <span class="fu">sudo</span> mv rstudio.conf /httpd/conf.d/</code></pre>
<ul>
<li>restart the Apache server: <code>sudo httpd restart</code></li>
<li>now you should be able to access <code>http://&lt;server&gt;/rstudio</code></li>
</ul>
</div>
<div id="install-postgres-3" class="section level5">
<h5><span class="header-section-number">21.2.2.4.4</span> Install Postgres</h5>
<p>See <a href="https://github.com/PecanProject/bety/wiki/Installing-Postgresql">documentation under the BETYdb Wiki</a></p>

</div>
</div>
</div>
<div id="installing-bety" class="section level3">
<h3><span class="header-section-number">21.2.3</span> Installing BETY</h3>
<div id="install-postgres-4" class="section level4">
<h4><span class="header-section-number">21.2.3.1</span> Install Postgres</h4>
<p>See OS-specific instructions for installing Postgres + PostGIS
* <a href="Installing-PEcAn-Ubuntu.md#install-postgres">Ubuntu</a>
* <a href="Installing-PEcAn-OSX#install-postgres">OSX</a>
* <a href="https://github.com/PecanProject/bety/wiki/Installing-Postgresql">RedHat / CentOS</a></p>
</div>
<div id="install-database-data" class="section level4">
<h4><span class="header-section-number">21.2.3.2</span> Install Database + Data</h4>
<ul>
<li><em>note</em> To install BETYdb without PEcAn, first download the <a href="https://raw.githubusercontent.com/PecanProject/pecan/master/scripts/load.bety.sh"><code>load.bety.sh</code> script</a></li>
</ul>
<pre class="sourceCode sh"><code class="sourceCode bash"><span class="co"># install database (code assumes password is bety)</span>
<span class="fu">sudo</span> -u postgres createuser -d -l -P -R -S bety
<span class="fu">sudo</span> -u postgres createdb -O bety bety
<span class="fu">sudo</span> -u postgres ./scripts/load.bety.sh -c YES -u YES -r 0
<span class="fu">sudo</span> -u postgres ./scripts/load.bety.sh -r 1
<span class="fu">sudo</span> -u postgres ./scripts/load.bety.sh -r 2

<span class="co"># configure for PEcAn web app (change password if needed)</span>
<span class="fu">cp</span> web/config.example.php web/config.php 

<span class="co"># add models to database (VM only)</span>
<span class="ex">./scripts/add.models.sh</span>

<span class="co"># add data to database</span>
<span class="ex">./scripts/add.data.sh</span>

<span class="co"># create outputs folder</span>
<span class="fu">mkdir</span> ~/output
<span class="fu">chmod</span> 777 ~/output</code></pre>
</div>
<div id="installing-betydb-web-application" class="section level4">
<h4><span class="header-section-number">21.2.3.3</span> Installing BETYdb Web Application</h4>
<p>There are two flavors of BETY, PHP and RUBY. The PHP version allows for a minimal interaction with the database while the RUBY version allows for full interaction with the database.</p>
<div id="php-version" class="section level5">
<h5><span class="header-section-number">21.2.3.3.1</span> PHP version</h5>
<p>The php version comes with PEcAn and is already configured.</p>
</div>
<div id="ruby-version" class="section level5">
<h5><span class="header-section-number">21.2.3.3.2</span> RUBY version</h5>
<p>The RUBY version requires a few extra packages to be installed first.</p>
<p>Next we install the web app.</p>
<pre class="sourceCode bash"><code class="sourceCode bash"><span class="co"># install bety</span>
<span class="bu">cd</span>
<span class="fu">git</span> clone https://github.com/PecanProject/bety.git

<span class="co"># install gems</span>
<span class="bu">cd</span> bety
<span class="fu">sudo</span> gem2.0 install bundler
<span class="ex">bundle</span> install --without development:test:javascript_testing:debug</code></pre>
<p>and configure BETY</p>
<pre class="sourceCode bash"><code class="sourceCode bash"><span class="co"># create folders for upload folders</span>
<span class="fu">mkdir</span> paperclip/files paperclip/file_names
<span class="fu">chmod</span> 777 paperclip/files paperclip/file_names

<span class="co"># create folder for log files</span>
<span class="fu">mkdir</span> log
<span class="fu">touch</span> log/production.log
<span class="fu">chmod</span> 0666 log/production.log

<span class="co"># fix configuration for vm</span>
<span class="fu">cp</span> config/additional_environment_vm.rb config/additional_environment.rb
<span class="fu">chmod</span> go+w public/javascripts/cache/

<span class="co"># setup bety database configuration</span>
<span class="fu">cat</span> <span class="op">&gt;</span> config/database.yml <span class="op">&lt;&lt; EOF</span>
production:
  adapter: postgis
  encoding: utf-8
  reconnect: false
  database: bety
  pool: 5
  username: bety
  password: bety
<span class="op">EOF</span>

<span class="co"># setup login tokens</span>
<span class="fu">cat</span> <span class="op">&gt;</span> config/initializers/site_keys.rb <span class="op">&lt;&lt; EOF</span>
REST_AUTH_SITE_KEY         = &#39;thisisnotasecret&#39;
REST_AUTH_DIGEST_STRETCHES = 10
<span class="op">EOF</span></code></pre>

</div>
</div>
</div>
<div id="install-models" class="section level3">
<h3><span class="header-section-number">21.2.4</span> Install Models</h3>
<p>This page contains instructions on how to download and install ecosystem models that have been or are being coupled to PEcAn.
These instructions have been tested on the PEcAn unbuntu VM. Commands may vary on other operating systems.
Also, some model downloads require permissions before downloading, making them unavailable to the general public. Please contact the PEcAn team if you would like access to a model that is not already installed on the default PEcAn VM.</p>
<ul>
<li><a href="pecan-models.html#models-biocro">BioCro</a></li>
<li><a href="pecan-setup.html#clm-4.5">CLM 4.5</a></li>
<li><a href="pecan-models.html#models-dalec">DALEC</a></li>
<li><a href="pecan-models.html#models-ed">ED2</a></li>
<li><a href="pecan-setup.html#clm-fates">FATES</a></li>
<li><a href="pecan-models.html#models-gday">GDAY</a></li>
<li><a href="pecan-setup.html#jules">JULES</a></li>
<li><a href="pecan-models.html#models-linkages">LINKAGES</a></li>
<li><a href="pecan-models.html#models-lpjguess">LPJ-GUESS</a></li>
<li><a href="pecan-models.html#models-maespa">MAESPA</a></li>
<li><a href="pecan-models.html#models-sipnet">SIPNET</a></li>
</ul>

<div id="biocro" class="section level4">
<h4><span class="header-section-number">21.2.4.1</span> BioCro</h4>
<pre class="sourceCode r"><code class="sourceCode r"><span class="co"># Public</span>
echo <span class="st">&#39;devtools::install_github(&quot;ebimodeling/biocro&quot;)&#39;</span> <span class="op">|</span><span class="st"> </span>R <span class="op">--</span>vanilla
<span class="co"># Development:</span>
echo <span class="st">&#39;devtools::install_github(&quot;ebimodeling/biocro-dev&quot;)&#39;</span> <span class="op">|</span><span class="st"> </span>R <span class="op">--</span>vanilla</code></pre>
<p><em>BioCro Developers:</em> request from <span class="citation">[@dlebauer on GitHub]</span>(<a href="https://github.com/dlebauer" class="uri">https://github.com/dlebauer</a>)</p>

</div>
<div id="clm-4.5" class="section level4">
<h4><span class="header-section-number">21.2.4.2</span> CLM 4.5</h4>
<p>The version of CLM installed on PEcAn is the ORNL branch provided by Dan Ricciuto. This version includes Dan’s point-level CLM processing scripts</p>
<p>Download the code (~300M compressed), input data (1.7GB compressed and expands to 14 GB), and a few misc inputs.</p>
<pre class="sourceCode bash"><code class="sourceCode bash"><span class="fu">mkdir</span> models
<span class="bu">cd</span> models
<span class="fu">wget</span> ftp://nacp.ornl.gov/synthesis/2008/firenze/site/clm4_5_1_r085.tar.gz
<span class="fu">wget</span> ftp://nacp.ornl.gov/synthesis/2008/firenze/site/clm/ccsm_inputdata.tar.gz
<span class="fu">tar</span> -xvzf clm4_5*
<span class="fu">tar</span> -xvzf ccsm_inputdata.tar.gz

<span class="co">#Parameter file:</span>
<span class="fu">mkdir</span> /home/carya/models/ccsm_inputdata/lnd/clm2/paramdata
<span class="bu">cd</span>  /home/carya/models/ccsm_inputdata/lnd/clm2/paramdata
<span class="fu">wget</span> ftp://nacp.ornl.gov/synthesis/2008/firenze/site/clm_params.c130821.nc
<span class="fu">wget</span> ftp://nacp.ornl.gov/synthesis/2008/firenze/site/clm_params.c140423.nc

<span class="co">#Domain file:</span>
<span class="bu">cd</span> /home/carya/models/ccsm_inputdata/share/domains/domain.clm/
<span class="fu">wget</span> ftp://nacp.ornl.gov/synthesis/2008/firenze/site/domain.lnd.1x1pt_US-UMB_navy.nc

<span class="co">#Aggregated met data file:</span>
<span class="bu">cd</span> /home/carya/models/ccsm_inputdata/atm/datm7/CLM1PT_data/1x1pt_US-UMB
<span class="fu">wget</span> ftp://nacp.ornl.gov/synthesis/2008/firenze/site/all_hourly.nc 

<span class="co">## lightning database</span>
<span class="bu">cd</span> /home/carya/models/ccsm_inputdata/atm/datm7/NASA_LIS/
<span class="fu">wget</span> ftp://nacp.ornl.gov/synthesis/2008/firenze/site/clmforc.Li_2012_climo1995-2011.T62.lnfm_Total_c140423.nc

<span class="co">## surface data</span>
<span class="bu">cd</span> /home/carya/models/ccsm_inputdata/lnd/clm2/surfdata
<span class="fu">wget</span> ftp://nacp.ornl.gov/synthesis/2008/firenze/site/clm/surfdata_360x720cru_simyr1850_c130927.nc
<span class="bu">cd</span> /home/carya/models/ccsm_inputdata/lnd/clm2/surfdata_map
<span class="fu">wget</span> ftp://nacp.ornl.gov/synthesis/2008/firenze/site/clm/surfdata_1x1pt_US-UMB_I1850CLM45CN_simyr1850.nc_new
<span class="fu">mv</span> surfdata_1x1pt_US-UMB_I1850CLM45CN_simyr1850.nc_new surfdata_1x1pt_US-UMB_I1850CLM45CN_simyr1850.nc</code></pre>
<p>Required libraries</p>
<pre class="sourceCode bash"><code class="sourceCode bash"><span class="fu">sudo</span> apt-get install mercurial csh tcsh subversion cmake

<span class="fu">sudo</span> ln -s /usr/bin/make /usr/bin/gmake</code></pre>
<p>Compile and build default inputs</p>
<pre class="sourceCode bash"><code class="sourceCode bash"><span class="bu">cd</span> ~/carya/models/clm4_5_1_r085/scripts
<span class="ex">python</span> runCLM.py --site US-UMB ––compset I1850CLM45CN --mach ubuntu --ccsm_input /home/carya/models/ccsm_inputdata --tstep 1 --nopointdata --coldstart --cpl_bypass --clean_build</code></pre>
<div id="clm-test-run" class="section level5">
<h5><span class="header-section-number">21.2.4.2.1</span> CLM Test Run</h5>
<p>You will see a new directory in scripts: US-UMB_I1850CLM45CN
Enter this directory and run (you shouldn’t have to do this normally, but there is a bug with the python script and doing this ensures all files get to the right place):</p>
<pre class="sourceCode bash"><code class="sourceCode bash"><span class="ex">./US-UMB_I1850CLM45CN.build</span></code></pre>
<p>Next you are ready to go to the run directory:</p>
<pre class="sourceCode bash"><code class="sourceCode bash"><span class="ex">/home/carya/models/clm4_5_1_r085/run/US-UMB_I1850CLM45CN/run</span></code></pre>
<p>Open to edit file: datm.streams.txt.CLM1PT.CLM_USRDAT and check file paths such that all paths start with /home/carya/models/ccsm_inputdata</p>
<p>From this directory, launch the executable that resides in the bld directory:</p>
<pre class="sourceCode bash"><code class="sourceCode bash"><span class="ex">/home/carya/clm4_5_1_r085/run/US-UMB_I1850CLM45CN/bld/cesm.exe</span></code></pre>
<p>not sure this was the right location, but wherever the executable is</p>
<p>You should begin to see output files that look like this:
US-UMB_I1850CLM45CN.clm2.h0.yyyy-mm.nc (yyyy is year, mm is month)
These are netcdf files containing monthly averages of lots of variables.</p>
<p>The lnd_in file in the run directory can be modified to change the output file frequency and variables.</p>

</div>
</div>
<div id="dalec" class="section level4">
<h4><span class="header-section-number">21.2.4.3</span> DALEC</h4>
<pre class="sourceCode bash"><code class="sourceCode bash"><span class="bu">cd</span>
<span class="ex">curl</span> -o dalec_EnKF_pub.tgz http://isda.ncsa.illinois.edu/~kooper/EBI/dalec_EnKF_pub.tgz
<span class="fu">tar</span> zxf dalec_EnKF_pub.tgz
<span class="fu">rm</span> dalec_EnKF_pub.tgz

<span class="bu">cd</span> dalec_EnKF_pub
<span class="fu">make</span> dalec_EnKF
<span class="fu">make</span> dalec_seqMH
<span class="fu">sudo</span> cp dalec_EnKF dalec_seqMH /usr/local/bin</code></pre>

</div>
<div id="ed2" class="section level4">
<h4><span class="header-section-number">21.2.4.4</span> ED2</h4>
<div id="ed2.2-r46-used-in-pecan-manuscript" class="section level5">
<h5><span class="header-section-number">21.2.4.4.1</span> ED2.2 r46 (used in PEcAn manuscript)</h5>
<pre class="sourceCode bash"><code class="sourceCode bash"><span class="co"># ----------------------------------------------------------------------</span>
<span class="co"># Get version r46 with a few patches for ubuntu</span>
<span class="bu">cd</span>
<span class="ex">curl</span> -o ED.r46.tgz http://isda.ncsa.illinois.edu/~kooper/EBI/ED.r46.tgz
<span class="fu">tar</span> zxf ED.r46.tgz
<span class="fu">rm</span> ED.r46.tgz
<span class="co"># ----------------------------------------------------------------------</span>
<span class="co"># configure and compile ed</span>
<span class="bu">cd</span> ~/ED.r46/ED/build/bin
<span class="ex">curl</span> -o include.mk.VM http://isda.ncsa.illinois.edu/~kooper/EBI/include.mk.opt.<span class="kw">`</span><span class="fu">uname</span> -s<span class="kw">`</span>
<span class="fu">make</span> OPT=VM
<span class="fu">sudo</span> cp ../ed_2.1-VM /usr/local/bin/ed2.r46</code></pre>
<p>Perform a test run using pre configured ED settings for ED2.2 r46</p>
<pre class="sourceCode bash"><code class="sourceCode bash"><span class="co"># ----------------------------------------------------------------------</span>
<span class="co"># Create sample run</span>
<span class="bu">cd</span>
<span class="fu">mkdir</span> testrun.ed.r46
<span class="bu">cd</span> testrun.ed.r46
<span class="ex">curl</span> -o ED2IN http://isda.ncsa.illinois.edu/~kooper/EBI/ED2IN.r46
<span class="fu">sed</span> -i -e <span class="st">&quot;s#</span><span class="dt">\$</span><span class="st">HOME#</span><span class="va">$HOME</span><span class="st">#&quot;</span> ED2IN
<span class="ex">curl</span> -o config.xml  http://isda.ncsa.illinois.edu/~kooper/EBI/config.r46.xml
<span class="co"># execute test run</span>
<span class="bu">time</span> ed2.r46</code></pre>
</div>
<div id="ed-2.2-r82" class="section level5">
<h5><span class="header-section-number">21.2.4.4.2</span> ED 2.2 r82</h5>
<pre class="sourceCode bash"><code class="sourceCode bash"><span class="bu">cd</span>
<span class="ex">curl</span> -o ED.r82.tgz http://isda.ncsa.illinois.edu/~kooper/EBI/ED.r82.tgz
<span class="fu">tar</span> zxf ED.r82.tgz
<span class="fu">rm</span> ED.r82.tgz

<span class="bu">cd</span> ED.r82
<span class="ex">curl</span> -o ED.r82.patch http://isda.ncsa.illinois.edu/~kooper/EBI/ED.r82.patch
<span class="fu">patch</span> -p1 <span class="op">&lt;</span> ED.r82.patch
<span class="bu">cd</span> ED/build/bin
<span class="ex">curl</span> -o include.mk.VM http://isda.ncsa.illinois.edu/~kooper/EBI/include.mk.opt.<span class="kw">`</span><span class="fu">uname</span> -s<span class="kw">`</span>
<span class="fu">make</span> OPT=VM
<span class="fu">sudo</span> cp ../ed_2.1-VM /usr/local/bin/ed2.r82</code></pre>
<p>Perform a test run using pre configured ED settings for ED2.2 r82</p>
<pre class="sourceCode bash"><code class="sourceCode bash"><span class="bu">cd</span>
<span class="fu">mkdir</span> testrun.ed.r82
<span class="bu">cd</span> testrun.ed.r82
<span class="ex">curl</span> -o ED2IN http://isda.ncsa.illinois.edu/~kooper/EBI/ED2IN.r82
<span class="fu">sed</span> -i -e <span class="st">&quot;s#</span><span class="dt">\$</span><span class="st">HOME#</span><span class="va">$HOME</span><span class="st">#&quot;</span> ED2IN
<span class="ex">curl</span> -o config.xml  http://isda.ncsa.illinois.edu/~kooper/EBI/config.r82.xml
<span class="co"># execute test run</span>
<span class="bu">time</span> ed2.r82</code></pre>
</div>
<div id="ed-2.2-bleeding-edge" class="section level5">
<h5><span class="header-section-number">21.2.4.4.3</span> ED 2.2 bleeding edge</h5>
<pre class="sourceCode bash"><code class="sourceCode bash"><span class="bu">cd</span>
<span class="fu">git</span> clone https://github.com/EDmodel/ED2.git

<span class="bu">cd</span> ED2/ED/build/bin
<span class="ex">curl</span> -o include.mk.VM http://isda.ncsa.illinois.edu/~kooper/EBI/include.mk.opt.<span class="kw">`</span><span class="fu">uname</span> -s<span class="kw">`</span>
<span class="ex">./generate_deps.sh</span>
<span class="fu">make</span> OPT=VM
<span class="fu">sudo</span> cp ../ed_2.1-VM /usr/local/bin/ed2.git</code></pre>

</div>
</div>
<div id="clm-fates" class="section level4">
<h4><span class="header-section-number">21.2.4.5</span> CLM-FATES</h4>
<p>Prerequisites</p>
<pre><code>sudo apt-get upgrade libnetcdf-dev
sudo apt-get install subversion
sudo apt-get install csh
sudo apt-get install cmake
sudo ln -s /usr/bin/make /usr/bin/gmake
sudo rm /bin/sh
sudo ln -s /bin/bash /bin/sh

wget https://github.com/Unidata/netcdf-fortran/archive/v4.4.4.tar.gz
cd netcdf-4.4.4
./configure
make
sudo make install</code></pre>
<p>you might need to mess around with installing netcdf and netcdf-fortran to get a version FATES likes…</p>
<p>Get code from Github (currently private) and go to cime/scripts directory</p>
<pre><code>git clone git@github.com:NGEET/ed-clm.git
cd ed-clm/cime/scripts/</code></pre>
<p>Within CLM-FATES, to be able to build an executable we need to create a reference run. We’ll also use this reference run to grab defaults from, so we’ll be registering the location of both the reference <strong>case</strong> (location of executable, scripts, etc) and the reference <strong>inputs</strong> with the PEcAn database. To begin, copy reference run script from pecan</p>
<pre><code>cp ~/pecan/models/fates/inst/create_1x1_ref_case.sh .</code></pre>
<p>Edit reference case script to set NETCDF_HOME, CROOT (reference run case), DIN_LOC_ROOT (reference run inputs). Also, make sure DIN_LOC_ROOT exists as FATES will not create it itself. Then run the script</p>
<pre><code>./create_1x1_ref_case.sh</code></pre>
<p>Be aware that this script WILL ask you for your password on the NCAR server to download the reference case input data (the guest password may work, haven’t tried this). If it gives an error at the pio stage check the log, but the most likely error is it being unable to find a version of netcdf it likes.</p>
<p>Once FATES is installed, set the whole reference case directory as the Model path (leave filename blank) and set the whole inputs directory as an Input with format clm_defaults.</p>

</div>
<div id="gday" class="section level4">
<h4><span class="header-section-number">21.2.4.6</span> GDAY</h4>
<p>Navigate to a directory you would like to store GDAY and run the following:</p>
<pre class="sourceCode bash"><code class="sourceCode bash"><span class="fu">git</span> clone https://github.com/mdekauwe/GDAY.git

<span class="bu">cd</span> GDAY

<span class="bu">cd</span> src

<span class="fu">make</span></code></pre>
<p><code>gday</code> is your executable.</p>

</div>
<div id="jules" class="section level4">
<h4><span class="header-section-number">21.2.4.7</span> JULES</h4>
<p>INSTALL STEPS:
1) Download JULES and FCM
JULES:
Model requires registration to download. Not to be put on PEcAn VM
Getting Started documentation: <a href="https://jules.jchmr.org/content/getting-started" class="uri">https://jules.jchmr.org/content/getting-started</a>
Registration: <a href="http://jules-lsm.github.io/access_req/JULES_access.html" class="uri">http://jules-lsm.github.io/access_req/JULES_access.html</a></p>
<p>FCM:</p>
<pre class="sourceCode bash"><code class="sourceCode bash">    <span class="ex">https</span>://github.com/metomi/fcm/
    <span class="fu">wget</span> https://github.com/metomi/fcm/archive/2015.05.0.tar.gz</code></pre>
<ol start="2" style="list-style-type: decimal">
<li>edit makefile</li>
</ol>
<pre class="sourceCode bash"><code class="sourceCode bash"><span class="ex">open</span> etc/fcm-make/make.cfg

<span class="kw">set</span> <span class="ex">JULES_NETCDF</span> = actual instead of dummy
<span class="kw">set</span> <span class="ex">path</span> (e.g. /usr/) <span class="ex">and</span> lib_path /lib64 to netCDF libraries</code></pre>
<ol start="3" style="list-style-type: decimal">
<li>compile JULES</li>
</ol>
<pre class="sourceCode bash"><code class="sourceCode bash"><span class="bu">cd</span> etc/fcm-make/
<span class="dt">{path.to.fcm}</span><span class="ex">/fcm</span> make -f etc/fcm-make/make.cfg --new</code></pre>
<pre class="sourceCode bash"><code class="sourceCode bash"><span class="ex">UBUNTU</span> VERSION: installed without having to add any perl libraries
<span class="co">#perl stuff that I had to install on pecan2 not PEcAN VM</span>
<span class="fu">sudo</span> yum install perl-Digest-SHA
<span class="fu">sudo</span> yum install perl-Time-modules
<span class="fu">sudo</span> yum install cpan
<span class="ex">curl</span> -L http://cpanmin.us <span class="kw">|</span> <span class="fu">perl</span> - --sudo App::cpanminus
<span class="fu">sudo</span> cpanm Time/Piece.pm
<span class="fu">sudo</span> cpanm IO/Uncompress/Gunzip.pm</code></pre>
<p>Executable is under build/bin/jules.exe</p>
<p>Example rundir: examples/point_loobos</p>

</div>
<div id="linkages" class="section level4">
<h4><span class="header-section-number">21.2.4.8</span> LINKAGES</h4>
<div id="r-installation" class="section level5">
<h5><span class="header-section-number">21.2.4.8.1</span> R Installation</h5>
<pre class="sourceCode r"><code class="sourceCode r"><span class="co"># Public</span>
echo <span class="st">&#39;devtools::install_github(&quot;araiho/linkages_package&quot;)&#39;</span> <span class="op">|</span><span class="st"> </span>R <span class="op">--</span>vanilla</code></pre>
</div>
<div id="fortran-version" class="section level5">
<h5><span class="header-section-number">21.2.4.8.2</span> FORTRAN VERSION</h5>
<pre class="sourceCode r"><code class="sourceCode r"><span class="co">#FORTRAN VERSION</span>
cd
git clone https<span class="op">:</span><span class="er">//</span>github.com<span class="op">/</span>araiho<span class="op">/</span>Linkages.git
cd Linkages
gfortran <span class="op">-</span>o linkages linkages.f
sudo cp linkages <span class="op">/</span>usr<span class="op">/</span>local<span class="op">/</span>bin<span class="op">/</span>linkages.git</code></pre>

</div>
</div>
<div id="lpj-guess" class="section level4">
<h4><span class="header-section-number">21.2.4.9</span> LPJ-GUESS</h4>
<p>Instructions to download source code</p>
<p>Go to <a href="http://web.nateko.lu.se/lpj-guess/download.html">LPJ-GUESS website</a> for instructions to access code.</p>

</div>
<div id="maespa" class="section level4">
<h4><span class="header-section-number">21.2.4.10</span> MAESPA</h4>
<p>Navigate to a directory you would like store MAESPA and run the following:</p>
<pre class="sourceCode bash"><code class="sourceCode bash"><span class="fu">git</span> clone https://bitbucket.org/remkoduursma/maespa.git

<span class="bu">cd</span> maespa

<span class="fu">make</span></code></pre>
<p><code>maespa.out</code> is your executable. Example input files can be found in the <code>inpufiles</code> directory. Executing measpa.out from within one of the example directories will produce output.</p>
<p>MAESPA developers have also developed a wrapper package called Maeswrap. The usual R package installation method <code>install.packages</code> may present issues with downloading an unpacking a dependency package called <code>rgl</code>. Here are a couple of solutions:</p>
<div id="solution-1" class="section level5">
<h5><span class="header-section-number">21.2.4.10.1</span> Solution 1</h5>
<pre class="sourceCode bash"><code class="sourceCode bash"><span class="co">### From the Command Line</span>
<span class="fu">sudo</span> apt-get install r-cran-rgl</code></pre>
<p>then from within R</p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">install.packages</span>(<span class="st">&quot;Maeswrap&quot;</span>)</code></pre>
</div>
<div id="solution-2" class="section level5">
<h5><span class="header-section-number">21.2.4.10.2</span> Solution 2</h5>
<pre class="sourceCode bash"><code class="sourceCode bash"><span class="co">### From the Command line </span>
<span class="fu">sudo</span> apt-get install libglu1-mesa-dev</code></pre>
<p>then from within R</p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">install.packages</span>(<span class="st">&quot;Maeswrap&quot;</span>)</code></pre>

</div>
</div>
<div id="sipnet" class="section level4">
<h4><span class="header-section-number">21.2.4.11</span> SIPNET</h4>
<pre class="sourceCode bash"><code class="sourceCode bash"><span class="bu">cd</span>
<span class="ex">curl</span> -o sipnet_unk.tar.gz http://isda.ncsa.illinois.edu/~kooper/EBI/sipnet_unk.tar.gz
<span class="fu">tar</span> zxf sipnet_unk.tar.gz
<span class="fu">rm</span> sipnet_unk.tar.gz

<span class="bu">cd</span> sipnet_unk
<span class="fu">make</span>
<span class="fu">sudo</span> cp sipnet /usr/local/bin/sipnet.runk</code></pre>
<div id="sipnet-testrun" class="section level5">
<h5><span class="header-section-number">21.2.4.11.1</span> SIPNET testrun</h5>
<pre class="sourceCode bash"><code class="sourceCode bash"><span class="bu">cd</span>
<span class="ex">curl</span> -o testrun.sipnet.tar.gz http://isda.ncsa.illinois.edu/~kooper/EBI/testrun.sipnet.tar.gz
<span class="fu">tar</span> zxf testrun.sipnet.tar.gz
<span class="fu">rm</span> testrun.sipnet.tar.gz
<span class="bu">cd</span> testrun.sipnet
<span class="ex">sipnet.runk</span></code></pre>

</div>
</div>
</div>
<div id="download-and-compile-pecan" class="section level3">
<h3><span class="header-section-number">21.2.5</span> Download and Compile PEcAn</h3>
<p>Set <code>R_LIBS_USER</code></p>
<p><a href="http://cran.r-project.org/doc/manuals/r-devel/R-admin.html#Managing-libraries">CRAN Reference</a></p>
<pre class="sourceCode bash"><code class="sourceCode bash"><span class="co"># point R to personal lib folder</span>
<span class="bu">echo</span> <span class="st">&#39;export R_LIBS_USER=${HOME}/R/library&#39;</span> <span class="op">&gt;&gt;</span> ~/.profile
<span class="bu">source</span> ~/.profile
<span class="fu">mkdir</span> -p <span class="va">${R_LIBS_USER}</span></code></pre>
<div id="download-compile-and-install-pecan-from-github" class="section level4">
<h4><span class="header-section-number">21.2.5.1</span> Download, compile and install PEcAn from GitHub</h4>
<pre class="sourceCode bash"><code class="sourceCode bash"><span class="co"># download pecan</span>
<span class="bu">cd</span>
<span class="fu">git</span> clone https://github.com/PecanProject/pecan.git

<span class="co"># compile pecan</span>
<span class="bu">cd</span> pecan
<span class="fu">make</span></code></pre>
<p>For more information on the capabilities of the PEcAn Makefile, check out our section on <a href="maintaining-pecan.html#updating-pecan">Updating PEcAn</a>.</p>
<p>Following will run a small script to setup some hooks to prevent people from using the pecan demo user account to check in any code.</p>
<pre class="sourceCode bash"><code class="sourceCode bash"><span class="co"># prevent pecan user from checking in code</span>
<span class="ex">./scripts/create-hooks.sh</span></code></pre>
</div>
</div>
<div id="pecan-testrun" class="section level3">
<h3><span class="header-section-number">21.2.6</span> PEcAn Testrun</h3>
<p>Do the run, this assumes you have <a href="pecan-setup.html#installing-bety">installed the BETY database</a>, <a href="pecan-setup.html#site-information">sites</a> tar file and <a href="pecan-models.html#models-sipnet">SIPNET</a>.</p>
<pre class="sourceCode bash"><code class="sourceCode bash"><span class="co"># create folder</span>
<span class="bu">cd</span>
<span class="fu">mkdir</span> testrun.pecan
<span class="bu">cd</span> testrun.pecan

<span class="co"># copy example of pecan workflow and configuration file</span>
<span class="fu">cp</span> ../pecan/tests/pecan32.sipnet.xml pecan.xml
<span class="fu">cp</span> ../pecan/scripts/workflow.R workflow.R

<span class="co"># exectute workflow</span>
<span class="fu">rm</span> -rf pecan
<span class="ex">./workflow.R</span> pecan.xml</code></pre>
<p>NB: pecan.xml is configured for the virtual machine, you will need to change the <met> field from ‘/home/carya/’ to wherever you installed your ‘sites’, usually $HOME</p>

</div>
<div id="pecan-customizations" class="section level3">
<h3><span class="header-section-number">21.2.7</span> PEcAn Customizations</h3>
<div id="paleon-version-of-pecan" class="section level4">
<h4><span class="header-section-number">21.2.7.1</span> PalEON version of PEcAn</h4>
<p>Install the following packages: gnome2, xfce4, firefox</p>
<pre><code>sudo apt-get -y install gdm gnome-shell xfce4 firefox</code></pre>
<p>Install Rstudio-desktop (+ libjpeg62 seems to be a dependency)</p>
<pre><code>PROC=$( uname -m | sed -e &#39;s/x86_64/amd64/&#39; -e &#39;s/i686/i386/&#39; )
wget http://download1.rstudio.org/rstudio-0.98.507-${PROC}.deb
sudo apt-get install libjpeg62
sudo dpkg -i rstudio-*.deb
rm rstudio-*.deb</code></pre>
<p>Additional pieces of software</p>
<pre><code>wget http://chrono.qub.ac.uk/blaauw/LinBacon_2.2.zip
unzip LinBacon_2.2.zip
rm LinBacon_2.2.zip

wget http://chrono.qub.ac.uk/blaauw/clam.zip
unzip clam.zip
rm clam.zip</code></pre>
<p>Additional R packages:</p>
<pre><code>cat &lt;&lt; EOF | R --vanilla
list.of.packages &lt;- c(&#39;R2jags&#39;, &#39;RCurl&#39;, &#39;RJSONIO&#39;, &#39;reshape2&#39;, &#39;plyr&#39;, &#39;fields&#39;,
                      &#39;maps&#39;, &#39;maptools&#39;, &#39;ggplot2&#39;, &#39;mvtnorm&#39;, &#39;devtools&#39;)
new.packages &lt;- list.of.packages[!(list.of.packages %in% installed.packages()[,&quot;Package&quot;])]
if(length(new.packages)) {
  print(&quot;installing : &quot;)
  print(new.packages)
  install.packages(new.packages, repos=&quot;http://cran.rstudio.com/&quot;)
}

require(devtools)
install_github(&quot;neotoma&quot;, &quot;ropensci&quot;)
EOF</code></pre>

</div>
</div>
</div>
<div id="aws-setup" class="section level2">
<h2><span class="header-section-number">21.3</span> AWS Setup</h2>
<div id="porting-vm-to-aws" class="section level3">
<h3><span class="header-section-number">21.3.1</span> Porting VM to AWS</h3>
<p>The following are Mike’s rough notes from a first attempt to port the PEcAn VM to the AWS. This was done on a Mac</p>
<p>These notes are based on following the instructions <a href="http://www.rittmanmead.com/2014/09/obiee-sampleapp-in-the-cloud-importing-virtualbox-machines-to-aws-ec2/">here</a></p>
<div id="convert-pecan-vm" class="section level4">
<h4><span class="header-section-number">21.3.1.1</span> Convert PEcAn VM</h4>
<p>AWS allows upload of files as VMDK but the default PEcAn VM is in OVA format</p>
<ol style="list-style-type: decimal">
<li><p>If you haven’t done so already, download the <a href="http://isda.ncsa.illinois.edu/download/index.php?project=PEcAn&amp;sort=category">PEcAn VM</a></p></li>
<li><p>Split the OVA file into OVF and VMDK files</p></li>
</ol>
<pre><code>tar xf &lt;ovafile&gt;</code></pre>
</div>
<div id="set-up-an-account-on-aws" class="section level4">
<h4><span class="header-section-number">21.3.1.2</span> Set up an account on <a href="http://aws.amazon.com/">AWS</a></h4>
<p>After you have an account you need to set up a user and save your <a href="http://docs.aws.amazon.com/IAM/latest/UserGuide/ManagingCredentials.html">access key and secret key</a></p>
<p>In my case I created a user named ‘carya’</p>
<p>Note: the key that ended up working had to be made at <a href="https://console.aws.amazon.com/iam/home#security_credential" class="uri">https://console.aws.amazon.com/iam/home#security_credential</a>, not the link above.</p>
</div>
<div id="install-ec2-command-line-tools" class="section level4">
<h4><span class="header-section-number">21.3.1.3</span> Install <a href="http://docs.aws.amazon.com/AWSEC2/latest/CommandLineReference/set-up-ec2-cli-linux.html">EC2 command line tools</a></h4>
<pre><code>wget http://s3.amazonaws.com/ec2-downloads/ec2-api-tools.zip

sudo mkdir /usr/local/ec2

sudo unzip ec2-api-tools.zip -d /usr/local/ec2</code></pre>
<p>If need be, download and install <a href="http://www.oracle.com/technetwork/java/javase/downloads/index.html">JDK</a></p>
<pre><code>export JAVA_HOME=$(/usr/libexec/java_home)

export EC2_HOME=/usr/local/ec2/ec2-api-tools-&lt;version&gt;

export PATH=$PATH:$EC2_HOME/bin</code></pre>
<p>Then set your user credentials as environment variables:</p>
<p><code>export AWS_ACCESS_KEY=xxxxxxxxxxxxxx</code></p>
<p><code>export AWS_SECRET_KEY=xxxxxxxxxxxxxxxxxxxxxx</code></p>
<p>Note: you may want to add all the variables set in the above EXPORT commands above into your .bashrc or equivalent.</p>
</div>
<div id="create-an-aws-s3-bucket-to-upload-vm-to" class="section level4">
<h4><span class="header-section-number">21.3.1.4</span> Create an AWS S3 ‘bucket’ to upload VM to</h4>
<p>Go to <a href="https://console.aws.amazon.com/s3" class="uri">https://console.aws.amazon.com/s3</a> and click “Create Bucket”</p>
<p>In my case I named the bucket ‘pecan’</p>
</div>
<div id="upload" class="section level4">
<h4><span class="header-section-number">21.3.1.5</span> Upload</h4>
<p>In the code below, make sure to change the PEcAn version, the name of the bucket, and the name of the region. Make sure that the PEcAn version matches the one you downloaded.</p>
<p>Also, you may want to choose a considerably larger instance type. The one chosen below is that corresponding to the AWS Free Tier</p>
<pre><code>ec2-import-instance PEcAn_1.2.6-disk1.vmdk --instance-type t2.micro --format VMDK --architecture x86_64 --platform Linux --bucket pecan --region us-east-1 --owner-akid $AWS_ACCESS_KEY --owner-sak $AWS_SECRET_KEY</code></pre>
<p>Make sure to note the ID of the image since you’ll need it to check the VM status. Once the image is uploaded it will take a while (typically about an hour) for Amazon to convert the image to one it can run. You can check on this progress by running</p>
<pre><code>ec2-describe-conversion-tasks &lt;image.ID&gt;</code></pre>
</div>
<div id="configuring-the-vm" class="section level4">
<h4><span class="header-section-number">21.3.1.6</span> Configuring the VM</h4>
<p>On the EC2 management webpage, <a href="https://console.aws.amazon.com/ec2" class="uri">https://console.aws.amazon.com/ec2</a>, if you select <strong>Instances</strong> on the left hand side (LHS) you should be able to see your new PEcAn image as an option under Launch Instance.</p>
<p>Before launching, you will want to update the firewall to open up additional ports that PEcAn needs – specifically port 80 for the webpage. Port 22 (ssh/sftp) should be open by default. Under “Security Groups” select “Inbound” then “Edit” and then add “HTTP”.</p>
<p>Select “Elastic IPs” on the LHS, and “Allocate New Address” in order to create a public IP for your VM.</p>
<p>Next, select “Network Interfaces” on the LHS and then under Actions select “Associate Addresses” then choose the Elastic IP you just created.</p>
<p>See also <a href="http://docs.aws.amazon.com/AmazonVPC/latest/GettingStartedGuide/GetStarted.html" class="uri">http://docs.aws.amazon.com/AmazonVPC/latest/GettingStartedGuide/GetStarted.html</a></p>
</div>
</div>
<div id="set-up-multiple-instances-optional" class="section level3">
<h3><span class="header-section-number">21.3.2</span> Set up multiple instances (optional)</h3>
<p>For info on setting up multiple instances with load balancing see: <a href="http://docs.aws.amazon.com/ElasticLoadBalancing/latest/DeveloperGuide/gs-ec2VPC.html" class="uri">http://docs.aws.amazon.com/ElasticLoadBalancing/latest/DeveloperGuide/gs-ec2VPC.html</a></p>
<p>Select “Load Balancers” on the LHS, click on “Create Load Balancer”, follow Wizard keeping defaults.</p>
<p>To be able to launch multiple VMs: Under “Instances” convert VM to an Image. When done, select Launch, enable multiple instances, and associate with the previous security group. Once running, go back to “Load Balancers” and add the instances to the load balancer. Each instance can be accessed individually by it’s own public IP, but external users should access the system more generally via the Load Balancers DNS.</p>
<div id="booting-the-vm" class="section level4">
<h4><span class="header-section-number">21.3.2.1</span> Booting the VM</h4>
<p>Return to “Instances” using the menu on the LHS.</p>
<p>To boot the VM select “Actions” then “Instance State” then “Start”. In the future, once you have the VM loaded and configured this last step is the only one you will need to repeat to turn your VM on and off.</p>
<p>The menu provided should specify the Public IP where the VM has launched</p>

</div>
</div>
</div>
<div id="shiny-setup" class="section level2">
<h2><span class="header-section-number">21.4</span> Shiny Setup</h2>
<p>Installing and configuring Shiny for PEcAn
authors - Alexey Shiklomanov
- Rob Kooper</p>
<p><strong>NOTE: Instructions are only tested for CentOS 6.5 and Ubuntu 16.04</strong>
<strong>NOTE: Pretty much every step here requires root access.</strong></p>
<div id="install-the-shiny-r-package-and-shiny-server" class="section level3">
<h3><span class="header-section-number">21.4.1</span> Install the Shiny R package and Shiny server</h3>
<p>Follow the instructions on the <a href="https://www.rstudio.com/products/shiny/download-server/">Shiny download page</a> for the operating system you are using.</p>
</div>
<div id="modify-the-shiny-configuration-file" class="section level3">
<h3><span class="header-section-number">21.4.2</span> Modify the shiny configuration file</h3>
<p>The Shiny configuration file is located in <code>/etc/shiny-server/shiny-server.conf</code>. Comment out the entire file and add the following, replacing <code>&lt;username&gt;</code> with your user name and <code>&lt;location&gt;</code> with the URL location you want for your app. This will allow you to run Shiny apps from your web browser at <a href="https://your.server.edu/shiny/your-location" class="uri">https://your.server.edu/shiny/your-location</a></p>
<pre><code>run as shiny;
server {
    listen 3838;
    location /&lt;location&gt;/ {
        run as &lt;username&gt;;
        site_dir /path/to/your/shiny/app;
        log_dir /var/log/shiny-server;
        directory_index on;
    }
}</code></pre>
<p>For example, my configuration on the old test-pecan looks like this.</p>
<pre><code>run as shiny;
server {
    listen 3838;
    location /ashiklom/ {
        run as ashiklom;
        site_dir /home/ashiklom/fs-data/pecan/shiny/;
        log_dir /var/log/shiny-server;
        directory_index on;
    }
}</code></pre>
<p>…and I can access my Shiny apps at, for instance, <a href="https://test-pecan.bu.edu/shiny/ashiklom/workflowPlots" class="uri">https://test-pecan.bu.edu/shiny/ashiklom/workflowPlots</a>.</p>
<p>You can add as many <code>location &lt;loc&gt; { ... }</code> fields as you would like.</p>
<pre><code>run as shiny;
server {
    listen 3838;
    location /ashiklom/ {
        ...
    }
    location /bety/ {
        ...
    }
}</code></pre>
<p>If you change the configuration, for example to add a new location, you will need to restart Shiny server.
<em>If you are setting up a new instance of Shiny</em>, skip this step and continue with the guide, since there are a few more steps to get Shiny working.
<em>If there is an instance of Shiny already running</em>, you can restart it with:</p>
<pre><code>## On CentOS
sudo service shiny-server stop
sudo service shiny-server start

## On Ubuntu
sudo systemctl stop shiny-server.service
sudo systemctl start shiny-server.service</code></pre>
</div>
<div id="set-the-apache-proxy" class="section level3">
<h3><span class="header-section-number">21.4.3</span> Set the Apache proxy</h3>
<p>Create a file with the following name, based on the version of the operating system you are using:</p>
<ul>
<li>Ubuntu 16.04 (pecan1, pecan2, test-pecan) – <code>/etc/apache2/conf-available/shiny.conf</code></li>
<li>CentOS 6.5 (psql-pecan) – <code>/etc/httpd/conf.d/shiny.conf</code></li>
</ul>
<p>Into this file, add the following:</p>
<pre><code>ProxyPass           /shiny/ http://localhost:3838/
ProxyPassReverse    /shiny/ http://localhost:3838/
RedirectMatch permanent ^/shiny$ /shiny/</code></pre>
<div id="ubuntu-only-enable-the-new-shiny-configuration" class="section level4">
<h4><span class="header-section-number">21.4.3.1</span> <strong>Ubuntu only:</strong> Enable the new shiny configuration</h4>
<pre><code>sudo a2enconf shiny</code></pre>
<p>This will create a symbolic link to the newly created <code>shiny.conf</code> file inside the <code>/etc/apache2/conf-enabled</code> directory.
You can do <code>ls -l /etc/apache2/conf-enabled</code> to confirm that this worked.</p>
</div>
</div>
<div id="enable-and-start-the-shiny-server-and-restart-apache" class="section level3">
<h3><span class="header-section-number">21.4.4</span> Enable and start the shiny server, and restart apache</h3>
<div id="on-centos" class="section level4">
<h4><span class="header-section-number">21.4.4.1</span> On CentOS</h4>
<pre><code>sudo ln -s /opt/shiny-server/config/init.d/redhat/shiny-server /etc/init.d
sudo service shiny-server stop
sudo service shiny-server start
sudo service httpd restart</code></pre>
<p>You can check that Shiny is running with <code>service shiny-server status</code>.</p>
</div>
<div id="on-ubuntu" class="section level4">
<h4><span class="header-section-number">21.4.4.2</span> On Ubuntu</h4>
<p>Enable the Shiny server service.
This will make sure Shiny runs automatically on startup.</p>
<pre><code>sudo systemctl enable shiny-server.service</code></pre>
<p>Restart Apache.</p>
<pre><code>sudo apachectl restart</code></pre>
<p>Start the Shiny server.</p>
<pre><code>sudo systemctl start shiny-server.service</code></pre>
<p>If there are problems, you can stop the <code>shiny-server.service</code> with…</p>
<pre><code>sudo systemctl stop shiny-server.service</code></pre>
<p>…and then use <code>start</code> again to restart it.</p>
</div>
</div>
<div id="troubleshooting-1" class="section level3">
<h3><span class="header-section-number">21.4.5</span> Troubleshooting</h3>
<p>Refer to the log files for shiny (<code>/var/log/shiny-server.log</code>) and httpd (on CentOS, <code>/var/log/httpd/error-log</code>; on Ubuntu, <code>/var/log/apache2/error-log</code>).</p>
</div>
<div id="further-reading" class="section level3">
<h3><span class="header-section-number">21.4.6</span> Further reading</h3>
<ul>
<li><a href="http://docs.rstudio.com/shiny-server/">Shiny server configuration reference</a></li>
</ul>

</div>
</div>
<div id="thredds-setup" class="section level2">
<h2><span class="header-section-number">21.5</span> Thredds Setup</h2>
<p>Installing and configuring Thredds for PEcAn
authors - Rob Kooper</p>
<p><strong>NOTE: Instructions are only tested for Ubuntu 16.04 on the VM, if you have instructions for CENTOS/RedHat please update this documentation</strong>
<strong>NOTE: Pretty much every step here requires root access.</strong></p>
<div id="install-the-tomcat-8-and-thredds-webapp" class="section level3">
<h3><span class="header-section-number">21.5.1</span> Install the Tomcat 8 and Thredds webapp</h3>
<p>The Tomcat 8 server can be installed from the default Ubuntu repositories. The thredds webapp will be downloaded and installed from unidata.</p>
</div>
<div id="ubuntu-1" class="section level3">
<h3><span class="header-section-number">21.5.2</span> Ubuntu</h3>
<p>First step is to install Tomcat 8 and configure it. The flag <code>-Dtds.content.root.path</code> should point to the location of where the thredds folder is located. This needs to be writeable by the user for tomcat. <code>-Djava.security.egd</code> is a special flag to use a different random number generator for tomcat. The default would take to long to generate a random number.</p>
<pre><code>apt-get -y install tomcat8 openjdk-8-jdk
echo JAVA_OPTS=\&quot;-Dtds.content.root.path=/home/carya \${JAVA_OPTS}\&quot; &gt;&gt; /etc/default/tomcat8
echo JAVA_OPTS=\&quot;-Djava.security.egd=file:/dev/./urandom \${JAVA_OPTS}\&quot; &gt;&gt; /etc/default/tomcat8
service tomcat8 restart</code></pre>
<p>Next is to install the webapp.</p>
<pre><code>mkdir /home/carya/thredds
chmod 777 /home/carya/thredds

wget -O /var/lib/tomcat8/webapps/thredds.war ftp://ftp.unidata.ucar.edu/pub/thredds/4.6/current/thredds.war</code></pre>
<p>Finally we configure Apache to prox the thredds server</p>
<pre><code>cat &gt; /etc/apache2/conf-available/thredds.conf &lt;&lt; EOF
ProxyPass        /thredds/ http://localhost:8080/thredds/
ProxyPassReverse /thredds/ http://localhost:8080/thredds/
RedirectMatch permanent ^/thredds$ /thredds/
EOF
a2enmod proxy_http
a2enconf thredds
service apache2 reload</code></pre>
</div>
<div id="customize-the-thredds-server" class="section level3">
<h3><span class="header-section-number">21.5.3</span> Customize the Thredds server</h3>
<p>To customize the thredds server for your installation edit the file in /home/carya/thredds/threddsConfig.xml. For example the following file is included in the VM.</p>
<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;
&lt;threddsConfig&gt;

  &lt;!-- all options are commented out in standard install - meaning use default values --&gt;
  &lt;!-- see http://www.unidata.ucar.edu/software/thredds/current/tds/reference/ThreddsConfigXMLFile.html --&gt;
  &lt;serverInformation&gt;
    &lt;name&gt;PEcAn&lt;/name&gt;
    &lt;logoUrl&gt;/pecan/images/pecan_small.jpg&lt;/logoUrl&gt;
    &lt;logoAltText&gt;PEcAn&lt;/logoAltText&gt;

    &lt;abstract&gt;Scientific Data&lt;/abstract&gt;
    &lt;keywords&gt;meteorology, atmosphere, climate, ocean, earth science&lt;/keywords&gt;
    
    &lt;contact&gt;
      &lt;name&gt;Rob Kooper&lt;/name&gt;
      &lt;organization&gt;NCSA&lt;/organization&gt;
      &lt;email&gt;kooper@illinois.edu&lt;/email&gt;
      &lt;!--phone&gt;&lt;/phone--&gt;
    &lt;/contact&gt;
    &lt;hostInstitution&gt;
      &lt;name&gt;PEcAn&lt;/name&gt;
      &lt;webSite&gt;http://www.pecanproject.org/&lt;/webSite&gt;
      &lt;logoUrl&gt;/pecan/images/pecan_small.jpg&lt;/logoUrl&gt;
      &lt;logoAltText&gt;PEcAn Project&lt;/logoAltText&gt;
    &lt;/hostInstitution&gt;
  &lt;/serverInformation&gt;

  &lt;!--
  The &lt;catalogRoot&gt; element:
  For catalogs you don&#39;t want visible from the /thredds/catalog.xml chain
  of catalogs, you can use catalogRoot elements. Each catalog root config
  catalog is crawled and used in configuring the TDS.

  &lt;catalogRoot&gt;myExtraCatalog.xml&lt;/catalogRoot&gt;
  &lt;catalogRoot&gt;myOtherExtraCatalog.xml&lt;/catalogRoot&gt;
  --&gt;

  &lt;!--
   * Setup for generated HTML pages.
   *
   * NOTE: URLs may be absolute or relative, relative URLs must be relative
   * to the webapp URL, i.e., http://server:port/thredds/.
    --&gt;
  &lt;htmlSetup&gt;
    &lt;!--
     * CSS documents used in generated HTML pages.
     * The CSS document given in the &quot;catalogCssUrl&quot; element is used for all pages
     * that are HTML catalog views. The CSS document given in the &quot;standardCssUrl&quot;
     * element is used in all other generated HTML pages.
     * --&gt;
    &lt;standardCssUrl&gt;tds.css&lt;/standardCssUrl&gt;
    &lt;catalogCssUrl&gt;tdsCat.css&lt;/catalogCssUrl&gt;
    &lt;openDapCssUrl&gt;tdsDap.css&lt;/openDapCssUrl&gt;

    &lt;!--
     * The Google Analytics Tracking code you would like to use for the
     * webpages associated with THREDDS. This will not track WMS or DAP
     * requests for data, only browsing the catalog.
    --&gt;
    &lt;googleTrackingCode&gt;&lt;/googleTrackingCode&gt;

  &lt;/htmlSetup&gt;
  
  &lt;!-- 
    The &lt;TdsUpdateConfig&gt; element controls if and how the TDS checks
    for updates. The default is for the TDS to check for the current
    stable and development release versions, and to log that information
    in the TDS serverStartup.log file as INFO entries.

  &lt;TdsUpdateConfig&gt;
     &lt;logVersionInfo&gt;true&lt;/logVersionInfo&gt;
  &lt;/TdsUpdateConfig&gt;
  --&gt;
   
  &lt;!--
   The &lt;CORS&gt; element controls Cross-Origin Resource Sharing (CORS).
   CORS is a way to allow a website (such as THREDDS) to open up access
   to resources to web pages and applications running on a different domain.
   One example would be allowing a web-application to use fonts from
   a separate host. For TDS, this can allow a javascript app running on a
   different site to access data on a THREDDS server.
   For more information see: https://en.wikipedia.org/wiki/Cross-origin_resource_sharing
   The elements below represent defaults. Only the &lt;enabled&gt; tag is required
   to enable CORS. The default allowed origin is &#39;*&#39;, which allows sharing
   to any domain.
  &lt;CORS&gt;
    &lt;enabled&gt;false&lt;/enabled&gt;
    &lt;maxAge&gt;1728000&lt;/maxAge&gt;
    &lt;allowedMethods&gt;GET&lt;/allowedMethods&gt;
    &lt;allowedHeaders&gt;Authorization&lt;/allowedHeaders&gt;
    &lt;allowedOrigin&gt;*&lt;/allowedOrigin&gt;
  &lt;/CORS&gt;
  --&gt;

  &lt;!--
   The &lt;CatalogServices&gt; element:
   - Services on local TDS served catalogs are always on.
   - Services on remote catalogs are set with the allowRemote element
   below. They are off by default (recommended).
   --&gt;
  &lt;CatalogServices&gt;
    &lt;allowRemote&gt;false&lt;/allowRemote&gt;
  &lt;/CatalogServices&gt;

  &lt;!--
  Configuring the CDM (netcdf-java library)
  see http://www.unidata.ucar.edu/software/netcdf-java/reference/RuntimeLoading.html

  &lt;nj22Config&gt;
    &lt;ioServiceProvider class=&quot;edu.univ.ny.stuff.FooFiles&quot;/&gt;
    &lt;coordSysBuilder convention=&quot;foo&quot; class=&quot;test.Foo&quot;/&gt;
    &lt;coordTransBuilder name=&quot;atmos_ln_sigma_coordinates&quot; type=&quot;vertical&quot; class=&quot;my.stuff.atmosSigmaLog&quot;/&gt;
    &lt;typedDatasetFactory datatype=&quot;Point&quot; class=&quot;gov.noaa.obscure.file.Flabulate&quot;/&gt;
  &lt;/nj22Config&gt;
  --&gt;

  &lt;!--
  CDM uses the DiskCache directory to store temporary files, like uncompressed files.
  &lt;DiskCache&gt;
    &lt;alwaysUse&gt;false&lt;/alwaysUse&gt;
    &lt;scour&gt;1 hour&lt;/scour&gt;
    &lt;maxSize&gt;1 Gb&lt;/maxSize&gt;
  &lt;/DiskCache&gt;
  --&gt;

  &lt;!--
  Caching open NetcdfFile objects.
  default is to allow 50 - 100 open files, cleanup every 11 minutes
  &lt;NetcdfFileCache&gt;
    &lt;minFiles&gt;50&lt;/minFiles&gt;
    &lt;maxFiles&gt;100&lt;/maxFiles&gt;
    &lt;scour&gt;11 min&lt;/scour&gt;
  &lt;/NetcdfFileCache&gt;
  --&gt;

  &lt;!--
  The &lt;HTTPFileCache&gt; element:
  allow 10 - 20 open datasets, cleanup every 17 minutes
  used by HTTP Range requests.
  &lt;HTTPFileCache&gt;
    &lt;minFiles&gt;10&lt;/minFiles&gt;
    &lt;maxFiles&gt;20&lt;/maxFiles&gt;
    &lt;scour&gt;17 min&lt;/scour&gt;
  &lt;/HTTPFileCache&gt;
  --&gt;

  &lt;!--
  Writing GRIB indexes.
  &lt;GribIndexing&gt;
    &lt;setExtendIndex&gt;false&lt;/setExtendIndex&gt;
    &lt;alwaysUseCache&gt;false&lt;/alwaysUseCache&gt;
  &lt;/GribIndexing&gt;
  --&gt;

  &lt;!--
  Persist joinNew aggregations to named directory. scour every 24 hours, delete stuff older than 90 days
  &lt;AggregationCache&gt;
    &lt;scour&gt;24 hours&lt;/scour&gt;
    &lt;maxAge&gt;90 days&lt;/maxAge&gt;
    &lt;cachePathPolicy&gt;NestedDirectory&lt;/cachePathPolicy&gt;
  &lt;/AggregationCache&gt;
  --&gt;

  &lt;!--
  How to choose the template dataset for an aggregation. latest, random, or penultimate
  &lt;Aggregation&gt;
    &lt;typicalDataset&gt;penultimate&lt;/typicalDataset&gt;
  &lt;/Aggregation&gt;
  --&gt;

  &lt;!--
  The Netcdf Subset Service is off by default.
  &lt;NetcdfSubsetService&gt;
    &lt;allow&gt;false&lt;/allow&gt;
    &lt;scour&gt;10 min&lt;/scour&gt;
    &lt;maxAge&gt;-1 min&lt;/maxAge&gt;
  &lt;/NetcdfSubsetService&gt;
  --&gt;

  &lt;!--
  &lt;Opendap&gt;
    &lt;ascLimit&gt;50&lt;/ascLimit&gt;
    &lt;binLimit&gt;500&lt;/binLimit&gt;
    &lt;serverVersion&gt;opendap/3.7&lt;/serverVersion&gt;
  &lt;/Opendap&gt;
    --&gt;
  
  &lt;!--
  The WCS Service is off by default.
  Also, off by default (and encouraged) is operating on a remote dataset.
  &lt;WCS&gt;
    &lt;allow&gt;false&lt;/allow&gt;
    &lt;allowRemote&gt;false&lt;/allowRemote&gt;
    &lt;scour&gt;15 min&lt;/scour&gt;
    &lt;maxAge&gt;30 min&lt;/maxAge&gt;
  &lt;/WCS&gt;
  --&gt;

  &lt;!--
  &lt;WMS&gt;
    &lt;allow&gt;false&lt;/allow&gt;
    &lt;allowRemote&gt;false&lt;/allowRemote&gt;
    &lt;maxImageWidth&gt;2048&lt;/maxImageWidth&gt;
    &lt;maxImageHeight&gt;2048&lt;/maxImageHeight&gt;
  &lt;/WMS&gt;
  --&gt;

  &lt;!--
  &lt;NCISO&gt;
    &lt;ncmlAllow&gt;false&lt;/ncmlAllow&gt;
    &lt;uddcAllow&gt;false&lt;/uddcAllow&gt;
    &lt;isoAllow&gt;false&lt;/isoAllow&gt;
  &lt;/NCISO&gt;
  --&gt;

  &lt;!-- CatalogGen service is off by default.
  &lt;CatalogGen&gt;
    &lt;allow&gt;false&lt;/allow&gt;
  &lt;/CatalogGen&gt;
   --&gt;

  &lt;!-- DLwriter service is off by default.
       As is support for operating on remote catalogs.
  &lt;DLwriter&gt;
    &lt;allow&gt;false&lt;/allow&gt;
    &lt;allowRemote&gt;false&lt;/allowRemote&gt;
  &lt;/DLwriter&gt;
   --&gt;

  &lt;!-- DqcService is off by default.
  &lt;DqcService&gt;
    &lt;allow&gt;false&lt;/allow&gt;
  &lt;/DqcService&gt;
   --&gt;

  &lt;!--
   Link to a Viewer application on the HTML page:
   &lt;Viewer&gt;my.package.MyViewer&lt;/Viewer&gt;
   --&gt;

   &lt;!--
   Add a DataSource - essentially an IOSP with access to Servlet request parameters
   &lt;datasetSource&gt;my.package.DatsetSourceImpl&lt;/datasetSource&gt;
   --&gt;

  &lt;!--
   set FeatureCollection logging
  &lt;FeatureCollection&gt;
     &lt;RollingFileAppender&gt;
       &lt;MaxFileSize&gt;1 MB&lt;/MaxFileSize&gt;
       &lt;MaxBackups&gt;5&lt;/MaxBackups&gt;
       &lt;Level&gt;INFO&lt;/Level&gt;
     &lt;/RollingFileAppender&gt;
  &lt;/FeatureCollection&gt;
  --&gt;

  &lt;!--
    Configure how the NetCDF-4 C library is discovered and used.
    libraryPath: The directory in which the native library is installed.
    libraryName: The name of the native library. This will be used to locate the proper .DLL, .SO, or .DYLIB file
      within the libraryPath directory.
    useForReading: By default, the native library is only used for writing NetCDF-4 files; a pure-Java layer is
      responsible for reading them. However, if this property is set to true, then it will be used for reading
      NetCDF-4 (and HDF5) files as well.
  --&gt;
  &lt;!--
  &lt;Netcdf4Clibrary&gt;
    &lt;libraryPath&gt;/usr/local/lib&lt;/libraryPath&gt;
    &lt;libraryName&gt;netcdf&lt;/libraryName&gt;
    &lt;useForReading&gt;false&lt;/useForReading&gt;
  &lt;/Netcdf4Clibrary&gt;
  --&gt;
&lt;/threddsConfig&gt;</code></pre>
</div>
<div id="update-the-catalog" class="section level3">
<h3><span class="header-section-number">21.5.4</span> Update the catalog</h3>
<p>For example to update the catalog with the latest data, run the following command from the root crontab. This cronjob will also synchronize the database with remote servers and dump your database (by default in /home/carya/dump)</p>
<pre><code>0 * * * * /home/carya/pecan/scripts/cron.sh -o /home/carya/dump</code></pre>
</div>
<div id="troubleshooting-2" class="section level3">
<h3><span class="header-section-number">21.5.5</span> Troubleshooting</h3>
<p>Refer to the log files for Tomcat (<code>/var/log/tomcat8/*</code>) and Thredds (<code>/home/carya/thredds/logs</code>).</p>
</div>
<div id="further-reading-1" class="section level3">
<h3><span class="header-section-number">21.5.6</span> Further reading</h3>
<ul>
<li><a href="http://www.unidata.ucar.edu/software/thredds/current/tds/">Thredds reference</a></li>
</ul>

</div>
</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="introduction-developer-guide.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="maintaining-pecan.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"google": false,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"all": ["facebook", "google", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/PecanProject/pecan/edit/master/book_source/05_developer_guide/01_setup/00_setup.Rmd",
"text": "Edit"
},
"history": {
"link": null,
"text": null
},
"download": null,
"toc": {
"collapse": "section"
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:" && /^https?:/.test(src))
      src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
